===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=0 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=0  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
pwm = True
cycle_time = 0.0001
shutdown_value = 0
maximum_mcu_duration = 5
default = 0 (disabled)

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Args: ['/home/klipper/klipper/klippy/klippy.py', '/home/klipper/printer_data/config/printer.cfg', '-I', '/home/klipper/printer_data/comms/klippy.serial', '-l', '/home/klipper/printer_data/logs/klippy.log', '-a', '/home/klipper/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-404-g80d185c94-dirty'
Untracked files: klippy/extras/gcode_shell_command.py, klippy/extras/led_effect.py
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.10.12 (main, Nov  6 2024, 20:22:13) [GCC 11.4.0]'
=============== Log rollover at Thu Jan  2 01:38:17 2025 ===============
Unable to issue reset command on MCU 'mcu'
webhooks client 281473793934288: Disconnected
Restarting printer
Start printer at Thu Jan  2 01:38:19 2025 (1735771099.0 15736.4)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=0 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=0  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281473797087888: New connection
webhooks client 281473797087888: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 15740.6: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=3270 bytes_read=6182 bytes_retransmit=0 bytes_invalid=0 send_seq=231 receive_seq=228 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2001 upcoming_bytes=172 freq=71994136  orange_pi: temp=43.9 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.08 cputime=490.298 memavail=1724568 print_time=10052.203 buffer_time=0.196 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281473797087888
webhooks: registering remote method 'reboot_machine' for connection id: 281473797087888
webhooks: registering remote method 'pause_job_queue' for connection id: 281473797087888
webhooks: registering remote method 'start_job_queue' for connection id: 281473797087888
Stats 15741.6: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=7382 bytes_read=7169 bytes_retransmit=0 bytes_invalid=0 send_seq=335 receive_seq=335 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71996032  orange_pi: temp=44.3 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.08 cputime=490.408 memavail=1723604 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15742.6: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=9334 bytes_read=8224 bytes_retransmit=0 bytes_invalid=0 send_seq=418 receive_seq=418 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997905  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.8 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.08 cputime=490.531 memavail=1723380 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15743.6: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000183 mcu_task_stddev=0.000281 bytes_write=11053 bytes_read=9016 bytes_retransmit=0 bytes_invalid=0 send_seq=480 receive_seq=480 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997706  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.07 cputime=490.608 memavail=1723388 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15744.6: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000183 mcu_task_stddev=0.000281 bytes_write=12838 bytes_read=9802 bytes_retransmit=0 bytes_invalid=0 send_seq=544 receive_seq=544 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997765  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.07 cputime=490.685 memavail=1722884 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15745.6: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000183 mcu_task_stddev=0.000281 bytes_write=14639 bytes_read=10610 bytes_retransmit=0 bytes_invalid=0 send_seq=608 receive_seq=608 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997764  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.07 cputime=490.766 memavail=1722884 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15746.6: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000183 mcu_task_stddev=0.000281 bytes_write=16480 bytes_read=11549 bytes_retransmit=0 bytes_invalid=0 send_seq=683 receive_seq=682 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997788  orange_pi: temp=43.6 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.07 cputime=490.851 memavail=1722884 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15747.6: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000183 mcu_task_stddev=0.000281 bytes_write=18335 bytes_read=12496 bytes_retransmit=0 bytes_invalid=0 send_seq=759 receive_seq=759 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997820  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.07 cputime=490.936 memavail=1722884 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15748.6: gcodein=0  mcu: mcu_awake=0.126 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=20181 bytes_read=13451 bytes_retransmit=0 bytes_invalid=0 send_seq=833 receive_seq=833 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997873  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.15 cputime=491.021 memavail=1722884 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15749.6: gcodein=0  mcu: mcu_awake=0.126 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=22105 bytes_read=14504 bytes_retransmit=0 bytes_invalid=0 send_seq=917 receive_seq=917 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71997886  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=491.113 memavail=1722892 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15750.6: gcodein=0  mcu: mcu_awake=0.126 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=24015 bytes_read=15558 bytes_retransmit=0 bytes_invalid=0 send_seq=1001 receive_seq=1001 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997906  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=491.202 memavail=1722640 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15751.6: gcodein=0  mcu: mcu_awake=0.126 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=25915 bytes_read=16587 bytes_retransmit=0 bytes_invalid=0 send_seq=1082 receive_seq=1082 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997925  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.15 cputime=491.289 memavail=1722640 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15752.6: gcodein=0  mcu: mcu_awake=0.126 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=27760 bytes_read=17445 bytes_retransmit=0 bytes_invalid=0 send_seq=1151 receive_seq=1151 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997950  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=491.370 memavail=1722640 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15753.6: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000284 mcu_task_stddev=0.000255 bytes_write=29510 bytes_read=18274 bytes_retransmit=0 bytes_invalid=0 send_seq=1217 receive_seq=1217 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997979  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=491.450 memavail=1722640 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15754.6: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000284 mcu_task_stddev=0.000255 bytes_write=31268 bytes_read=19038 bytes_retransmit=0 bytes_invalid=0 send_seq=1277 receive_seq=1277 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997991  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.14 cputime=491.531 memavail=1721896 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15755.6: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000284 mcu_task_stddev=0.000255 bytes_write=33055 bytes_read=19805 bytes_retransmit=0 bytes_invalid=0 send_seq=1340 receive_seq=1339 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998002  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=491.608 memavail=1722432 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15756.6: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000284 mcu_task_stddev=0.000255 bytes_write=34888 bytes_read=20747 bytes_retransmit=0 bytes_invalid=0 send_seq=1415 receive_seq=1415 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998027  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=491.692 memavail=1722432 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15757.6: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000284 mcu_task_stddev=0.000255 bytes_write=36744 bytes_read=21693 bytes_retransmit=0 bytes_invalid=0 send_seq=1489 receive_seq=1489 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998037  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.14 cputime=491.800 memavail=1722700 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15758.6: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000271 mcu_task_stddev=0.000261 bytes_write=38642 bytes_read=22737 bytes_retransmit=0 bytes_invalid=0 send_seq=1571 receive_seq=1571 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998040  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.12 cputime=491.889 memavail=1723368 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15759.6: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000271 mcu_task_stddev=0.000261 bytes_write=40517 bytes_read=23684 bytes_retransmit=0 bytes_invalid=0 send_seq=1648 receive_seq=1648 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998042  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.8 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.12 cputime=491.975 memavail=1723244 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15760.6: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000271 mcu_task_stddev=0.000261 bytes_write=42269 bytes_read=24469 bytes_retransmit=0 bytes_invalid=0 send_seq=1709 receive_seq=1709 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998059  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.12 cputime=492.054 memavail=1723504 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15761.6: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000271 mcu_task_stddev=0.000261 bytes_write=44166 bytes_read=25465 bytes_retransmit=0 bytes_invalid=0 send_seq=1789 receive_seq=1788 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998062  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.12 cputime=492.143 memavail=1723788 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15762.6: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000271 mcu_task_stddev=0.000261 bytes_write=46111 bytes_read=26503 bytes_retransmit=0 bytes_invalid=0 send_seq=1873 receive_seq=1872 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998062  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.12 cputime=492.231 memavail=1723552 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15763.6: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000271 mcu_task_stddev=0.000261 bytes_write=47825 bytes_read=27288 bytes_retransmit=0 bytes_invalid=0 send_seq=1933 receive_seq=1933 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998076  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.11 cputime=492.308 memavail=1723552 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15764.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000274 mcu_task_stddev=0.000257 bytes_write=49723 bytes_read=28306 bytes_retransmit=0 bytes_invalid=0 send_seq=2013 receive_seq=2013 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998076  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.11 cputime=492.397 memavail=1724124 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15765.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000274 mcu_task_stddev=0.000257 bytes_write=51685 bytes_read=29417 bytes_retransmit=0 bytes_invalid=0 send_seq=2102 receive_seq=2102 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998076  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.8 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.11 cputime=492.491 memavail=1724148 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15766.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000274 mcu_task_stddev=0.000257 bytes_write=53604 bytes_read=30441 bytes_retransmit=0 bytes_invalid=0 send_seq=2183 receive_seq=2182 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998077  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.11 cputime=492.582 memavail=1724148 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15767.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000274 mcu_task_stddev=0.000257 bytes_write=55328 bytes_read=31211 bytes_retransmit=0 bytes_invalid=0 send_seq=2244 receive_seq=2244 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998099  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.11 cputime=492.660 memavail=1723928 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 15768.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000274 mcu_task_stddev=0.000257 bytes_write=57105 bytes_read=31997 bytes_retransmit=0 bytes_invalid=0 send_seq=2308 receive_seq=2308 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998107  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.10 cputime=492.738 memavail=1723928 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15769.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=59059 bytes_read=33051 bytes_retransmit=0 bytes_invalid=0 send_seq=2391 receive_seq=2390 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998113  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.10 cputime=492.829 memavail=1723928 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15770.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=60932 bytes_read=34114 bytes_retransmit=0 bytes_invalid=0 send_seq=2475 receive_seq=2475 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998110  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.10 cputime=492.916 memavail=1723928 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15771.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=62759 bytes_read=34968 bytes_retransmit=0 bytes_invalid=0 send_seq=2545 receive_seq=2545 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.10 cputime=493.000 memavail=1723932 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15772.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=64581 bytes_read=35806 bytes_retransmit=0 bytes_invalid=0 send_seq=2612 receive_seq=2612 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.10 cputime=493.082 memavail=1723932 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15773.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=66456 bytes_read=36771 bytes_retransmit=0 bytes_invalid=0 send_seq=2689 receive_seq=2688 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998115  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.10 cputime=493.171 memavail=1724988 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15774.6: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000256 bytes_write=68200 bytes_read=37566 bytes_retransmit=0 bytes_invalid=0 send_seq=2752 receive_seq=2752 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998119  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.10 cputime=493.251 memavail=1725260 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15775.6: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000256 bytes_write=69992 bytes_read=38408 bytes_retransmit=0 bytes_invalid=0 send_seq=2818 receive_seq=2818 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998118  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.10 cputime=493.332 memavail=1725260 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15776.6: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000256 bytes_write=71811 bytes_read=39261 bytes_retransmit=0 bytes_invalid=0 send_seq=2887 receive_seq=2886 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998120  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.10 cputime=493.414 memavail=1725784 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15777.6: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000256 bytes_write=73607 bytes_read=40104 bytes_retransmit=0 bytes_invalid=0 send_seq=2955 receive_seq=2955 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998120  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.10 cputime=493.496 memavail=1726308 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15778.6: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000256 bytes_write=75334 bytes_read=40816 bytes_retransmit=0 bytes_invalid=0 send_seq=3011 receive_seq=3011 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998120  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.09 cputime=493.573 memavail=1727084 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15779.6: gcodein=0  mcu: mcu_awake=0.109 mcu_task_avg=0.000255 mcu_task_stddev=0.000262 bytes_write=77171 bytes_read=41790 bytes_retransmit=0 bytes_invalid=0 send_seq=3087 receive_seq=3087 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998125  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.09 cputime=493.659 memavail=1727116 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15780.6: gcodein=0  mcu: mcu_awake=0.109 mcu_task_avg=0.000255 mcu_task_stddev=0.000262 bytes_write=78999 bytes_read=42620 bytes_retransmit=0 bytes_invalid=0 send_seq=3156 receive_seq=3155 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998124  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.09 cputime=493.739 memavail=1727116 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15781.6: gcodein=0  mcu: mcu_awake=0.109 mcu_task_avg=0.000255 mcu_task_stddev=0.000262 bytes_write=80855 bytes_read=43579 bytes_retransmit=0 bytes_invalid=0 send_seq=3230 receive_seq=3230 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998124  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.09 cputime=493.824 memavail=1727116 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15782.6: gcodein=0  mcu: mcu_awake=0.109 mcu_task_avg=0.000255 mcu_task_stddev=0.000262 bytes_write=82605 bytes_read=44406 bytes_retransmit=0 bytes_invalid=0 send_seq=3296 receive_seq=3296 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998123  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.09 cputime=493.905 memavail=1727116 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15783.6: gcodein=0  mcu: mcu_awake=0.109 mcu_task_avg=0.000255 mcu_task_stddev=0.000262 bytes_write=84461 bytes_read=45249 bytes_retransmit=0 bytes_invalid=0 send_seq=3366 receive_seq=3365 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.08 cputime=493.987 memavail=1727116 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15784.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=86268 bytes_read=46134 bytes_retransmit=0 bytes_invalid=0 send_seq=3433 receive_seq=3433 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998126  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.08 cputime=494.071 memavail=1727920 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15785.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=88055 bytes_read=47073 bytes_retransmit=0 bytes_invalid=0 send_seq=3507 receive_seq=3507 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=44.4 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.08 cputime=494.156 memavail=1728220 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15786.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=89931 bytes_read=47950 bytes_retransmit=0 bytes_invalid=0 send_seq=3578 receive_seq=3578 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998126  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.08 cputime=494.238 memavail=1728744 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15787.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=91851 bytes_read=48992 bytes_retransmit=0 bytes_invalid=0 send_seq=3661 receive_seq=3660 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998125  orange_pi: temp=42.9 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.08 cputime=494.325 memavail=1729256 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15788.6: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=93760 bytes_read=50032 bytes_retransmit=0 bytes_invalid=0 send_seq=3743 receive_seq=3743 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998185  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=494.414 memavail=1729540 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15789.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000290 mcu_task_stddev=0.000260 bytes_write=95706 bytes_read=51165 bytes_retransmit=0 bytes_invalid=0 send_seq=3833 receive_seq=3833 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998178  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=494.503 memavail=1729540 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15790.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000290 mcu_task_stddev=0.000260 bytes_write=97543 bytes_read=52085 bytes_retransmit=0 bytes_invalid=0 send_seq=3905 receive_seq=3905 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998173  orange_pi: temp=42.6 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=494.585 memavail=1729292 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15791.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000290 mcu_task_stddev=0.000260 bytes_write=99345 bytes_read=52912 bytes_retransmit=0 bytes_invalid=0 send_seq=3971 receive_seq=3971 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998168  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.15 cputime=494.665 memavail=1728696 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15792.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000290 mcu_task_stddev=0.000260 bytes_write=101221 bytes_read=53846 bytes_retransmit=0 bytes_invalid=0 send_seq=4048 receive_seq=4047 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998163  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=494.752 memavail=1728060 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15793.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000290 mcu_task_stddev=0.000260 bytes_write=103145 bytes_read=54974 bytes_retransmit=0 bytes_invalid=0 send_seq=4135 receive_seq=4135 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998161  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.14 cputime=494.842 memavail=1727304 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15794.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=104921 bytes_read=55771 bytes_retransmit=0 bytes_invalid=0 send_seq=4198 receive_seq=4198 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998158  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=494.924 memavail=1726844 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15795.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=106794 bytes_read=56731 bytes_retransmit=0 bytes_invalid=0 send_seq=4276 receive_seq=4276 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998154  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=495.010 memavail=1726600 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15796.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=108607 bytes_read=57604 bytes_retransmit=0 bytes_invalid=0 send_seq=4345 receive_seq=4345 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998156  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.14 cputime=495.090 memavail=1725844 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15797.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=110521 bytes_read=58665 bytes_retransmit=0 bytes_invalid=0 send_seq=4429 receive_seq=4429 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998159  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.14 cputime=495.178 memavail=1724520 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15798.6: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=112402 bytes_read=59612 bytes_retransmit=0 bytes_invalid=0 send_seq=4507 receive_seq=4506 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998155  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.13 cputime=495.263 memavail=1724416 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15799.6: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=114224 bytes_read=60476 bytes_retransmit=0 bytes_invalid=0 send_seq=4574 receive_seq=4573 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998152  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.13 cputime=495.344 memavail=1725428 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15800.6: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=115980 bytes_read=61311 bytes_retransmit=0 bytes_invalid=0 send_seq=4639 receive_seq=4639 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998149  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.13 cputime=495.425 memavail=1725192 print_time=10052.203 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15818.7: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000283 mcu_task_stddev=0.000257 bytes_write=148991 bytes_read=77528 bytes_retransmit=0 bytes_invalid=0 send_seq=5931 receive_seq=5931 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998144  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=496.914 memavail=1726676 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15819.7: gcodein=0  mcu: mcu_awake=0.110 mcu_task_avg=0.000256 mcu_task_stddev=0.000265 bytes_write=150821 bytes_read=78440 bytes_retransmit=0 bytes_invalid=0 send_seq=6004 receive_seq=6004 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=496.999 memavail=1726676 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15820.7: gcodein=0  mcu: mcu_awake=0.110 mcu_task_avg=0.000256 mcu_task_stddev=0.000265 bytes_write=152849 bytes_read=79672 bytes_retransmit=0 bytes_invalid=0 send_seq=6100 receive_seq=6100 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.7 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=497.093 memavail=1726680 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15821.7: gcodein=0  mcu: mcu_awake=0.110 mcu_task_avg=0.000256 mcu_task_stddev=0.000265 bytes_write=154704 bytes_read=80603 bytes_retransmit=0 bytes_invalid=0 send_seq=6174 receive_seq=6174 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=497.179 memavail=1726944 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15822.7: gcodein=0  mcu: mcu_awake=0.110 mcu_task_avg=0.000256 mcu_task_stddev=0.000265 bytes_write=156460 bytes_read=81337 bytes_retransmit=0 bytes_invalid=0 send_seq=6235 receive_seq=6234 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.15 cputime=497.256 memavail=1727476 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15823.7: gcodein=0  mcu: mcu_awake=0.110 mcu_task_avg=0.000256 mcu_task_stddev=0.000265 bytes_write=158313 bytes_read=82335 bytes_retransmit=0 bytes_invalid=0 send_seq=6312 receive_seq=6312 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.14 cputime=497.342 memavail=1727472 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15824.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000257 bytes_write=160273 bytes_read=83465 bytes_retransmit=0 bytes_invalid=0 send_seq=6400 receive_seq=6400 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.14 cputime=497.436 memavail=1726720 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15825.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000257 bytes_write=162203 bytes_read=84516 bytes_retransmit=0 bytes_invalid=0 send_seq=6485 receive_seq=6485 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=497.526 memavail=1726972 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15826.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000257 bytes_write=164047 bytes_read=85480 bytes_retransmit=0 bytes_invalid=0 send_seq=6561 receive_seq=6561 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=497.613 memavail=1726972 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15827.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000257 bytes_write=165898 bytes_read=86398 bytes_retransmit=0 bytes_invalid=0 send_seq=6634 receive_seq=6634 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=497.697 memavail=1726972 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15828.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000257 bytes_write=167733 bytes_read=87278 bytes_retransmit=0 bytes_invalid=0 send_seq=6705 receive_seq=6705 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.6 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.21 cputime=497.782 memavail=1726220 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15829.7: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=169648 bytes_read=88339 bytes_retransmit=0 bytes_invalid=0 send_seq=6789 receive_seq=6789 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998140  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.21 cputime=497.871 memavail=1725988 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15830.7: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=171535 bytes_read=89350 bytes_retransmit=0 bytes_invalid=0 send_seq=6870 receive_seq=6870 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.21 cputime=497.958 memavail=1725484 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15831.7: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=173263 bytes_read=90028 bytes_retransmit=0 bytes_invalid=0 send_seq=6926 receive_seq=6926 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.21 cputime=498.036 memavail=1726008 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15832.7: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=175184 bytes_read=91077 bytes_retransmit=0 bytes_invalid=0 send_seq=7010 receive_seq=7010 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.8 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.21 cputime=498.127 memavail=1727036 print_time=10129.348 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Heater chamber_heater approaching new target of 65.000
Stats 15833.7: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000282 mcu_task_stddev=0.000256 bytes_write=177024 bytes_read=91982 bytes_retransmit=0 bytes_invalid=0 send_seq=7082 receive_seq=7082 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.1 chamber_heater: target=65 temp=26.6 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.27 cputime=498.218 memavail=1727196 print_time=10144.482 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15834.7: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=178918 bytes_read=92893 bytes_retransmit=0 bytes_invalid=0 send_seq=7155 receive_seq=7155 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.3 chamber_heater: target=65 temp=26.5 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.27 cputime=498.305 memavail=1727892 print_time=10145.486 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15835.7: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=180818 bytes_read=93881 bytes_retransmit=0 bytes_invalid=0 send_seq=7234 receive_seq=7234 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.5 chamber_heater: target=65 temp=26.6 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.27 cputime=498.397 memavail=1727892 print_time=10146.487 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15836.7: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=182692 bytes_read=94882 bytes_retransmit=0 bytes_invalid=0 send_seq=7314 receive_seq=7314 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.4 chamber_heater: target=65 temp=26.7 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.27 cputime=498.492 memavail=1727640 print_time=10147.488 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15837.7: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=184695 bytes_read=96034 bytes_retransmit=0 bytes_invalid=0 send_seq=7405 receive_seq=7405 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.0 chamber_heater: target=65 temp=26.6 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.27 cputime=498.589 memavail=1727148 print_time=10148.488 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15838.7: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=186472 bytes_read=96793 bytes_retransmit=0 bytes_invalid=0 send_seq=7467 receive_seq=7467 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=45.4 chamber_heater: target=65 temp=26.7 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.25 cputime=498.673 memavail=1726900 print_time=10149.488 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15839.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000273 mcu_task_stddev=0.000253 bytes_write=188395 bytes_read=97858 bytes_retransmit=0 bytes_invalid=0 send_seq=7551 receive_seq=7550 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=42.9 chamber_heater: target=65 temp=26.9 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.25 cputime=498.768 memavail=1727180 print_time=10150.489 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15840.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000273 mcu_task_stddev=0.000253 bytes_write=190324 bytes_read=98950 bytes_retransmit=0 bytes_invalid=0 send_seq=7637 receive_seq=7637 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.2 chamber_heater: target=65 temp=27.0 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.25 cputime=498.864 memavail=1727192 print_time=10151.490 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15841.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000273 mcu_task_stddev=0.000253 bytes_write=192170 bytes_read=99821 bytes_retransmit=0 bytes_invalid=0 send_seq=7707 receive_seq=7707 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=43.1 chamber_heater: target=65 temp=27.3 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.25 cputime=498.951 memavail=1727076 print_time=10152.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15842.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000273 mcu_task_stddev=0.000253 bytes_write=194046 bytes_read=100770 bytes_retransmit=0 bytes_invalid=0 send_seq=7783 receive_seq=7783 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.2 chamber_heater: target=65 temp=27.4 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.25 cputime=499.041 memavail=1727212 print_time=10153.492 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15843.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000273 mcu_task_stddev=0.000253 bytes_write=195866 bytes_read=101688 bytes_retransmit=0 bytes_invalid=0 send_seq=7856 receive_seq=7856 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.0 chamber_heater: target=65 temp=27.5 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.23 cputime=499.127 memavail=1726100 print_time=10154.493 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15844.7: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000254 bytes_write=197796 bytes_read=102724 bytes_retransmit=0 bytes_invalid=0 send_seq=7938 receive_seq=7938 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.2 chamber_heater: target=65 temp=27.7 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.23 cputime=499.220 memavail=1724708 print_time=10155.494 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15845.7: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000254 bytes_write=199585 bytes_read=103491 bytes_retransmit=0 bytes_invalid=0 send_seq=8000 receive_seq=8000 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.4 chamber_heater: target=65 temp=27.8 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.23 cputime=499.302 memavail=1724496 print_time=10156.494 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15846.7: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000254 bytes_write=201331 bytes_read=104271 bytes_retransmit=0 bytes_invalid=0 send_seq=8063 receive_seq=8063 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.3 chamber_heater: target=65 temp=28.0 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.23 cputime=499.386 memavail=1725000 print_time=10157.494 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15847.7: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000254 bytes_write=203296 bytes_read=105350 bytes_retransmit=0 bytes_invalid=0 send_seq=8149 receive_seq=8149 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=42.8 chamber_heater: target=65 temp=28.3 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.23 cputime=499.477 memavail=1725004 print_time=10158.494 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15848.7: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000254 bytes_write=205198 bytes_read=106343 bytes_retransmit=0 bytes_invalid=0 send_seq=8229 receive_seq=8229 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=42.9 chamber_heater: target=65 temp=28.6 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.21 cputime=499.570 memavail=1725036 print_time=10159.494 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15849.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000279 mcu_task_stddev=0.000260 bytes_write=207060 bytes_read=107249 bytes_retransmit=0 bytes_invalid=0 send_seq=8302 receive_seq=8301 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.3 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.21 cputime=499.662 memavail=1724784 print_time=10160.668 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15850.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000279 mcu_task_stddev=0.000260 bytes_write=208836 bytes_read=108089 bytes_retransmit=0 bytes_invalid=0 send_seq=8368 receive_seq=8368 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.4 chamber_heater: target=0 temp=29.0 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.21 cputime=499.743 memavail=1724284 print_time=10160.668 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15851.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000279 mcu_task_stddev=0.000260 bytes_write=210724 bytes_read=109064 bytes_retransmit=0 bytes_invalid=0 send_seq=8446 receive_seq=8446 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=42.8 chamber_heater: target=0 temp=29.1 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.21 cputime=499.829 memavail=1724060 print_time=10160.668 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15852.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000279 mcu_task_stddev=0.000260 bytes_write=212591 bytes_read=110013 bytes_retransmit=0 bytes_invalid=0 send_seq=8522 receive_seq=8522 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.2 chamber_heater: target=0 temp=29.6 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.21 cputime=499.916 memavail=1723304 print_time=10160.668 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15853.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000279 mcu_task_stddev=0.000260 bytes_write=214425 bytes_read=110983 bytes_retransmit=0 bytes_invalid=0 send_seq=8599 receive_seq=8599 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.3 chamber_heater: target=0 temp=29.9 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.20 cputime=500.002 memavail=1722796 print_time=10160.668 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15854.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000283 mcu_task_stddev=0.000261 bytes_write=216286 bytes_read=111897 bytes_retransmit=0 bytes_invalid=0 send_seq=8671 receive_seq=8671 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.3 chamber_heater: target=0 temp=29.8 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.20 cputime=500.088 memavail=1722548 print_time=10160.668 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15855.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000283 mcu_task_stddev=0.000261 bytes_write=218212 bytes_read=112950 bytes_retransmit=0 bytes_invalid=0 send_seq=8755 receive_seq=8755 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.6 chamber_heater: target=0 temp=30.1 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.20 cputime=500.182 memavail=1723040 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15856.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000283 mcu_task_stddev=0.000261 bytes_write=220011 bytes_read=113860 bytes_retransmit=0 bytes_invalid=0 send_seq=8828 receive_seq=8828 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998142  orange_pi: temp=42.9 chamber_heater: target=0 temp=30.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.20 cputime=500.268 memavail=1723828 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15857.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000283 mcu_task_stddev=0.000261 bytes_write=221903 bytes_read=114817 bytes_retransmit=0 bytes_invalid=0 send_seq=8904 receive_seq=8904 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=42.9 chamber_heater: target=0 temp=30.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.20 cputime=500.353 memavail=1723856 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15858.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000283 mcu_task_stddev=0.000261 bytes_write=223710 bytes_read=115657 bytes_retransmit=0 bytes_invalid=0 send_seq=8971 receive_seq=8971 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998142  orange_pi: temp=42.8 chamber_heater: target=0 temp=30.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.18 cputime=500.436 memavail=1724136 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15859.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000284 mcu_task_stddev=0.000260 bytes_write=225666 bytes_read=116779 bytes_retransmit=0 bytes_invalid=0 send_seq=9060 receive_seq=9059 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998172  orange_pi: temp=43.2 chamber_heater: target=0 temp=30.6 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.18 cputime=500.531 memavail=1724648 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15860.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000284 mcu_task_stddev=0.000260 bytes_write=227524 bytes_read=117788 bytes_retransmit=0 bytes_invalid=0 send_seq=9139 receive_seq=9139 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998170  orange_pi: temp=42.9 chamber_heater: target=0 temp=30.7 pwm=0.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.18 cputime=500.619 memavail=1725436 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15861.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000284 mcu_task_stddev=0.000260 bytes_write=229429 bytes_read=118789 bytes_retransmit=0 bytes_invalid=0 send_seq=9219 receive_seq=9219 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998193  orange_pi: temp=43.4 chamber_heater: target=0 temp=30.7 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.18 cputime=500.708 memavail=1725676 print_time=10166.678 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15862.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000284 mcu_task_stddev=0.000260 bytes_write=231263 bytes_read=119660 bytes_retransmit=0 bytes_invalid=0 send_seq=9289 receive_seq=9289 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998189  orange_pi: temp=43.0 chamber_heater: target=50 temp=30.8 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.18 cputime=500.797 memavail=1725436 print_time=10173.978 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Heater chamber_heater approaching new target of 50.000
Stats 15863.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000284 mcu_task_stddev=0.000260 bytes_write=233142 bytes_read=120687 bytes_retransmit=0 bytes_invalid=0 send_seq=9371 receive_seq=9371 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998186  orange_pi: temp=43.2 chamber_heater: target=50 temp=30.8 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.17 cputime=500.891 memavail=1725436 print_time=10174.982 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15864.7: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=234982 bytes_read=121557 bytes_retransmit=0 bytes_invalid=0 send_seq=9439 receive_seq=9439 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998182  orange_pi: temp=43.3 chamber_heater: target=50 temp=30.9 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.17 cputime=500.978 memavail=1724944 print_time=10175.982 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15865.7: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=236763 bytes_read=122324 bytes_retransmit=0 bytes_invalid=0 send_seq=9501 receive_seq=9501 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998179  orange_pi: temp=44.5 chamber_heater: target=50 temp=30.8 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.17 cputime=501.061 memavail=1725480 print_time=10176.983 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15866.7: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=238516 bytes_read=123135 bytes_retransmit=0 bytes_invalid=0 send_seq=9567 receive_seq=9567 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998177  orange_pi: temp=43.5 chamber_heater: target=50 temp=30.8 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.17 cputime=501.145 memavail=1726244 print_time=10177.983 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15867.7: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=240509 bytes_read=124248 bytes_retransmit=0 bytes_invalid=0 send_seq=9655 receive_seq=9655 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998176  orange_pi: temp=43.3 chamber_heater: target=50 temp=30.9 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.17 cputime=501.239 memavail=1726780 print_time=10178.984 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15868.7: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=242394 bytes_read=125204 bytes_retransmit=0 bytes_invalid=0 send_seq=9732 receive_seq=9731 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998173  orange_pi: temp=42.7 chamber_heater: target=50 temp=31.0 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=501.330 memavail=1726780 print_time=10179.984 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15869.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=244261 bytes_read=126134 bytes_retransmit=0 bytes_invalid=0 send_seq=9807 receive_seq=9806 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998170  orange_pi: temp=43.1 chamber_heater: target=50 temp=31.3 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=501.420 memavail=1726780 print_time=10180.985 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15870.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=246137 bytes_read=127169 bytes_retransmit=0 bytes_invalid=0 send_seq=9888 receive_seq=9888 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998169  orange_pi: temp=43.4 chamber_heater: target=50 temp=30.9 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.15 cputime=501.509 memavail=1726528 print_time=10181.986 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15871.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=248203 bytes_read=128445 bytes_retransmit=0 bytes_invalid=0 send_seq=9988 receive_seq=9988 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998166  orange_pi: temp=43.3 chamber_heater: target=50 temp=31.3 pwm=1.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.15 cputime=501.610 memavail=1726296 print_time=10182.988 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15872.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=250124 bytes_read=129457 bytes_retransmit=0 bytes_invalid=0 send_seq=10070 receive_seq=10070 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998164  orange_pi: temp=43.7 chamber_heater: target=50 temp=31.2 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.15 cputime=501.704 memavail=1726300 print_time=10183.991 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15873.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000275 mcu_task_stddev=0.000261 bytes_write=251907 bytes_read=130310 bytes_retransmit=0 bytes_invalid=0 send_seq=10138 receive_seq=10138 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998162  orange_pi: temp=43.3 chamber_heater: target=50 temp=31.5 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.14 cputime=501.790 memavail=1727044 print_time=10184.992 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15874.7: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=253809 bytes_read=131304 bytes_retransmit=0 bytes_invalid=0 send_seq=10215 receive_seq=10215 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998159  orange_pi: temp=43.1 chamber_heater: target=50 temp=31.5 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=501.879 memavail=1727124 print_time=10185.995 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15875.7: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=255719 bytes_read=132282 bytes_retransmit=0 bytes_invalid=0 send_seq=10295 receive_seq=10295 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998157  orange_pi: temp=43.6 chamber_heater: target=50 temp=31.6 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=501.971 memavail=1728136 print_time=10187.172 buffer_time=0.089 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15876.7: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=257580 bytes_read=133205 bytes_retransmit=0 bytes_invalid=0 send_seq=10370 receive_seq=10369 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998156  orange_pi: temp=43.9 chamber_heater: target=50 temp=32.0 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=502.059 memavail=1728424 print_time=10188.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15877.7: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=259470 bytes_read=134255 bytes_retransmit=0 bytes_invalid=0 send_seq=10451 receive_seq=10451 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998154  orange_pi: temp=43.5 chamber_heater: target=50 temp=32.0 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.14 cputime=502.150 memavail=1728692 print_time=10189.003 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15878.7: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=261344 bytes_read=135168 bytes_retransmit=0 bytes_invalid=0 send_seq=10526 receive_seq=10526 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998152  orange_pi: temp=44.1 chamber_heater: target=50 temp=32.1 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.13 cputime=502.238 memavail=1728192 print_time=10190.006 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15879.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000288 mcu_task_stddev=0.000259 bytes_write=263228 bytes_read=136134 bytes_retransmit=0 bytes_invalid=0 send_seq=10602 receive_seq=10602 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998151  orange_pi: temp=43.1 chamber_heater: target=50 temp=32.3 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.13 cputime=502.329 memavail=1728440 print_time=10191.008 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15880.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000288 mcu_task_stddev=0.000259 bytes_write=265023 bytes_read=136986 bytes_retransmit=0 bytes_invalid=0 send_seq=10670 receive_seq=10670 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998152  orange_pi: temp=43.5 chamber_heater: target=50 temp=32.5 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.13 cputime=502.416 memavail=1728448 print_time=10192.011 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15881.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000288 mcu_task_stddev=0.000259 bytes_write=266876 bytes_read=137876 bytes_retransmit=0 bytes_invalid=0 send_seq=10742 receive_seq=10742 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998150  orange_pi: temp=43.3 chamber_heater: target=50 temp=32.6 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.13 cputime=502.501 memavail=1728448 print_time=10193.012 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15882.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000288 mcu_task_stddev=0.000259 bytes_write=268762 bytes_read=138838 bytes_retransmit=0 bytes_invalid=0 send_seq=10819 receive_seq=10819 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998150  orange_pi: temp=42.6 chamber_heater: target=50 temp=32.9 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.13 cputime=502.591 memavail=1728448 print_time=10194.015 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15883.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000288 mcu_task_stddev=0.000259 bytes_write=270499 bytes_read=139612 bytes_retransmit=0 bytes_invalid=0 send_seq=10881 receive_seq=10881 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998148  orange_pi: temp=43.3 chamber_heater: target=50 temp=33.1 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.12 cputime=502.673 memavail=1728448 print_time=10195.016 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15884.7: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=272354 bytes_read=140477 bytes_retransmit=0 bytes_invalid=0 send_seq=10951 receive_seq=10951 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=42.1 chamber_heater: target=50 temp=33.3 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.12 cputime=502.760 memavail=1727692 print_time=10196.019 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15885.7: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=274231 bytes_read=141413 bytes_retransmit=0 bytes_invalid=0 send_seq=11027 receive_seq=11026 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998146  orange_pi: temp=43.9 chamber_heater: target=50 temp=33.6 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.12 cputime=502.847 memavail=1727440 print_time=10197.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15886.7: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=276131 bytes_read=142434 bytes_retransmit=0 bytes_invalid=0 send_seq=11107 receive_seq=11107 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.1 chamber_heater: target=50 temp=33.8 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.12 cputime=502.938 memavail=1726936 print_time=10198.024 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15887.7: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=277961 bytes_read=143321 bytes_retransmit=0 bytes_invalid=0 send_seq=11180 receive_seq=11180 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998144  orange_pi: temp=43.2 chamber_heater: target=50 temp=33.9 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.12 cputime=503.025 memavail=1726184 print_time=10199.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 15888.7: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=279853 bytes_read=144242 bytes_retransmit=0 bytes_invalid=0 send_seq=11256 receive_seq=11255 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=42.9 chamber_heater: target=50 temp=34.4 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.11 cputime=503.113 memavail=1726456 print_time=10200.022 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15889.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=281770 bytes_read=145294 bytes_retransmit=0 bytes_invalid=0 send_seq=11338 receive_seq=11338 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=42.9 chamber_heater: target=50 temp=34.4 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.11 cputime=503.205 memavail=1725972 print_time=10201.023 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15890.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=283543 bytes_read=146082 bytes_retransmit=0 bytes_invalid=0 send_seq=11404 receive_seq=11404 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.0 chamber_heater: target=50 temp=34.5 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.11 cputime=503.289 memavail=1725972 print_time=10202.023 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15891.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=285554 bytes_read=147258 bytes_retransmit=0 bytes_invalid=0 send_seq=11497 receive_seq=11497 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.0 chamber_heater: target=50 temp=34.6 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.11 cputime=503.387 memavail=1726496 print_time=10203.023 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15892.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=287502 bytes_read=148339 bytes_retransmit=0 bytes_invalid=0 send_seq=11582 receive_seq=11582 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.0 chamber_heater: target=50 temp=34.9 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.11 cputime=503.479 memavail=1726496 print_time=10204.024 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15893.7: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=289318 bytes_read=149252 bytes_retransmit=0 bytes_invalid=0 send_seq=11657 receive_seq=11657 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.1 chamber_heater: target=50 temp=35.1 pwm=1.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.10 cputime=503.566 memavail=1726496 print_time=10205.025 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15894.7: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000256 bytes_write=291273 bytes_read=150322 bytes_retransmit=0 bytes_invalid=0 send_seq=11741 receive_seq=11741 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=42.9 chamber_heater: target=50 temp=35.2 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.10 cputime=503.658 memavail=1725740 print_time=10206.025 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15895.7: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000256 bytes_write=293156 bytes_read=151283 bytes_retransmit=0 bytes_invalid=0 send_seq=11818 receive_seq=11818 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.3 chamber_heater: target=50 temp=35.1 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.10 cputime=503.749 memavail=1725740 print_time=10207.025 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15896.7: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000256 bytes_write=295145 bytes_read=152412 bytes_retransmit=0 bytes_invalid=0 send_seq=11909 receive_seq=11909 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.1 chamber_heater: target=50 temp=35.6 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.10 cputime=503.846 memavail=1725744 print_time=10208.026 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15897.7: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000256 bytes_write=296872 bytes_read=153153 bytes_retransmit=0 bytes_invalid=0 send_seq=11969 receive_seq=11969 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998167  orange_pi: temp=43.0 chamber_heater: target=50 temp=35.8 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.10 cputime=503.927 memavail=1725492 print_time=10209.027 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15898.7: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000256 bytes_write=298704 bytes_read=154005 bytes_retransmit=0 bytes_invalid=0 send_seq=12037 receive_seq=12037 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998193  orange_pi: temp=43.1 chamber_heater: target=50 temp=35.9 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.09 cputime=504.014 memavail=1725240 print_time=10210.028 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15899.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000276 mcu_task_stddev=0.000259 bytes_write=300590 bytes_read=154969 bytes_retransmit=0 bytes_invalid=0 send_seq=12114 receive_seq=12114 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998189  orange_pi: temp=43.0 chamber_heater: target=50 temp=36.2 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.09 cputime=504.106 memavail=1724736 print_time=10211.028 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15900.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000276 mcu_task_stddev=0.000259 bytes_write=302422 bytes_read=155856 bytes_retransmit=0 bytes_invalid=0 send_seq=12185 receive_seq=12184 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=0 freq=71998185  orange_pi: temp=42.8 chamber_heater: target=50 temp=36.3 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.09 cputime=504.194 memavail=1723980 print_time=10212.029 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15901.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000276 mcu_task_stddev=0.000259 bytes_write=304285 bytes_read=156807 bytes_retransmit=0 bytes_invalid=0 send_seq=12259 receive_seq=12259 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998181  orange_pi: temp=43.1 chamber_heater: target=50 temp=36.7 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.09 cputime=504.280 memavail=1723728 print_time=10213.029 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 15902.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000276 mcu_task_stddev=0.000259 bytes_write=306264 bytes_read=157928 bytes_retransmit=0 bytes_invalid=0 send_seq=12350 receive_seq=12350 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998178  orange_pi: temp=43.0 chamber_heater: target=50 temp=36.5 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.09 cputime=504.374 memavail=1723728 print_time=10214.029 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15903.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000276 mcu_task_stddev=0.000259 bytes_write=308060 bytes_read=158726 bytes_retransmit=0 bytes_invalid=0 send_seq=12416 receive_seq=12415 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998207  orange_pi: temp=43.1 chamber_heater: target=50 temp=36.7 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.08 cputime=504.459 memavail=1723728 print_time=10215.030 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15904.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=309874 bytes_read=159637 bytes_retransmit=0 bytes_invalid=0 send_seq=12485 receive_seq=12485 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998201  orange_pi: temp=43.1 chamber_heater: target=50 temp=37.0 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.08 cputime=504.547 memavail=1723228 print_time=10216.031 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15905.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=311750 bytes_read=160558 bytes_retransmit=0 bytes_invalid=0 send_seq=12560 receive_seq=12560 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998196  orange_pi: temp=42.5 chamber_heater: target=50 temp=37.1 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.08 cputime=504.636 memavail=1722752 print_time=10217.031 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15906.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=313577 bytes_read=161403 bytes_retransmit=0 bytes_invalid=0 send_seq=12629 receive_seq=12628 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998192  orange_pi: temp=43.3 chamber_heater: target=50 temp=37.3 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.08 cputime=504.722 memavail=1723536 print_time=10218.032 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15907.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=315362 bytes_read=162289 bytes_retransmit=0 bytes_invalid=0 send_seq=12698 receive_seq=12698 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998201  orange_pi: temp=43.3 chamber_heater: target=50 temp=37.4 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.08 cputime=504.808 memavail=1723816 print_time=10219.033 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15908.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000278 mcu_task_stddev=0.000257 bytes_write=317195 bytes_read=163098 bytes_retransmit=0 bytes_invalid=0 send_seq=12765 receive_seq=12765 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998197  orange_pi: temp=43.3 chamber_heater: target=50 temp=37.5 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.08 cputime=504.894 memavail=1723060 print_time=10220.034 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15909.7: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000260 bytes_write=319101 bytes_read=164110 bytes_retransmit=0 bytes_invalid=0 send_seq=12844 receive_seq=12844 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998193  orange_pi: temp=43.1 chamber_heater: target=50 temp=37.8 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.08 cputime=504.984 memavail=1722576 print_time=10221.034 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15910.7: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000260 bytes_write=320915 bytes_read=164989 bytes_retransmit=0 bytes_invalid=0 send_seq=12915 receive_seq=12914 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998187  orange_pi: temp=43.0 chamber_heater: target=50 temp=37.8 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.08 cputime=505.071 memavail=1722072 print_time=10222.035 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15911.7: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000260 bytes_write=322850 bytes_read=166032 bytes_retransmit=0 bytes_invalid=0 send_seq=12999 receive_seq=12999 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998183  orange_pi: temp=43.5 chamber_heater: target=50 temp=38.0 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.08 cputime=505.163 memavail=1721348 print_time=10223.035 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15912.7: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000260 bytes_write=324669 bytes_read=166884 bytes_retransmit=0 bytes_invalid=0 send_seq=13067 receive_seq=13067 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998178  orange_pi: temp=43.1 chamber_heater: target=50 temp=38.0 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.08 cputime=505.249 memavail=1721100 print_time=10224.036 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Neopixel update did not succeed
Stats 15913.7: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000260 bytes_write=326476 bytes_read=167802 bytes_retransmit=0 bytes_invalid=0 send_seq=13140 receive_seq=13140 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998175  orange_pi: temp=43.7 chamber_heater: target=50 temp=38.1 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.07 cputime=505.339 memavail=1721100 print_time=10225.036 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15914.7: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=328346 bytes_read=168693 bytes_retransmit=0 bytes_invalid=0 send_seq=13212 receive_seq=13212 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998171  orange_pi: temp=42.9 chamber_heater: target=50 temp=38.3 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.07 cputime=505.426 memavail=1721632 print_time=10226.036 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15915.7: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=330195 bytes_read=169584 bytes_retransmit=0 bytes_invalid=0 send_seq=13283 receive_seq=13283 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998168  orange_pi: temp=43.4 chamber_heater: target=50 temp=38.4 pwm=1.000 heater_bed: target=0 temp=27.4 pwm=0.000 sysload=1.07 cputime=505.515 memavail=1722392 print_time=10227.037 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15916.7: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=332045 bytes_read=170515 bytes_retransmit=0 bytes_invalid=0 send_seq=13358 receive_seq=13357 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998167  orange_pi: temp=43.4 chamber_heater: target=50 temp=38.5 pwm=1.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.07 cputime=505.605 memavail=1722152 print_time=10228.037 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15917.7: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=333942 bytes_read=171532 bytes_retransmit=0 bytes_invalid=0 send_seq=13440 receive_seq=13440 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998185  orange_pi: temp=42.9 chamber_heater: target=50 temp=38.5 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.07 cputime=505.696 memavail=1722148 print_time=10229.037 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15918.7: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000274 mcu_task_stddev=0.000258 bytes_write=335798 bytes_read=172376 bytes_retransmit=0 bytes_invalid=0 send_seq=13508 receive_seq=13508 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998181  orange_pi: temp=43.3 chamber_heater: target=50 temp=38.6 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=505.781 memavail=1722408 print_time=10230.038 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15919.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000270 mcu_task_stddev=0.000256 bytes_write=337702 bytes_read=173443 bytes_retransmit=0 bytes_invalid=0 send_seq=13593 receive_seq=13593 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998177  orange_pi: temp=43.5 chamber_heater: target=50 temp=38.6 pwm=1.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=505.877 memavail=1722408 print_time=10231.039 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15920.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000270 mcu_task_stddev=0.000256 bytes_write=339505 bytes_read=174268 bytes_retransmit=0 bytes_invalid=0 send_seq=13660 receive_seq=13660 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998172  orange_pi: temp=42.9 chamber_heater: target=0 temp=38.8 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=505.959 memavail=1722168 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15921.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000270 mcu_task_stddev=0.000256 bytes_write=341435 bytes_read=175271 bytes_retransmit=0 bytes_invalid=0 send_seq=13739 receive_seq=13739 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998168  orange_pi: temp=43.0 chamber_heater: target=0 temp=39.3 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.06 cputime=506.044 memavail=1722416 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15922.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000270 mcu_task_stddev=0.000256 bytes_write=343259 bytes_read=176137 bytes_retransmit=0 bytes_invalid=0 send_seq=13808 receive_seq=13808 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998165  orange_pi: temp=42.8 chamber_heater: target=0 temp=39.1 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=506.129 memavail=1722420 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15923.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000270 mcu_task_stddev=0.000256 bytes_write=345151 bytes_read=177175 bytes_retransmit=0 bytes_invalid=0 send_seq=13892 receive_seq=13892 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998161  orange_pi: temp=43.1 chamber_heater: target=0 temp=39.1 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=506.219 memavail=1722420 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15924.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000283 mcu_task_stddev=0.000256 bytes_write=347009 bytes_read=178117 bytes_retransmit=0 bytes_invalid=0 send_seq=13965 receive_seq=13965 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998158  orange_pi: temp=43.1 chamber_heater: target=0 temp=39.2 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=506.304 memavail=1723240 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15925.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000283 mcu_task_stddev=0.000256 bytes_write=348841 bytes_read=178954 bytes_retransmit=0 bytes_invalid=0 send_seq=14033 receive_seq=14033 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998155  orange_pi: temp=43.0 chamber_heater: target=0 temp=39.1 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=506.386 memavail=1723772 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15926.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000283 mcu_task_stddev=0.000256 bytes_write=350648 bytes_read=179771 bytes_retransmit=0 bytes_invalid=0 send_seq=14100 receive_seq=14100 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998151  orange_pi: temp=43.3 chamber_heater: target=0 temp=39.3 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.06 cputime=506.466 memavail=1723788 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15927.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000283 mcu_task_stddev=0.000256 bytes_write=352616 bytes_read=180974 bytes_retransmit=0 bytes_invalid=0 send_seq=14195 receive_seq=14195 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998149  orange_pi: temp=43.1 chamber_heater: target=0 temp=39.0 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.06 cputime=506.562 memavail=1723792 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15928.7: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000283 mcu_task_stddev=0.000256 bytes_write=354452 bytes_read=181822 bytes_retransmit=0 bytes_invalid=0 send_seq=14262 receive_seq=14262 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.1 chamber_heater: target=0 temp=39.1 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.05 cputime=506.643 memavail=1724056 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15929.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000273 mcu_task_stddev=0.000259 bytes_write=356207 bytes_read=182565 bytes_retransmit=0 bytes_invalid=0 send_seq=14322 receive_seq=14322 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.3 chamber_heater: target=0 temp=39.1 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.05 cputime=506.723 memavail=1724336 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15930.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000273 mcu_task_stddev=0.000259 bytes_write=358113 bytes_read=183570 bytes_retransmit=0 bytes_invalid=0 send_seq=14403 receive_seq=14403 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.3 chamber_heater: target=0 temp=39.3 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.05 cputime=506.810 memavail=1724848 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15931.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000273 mcu_task_stddev=0.000259 bytes_write=359891 bytes_read=184405 bytes_retransmit=0 bytes_invalid=0 send_seq=14469 receive_seq=14469 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998144  orange_pi: temp=42.9 chamber_heater: target=0 temp=38.9 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.05 cputime=506.892 memavail=1724860 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15932.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000273 mcu_task_stddev=0.000259 bytes_write=361723 bytes_read=185261 bytes_retransmit=0 bytes_invalid=0 send_seq=14539 receive_seq=14539 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998158  orange_pi: temp=43.3 chamber_heater: target=0 temp=38.8 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.05 cputime=506.978 memavail=1724864 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15933.7: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000273 mcu_task_stddev=0.000259 bytes_write=363639 bytes_read=186295 bytes_retransmit=0 bytes_invalid=0 send_seq=14621 receive_seq=14621 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998155  orange_pi: temp=43.3 chamber_heater: target=0 temp=38.6 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.05 cputime=507.067 memavail=1725136 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15934.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000275 mcu_task_stddev=0.000258 bytes_write=365520 bytes_read=187313 bytes_retransmit=0 bytes_invalid=0 send_seq=14701 receive_seq=14701 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998153  orange_pi: temp=43.0 chamber_heater: target=0 temp=38.5 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.05 cputime=507.154 memavail=1724660 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15935.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000275 mcu_task_stddev=0.000258 bytes_write=367490 bytes_read=188437 bytes_retransmit=0 bytes_invalid=0 send_seq=14791 receive_seq=14791 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998150  orange_pi: temp=43.4 chamber_heater: target=0 temp=38.4 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.05 cputime=507.246 memavail=1724680 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15936.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000275 mcu_task_stddev=0.000258 bytes_write=369521 bytes_read=189700 bytes_retransmit=0 bytes_invalid=0 send_seq=14890 receive_seq=14890 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.3 chamber_heater: target=0 temp=38.2 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.05 cputime=507.346 memavail=1724688 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15937.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000275 mcu_task_stddev=0.000258 bytes_write=371411 bytes_read=190709 bytes_retransmit=0 bytes_invalid=0 send_seq=14970 receive_seq=14970 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998146  orange_pi: temp=43.2 chamber_heater: target=0 temp=38.0 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.05 cputime=507.436 memavail=1724196 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Error on 'SET_PIN PIN=Laser VALUE=39.21568627450981': VALUE must have maximum of 1.0
Error on 'SET_PIN PIN=Laser VALUE=39.21568627450981': VALUE must have maximum of 1.0
Stats 15938.7: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000275 mcu_task_stddev=0.000258 bytes_write=373294 bytes_read=191633 bytes_retransmit=0 bytes_invalid=0 send_seq=15045 receive_seq=15044 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=0 freq=71998144  orange_pi: temp=43.1 chamber_heater: target=0 temp=37.8 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.05 cputime=507.527 memavail=1723708 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15939.7: gcodein=0  mcu: mcu_awake=0.155 mcu_task_avg=0.000295 mcu_task_stddev=0.000254 bytes_write=375098 bytes_read=192575 bytes_retransmit=0 bytes_invalid=0 send_seq=15117 receive_seq=15117 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998142  orange_pi: temp=43.7 chamber_heater: target=0 temp=37.6 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.05 cputime=507.613 memavail=1722976 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15940.7: gcodein=0  mcu: mcu_awake=0.155 mcu_task_avg=0.000295 mcu_task_stddev=0.000254 bytes_write=377140 bytes_read=193857 bytes_retransmit=0 bytes_invalid=0 send_seq=15218 receive_seq=15218 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998140  orange_pi: temp=42.9 chamber_heater: target=0 temp=37.4 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.05 cputime=507.711 memavail=1723228 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15941.7: gcodein=0  mcu: mcu_awake=0.155 mcu_task_avg=0.000295 mcu_task_stddev=0.000254 bytes_write=379048 bytes_read=194817 bytes_retransmit=0 bytes_invalid=0 send_seq=15296 receive_seq=15296 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.1 chamber_heater: target=0 temp=37.2 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.05 cputime=507.797 memavail=1723232 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15942.7: gcodein=0  mcu: mcu_awake=0.155 mcu_task_avg=0.000295 mcu_task_stddev=0.000254 bytes_write=380868 bytes_read=195789 bytes_retransmit=0 bytes_invalid=0 send_seq=15372 receive_seq=15372 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.1 chamber_heater: target=0 temp=36.9 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.05 cputime=507.883 memavail=1722244 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15943.7: gcodein=0  mcu: mcu_awake=0.155 mcu_task_avg=0.000295 mcu_task_stddev=0.000254 bytes_write=382738 bytes_read=196733 bytes_retransmit=0 bytes_invalid=0 send_seq=15448 receive_seq=15447 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.0 chamber_heater: target=0 temp=36.7 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.04 cputime=507.970 memavail=1722516 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15944.7: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000297 mcu_task_stddev=0.000256 bytes_write=384618 bytes_read=197692 bytes_retransmit=0 bytes_invalid=0 send_seq=15524 receive_seq=15523 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998134  orange_pi: temp=43.2 chamber_heater: target=0 temp=36.6 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.04 cputime=508.057 memavail=1722832 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15945.7: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000297 mcu_task_stddev=0.000256 bytes_write=386618 bytes_read=198851 bytes_retransmit=0 bytes_invalid=0 send_seq=15615 receive_seq=15614 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.5 chamber_heater: target=0 temp=36.3 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.04 cputime=508.151 memavail=1722836 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15946.7: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000297 mcu_task_stddev=0.000256 bytes_write=388405 bytes_read=199777 bytes_retransmit=0 bytes_invalid=0 send_seq=15687 receive_seq=15687 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.1 chamber_heater: target=0 temp=36.1 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.04 cputime=508.235 memavail=1722836 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15947.7: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000297 mcu_task_stddev=0.000256 bytes_write=390212 bytes_read=200606 bytes_retransmit=0 bytes_invalid=0 send_seq=15756 receive_seq=15755 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998134  orange_pi: temp=42.9 chamber_heater: target=0 temp=35.8 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.04 cputime=508.316 memavail=1722112 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15948.7: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000297 mcu_task_stddev=0.000256 bytes_write=392135 bytes_read=201585 bytes_retransmit=0 bytes_invalid=0 send_seq=15834 receive_seq=15833 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998134  orange_pi: temp=43.1 chamber_heater: target=0 temp=35.6 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.04 cputime=508.403 memavail=1722128 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15949.7: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000286 mcu_task_stddev=0.000256 bytes_write=394016 bytes_read=202694 bytes_retransmit=0 bytes_invalid=0 send_seq=15919 receive_seq=15919 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998134  orange_pi: temp=43.3 chamber_heater: target=0 temp=35.9 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.04 cputime=508.494 memavail=1722924 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15950.7: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000286 mcu_task_stddev=0.000256 bytes_write=395848 bytes_read=203553 bytes_retransmit=0 bytes_invalid=0 send_seq=15990 receive_seq=15990 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998133  orange_pi: temp=43.1 chamber_heater: target=0 temp=35.3 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.04 cputime=508.577 memavail=1723196 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15951.7: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000286 mcu_task_stddev=0.000256 bytes_write=397687 bytes_read=204422 bytes_retransmit=0 bytes_invalid=0 send_seq=16059 receive_seq=16059 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.3 chamber_heater: target=0 temp=35.0 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.04 cputime=508.659 memavail=1723196 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15952.7: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000286 mcu_task_stddev=0.000256 bytes_write=399685 bytes_read=205579 bytes_retransmit=0 bytes_invalid=0 send_seq=16152 receive_seq=16151 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.4 chamber_heater: target=0 temp=35.0 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.04 cputime=508.754 memavail=1723448 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15953.7: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000286 mcu_task_stddev=0.000256 bytes_write=401481 bytes_read=206503 bytes_retransmit=0 bytes_invalid=0 send_seq=16225 receive_seq=16225 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=43.1 chamber_heater: target=0 temp=34.8 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.03 cputime=508.839 memavail=1722972 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15954.7: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000290 mcu_task_stddev=0.000257 bytes_write=403415 bytes_read=207609 bytes_retransmit=0 bytes_invalid=0 send_seq=16310 receive_seq=16310 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.3 chamber_heater: target=0 temp=34.7 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=508.932 memavail=1723000 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15955.7: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000290 mcu_task_stddev=0.000257 bytes_write=405263 bytes_read=208454 bytes_retransmit=0 bytes_invalid=0 send_seq=16378 receive_seq=16378 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.6 chamber_heater: target=0 temp=34.3 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.014 memavail=1722764 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.4 pwm=0.000
Stats 15956.7: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000290 mcu_task_stddev=0.000257 bytes_write=407087 bytes_read=209422 bytes_retransmit=0 bytes_invalid=0 send_seq=16456 receive_seq=16456 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.3 chamber_heater: target=0 temp=34.2 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.100 memavail=1723520 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15957.7: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000290 mcu_task_stddev=0.000257 bytes_write=408932 bytes_read=210360 bytes_retransmit=0 bytes_invalid=0 send_seq=16530 receive_seq=16530 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998156  orange_pi: temp=43.2 chamber_heater: target=0 temp=34.4 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.185 memavail=1723268 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15958.7: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000290 mcu_task_stddev=0.000257 bytes_write=410851 bytes_read=211343 bytes_retransmit=0 bytes_invalid=0 send_seq=16608 receive_seq=16608 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998153  orange_pi: temp=43.7 chamber_heater: target=0 temp=33.9 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.273 memavail=1724044 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15959.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000285 mcu_task_stddev=0.000260 bytes_write=412600 bytes_read=212138 bytes_retransmit=0 bytes_invalid=0 send_seq=16672 receive_seq=16672 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998150  orange_pi: temp=42.2 chamber_heater: target=0 temp=33.6 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.354 memavail=1723792 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15960.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000285 mcu_task_stddev=0.000260 bytes_write=414397 bytes_read=213014 bytes_retransmit=0 bytes_invalid=0 send_seq=16740 receive_seq=16740 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998149  orange_pi: temp=43.0 chamber_heater: target=0 temp=33.6 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.03 cputime=509.436 memavail=1723792 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15961.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000285 mcu_task_stddev=0.000260 bytes_write=416312 bytes_read=214010 bytes_retransmit=0 bytes_invalid=0 send_seq=16820 receive_seq=16819 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.3 chamber_heater: target=0 temp=33.4 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.525 memavail=1723288 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15962.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000285 mcu_task_stddev=0.000260 bytes_write=418095 bytes_read=214840 bytes_retransmit=0 bytes_invalid=0 send_seq=16887 receive_seq=16887 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.4 chamber_heater: target=0 temp=33.2 pwm=0.000 heater_bed: target=0 temp=27.6 pwm=0.000 sysload=1.03 cputime=509.607 memavail=1722532 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.4 pwm=0.000
Stats 15963.7: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000285 mcu_task_stddev=0.000260 bytes_write=419873 bytes_read=215669 bytes_retransmit=0 bytes_invalid=0 send_seq=16952 receive_seq=16952 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998146  orange_pi: temp=43.4 chamber_heater: target=0 temp=33.3 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.687 memavail=1722028 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15964.7: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000274 mcu_task_stddev=0.000263 bytes_write=421740 bytes_read=216648 bytes_retransmit=0 bytes_invalid=0 send_seq=17029 receive_seq=17029 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998147  orange_pi: temp=44.2 chamber_heater: target=0 temp=32.9 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=509.777 memavail=1721020 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.4 pwm=0.000
Stats 15965.7: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000274 mcu_task_stddev=0.000263 bytes_write=423601 bytes_read=217569 bytes_retransmit=0 bytes_invalid=0 send_seq=17104 receive_seq=17104 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.1 chamber_heater: target=0 temp=32.7 pwm=0.000 heater_bed: target=0 temp=27.5 pwm=0.000 sysload=1.03 cputime=509.861 memavail=1720524 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15966.7: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000274 mcu_task_stddev=0.000263 bytes_write=425474 bytes_read=218580 bytes_retransmit=0 bytes_invalid=0 send_seq=17183 receive_seq=17183 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.2 chamber_heater: target=0 temp=32.5 pwm=0.000 heater_bed: target=0 temp=27.9 pwm=0.000 sysload=1.03 cputime=509.946 memavail=1721032 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15967.7: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000274 mcu_task_stddev=0.000263 bytes_write=427292 bytes_read=219446 bytes_retransmit=0 bytes_invalid=0 send_seq=17252 receive_seq=17252 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998165  orange_pi: temp=43.3 chamber_heater: target=0 temp=32.4 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.03 cputime=510.030 memavail=1721304 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15968.7: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000274 mcu_task_stddev=0.000263 bytes_write=429123 bytes_read=220250 bytes_retransmit=0 bytes_invalid=0 send_seq=17319 receive_seq=17318 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998161  orange_pi: temp=42.8 chamber_heater: target=0 temp=32.5 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.03 cputime=510.111 memavail=1720816 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 15969.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=430915 bytes_read=221200 bytes_retransmit=0 bytes_invalid=0 send_seq=17391 receive_seq=17391 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998158  orange_pi: temp=43.5 chamber_heater: target=0 temp=32.3 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=510.195 memavail=1720328 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15970.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=432771 bytes_read=222131 bytes_retransmit=0 bytes_invalid=0 send_seq=17465 receive_seq=17465 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998156  orange_pi: temp=43.2 chamber_heater: target=0 temp=32.1 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.03 cputime=510.280 memavail=1720844 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15971.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=434572 bytes_read=222909 bytes_retransmit=0 bytes_invalid=0 send_seq=17530 receive_seq=17529 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998153  orange_pi: temp=43.1 chamber_heater: target=0 temp=31.9 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.03 cputime=510.360 memavail=1720632 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.4 pwm=0.000
Stats 15972.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=436517 bytes_read=224089 bytes_retransmit=0 bytes_invalid=0 send_seq=17621 receive_seq=17621 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998151  orange_pi: temp=43.1 chamber_heater: target=0 temp=31.9 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.03 cputime=510.454 memavail=1721144 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15973.7: gcodein=0  mcu: mcu_awake=0.134 mcu_task_avg=0.000282 mcu_task_stddev=0.000261 bytes_write=438359 bytes_read=224994 bytes_retransmit=0 bytes_invalid=0 send_seq=17693 receive_seq=17693 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998151  orange_pi: temp=43.2 chamber_heater: target=0 temp=31.7 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.02 cputime=510.539 memavail=1721672 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.4 pwm=0.000
Stats 15974.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=440229 bytes_read=225971 bytes_retransmit=0 bytes_invalid=0 send_seq=17771 receive_seq=17771 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998149  orange_pi: temp=43.1 chamber_heater: target=0 temp=31.2 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.02 cputime=510.627 memavail=1722180 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Stats 15975.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=442111 bytes_read=226961 bytes_retransmit=0 bytes_invalid=0 send_seq=17849 receive_seq=17849 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998149  orange_pi: temp=43.1 chamber_heater: target=0 temp=31.5 pwm=0.000 heater_bed: target=0 temp=27.9 pwm=0.000 sysload=1.02 cputime=510.715 memavail=1721692 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Neopixel update did not succeed
Stats 15976.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=444052 bytes_read=228082 bytes_retransmit=0 bytes_invalid=0 send_seq=17937 receive_seq=17937 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=42.8 chamber_heater: target=0 temp=31.5 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.02 cputime=510.807 memavail=1721928 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.2 pwm=0.000
Stats 15977.7: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=445870 bytes_read=228925 bytes_retransmit=0 bytes_invalid=0 send_seq=18006 receive_seq=18006 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.3 chamber_heater: target=0 temp=31.4 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.02 cputime=510.889 memavail=1720960 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.4 pwm=0.000
Stats 15978.8: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=447654 bytes_read=229681 bytes_retransmit=0 bytes_invalid=0 send_seq=18067 receive_seq=18066 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.0 chamber_heater: target=0 temp=31.0 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.02 cputime=510.969 memavail=1720852 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.5 pwm=0.000
Stats 15979.8: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000282 mcu_task_stddev=0.000260 bytes_write=449417 bytes_read=230559 bytes_retransmit=0 bytes_invalid=0 send_seq=18134 receive_seq=18134 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998142  orange_pi: temp=43.1 chamber_heater: target=0 temp=31.2 pwm=0.000 heater_bed: target=0 temp=27.7 pwm=0.000 sysload=1.02 cputime=511.052 memavail=1720732 print_time=10231.702 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.3 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Stats 16521.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000290 mcu_task_stddev=0.000256 bytes_write=1457279 bytes_read=747910 bytes_retransmit=0 bytes_invalid=0 send_seq=59260 receive_seq=59260 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.11 cputime=557.497 memavail=1725784 print_time=10832.638 buffer_time=0.201 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16522.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000290 mcu_task_stddev=0.000256 bytes_write=1459155 bytes_read=748952 bytes_retransmit=0 bytes_invalid=0 send_seq=59342 receive_seq=59342 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.11 cputime=557.584 memavail=1725280 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16523.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000290 mcu_task_stddev=0.000256 bytes_write=1461116 bytes_read=750052 bytes_retransmit=0 bytes_invalid=0 send_seq=59429 receive_seq=59429 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998141  orange_pi: temp=43.3 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.11 cputime=557.675 memavail=1724552 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16524.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000290 mcu_task_stddev=0.000256 bytes_write=1462957 bytes_read=750929 bytes_retransmit=0 bytes_invalid=0 send_seq=59501 receive_seq=59500 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=44.0 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=557.759 memavail=1724552 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16525.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000290 mcu_task_stddev=0.000256 bytes_write=1464798 bytes_read=751880 bytes_retransmit=0 bytes_invalid=0 send_seq=59575 receive_seq=59575 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=44.1 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.10 cputime=557.846 memavail=1724064 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16526.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000291 mcu_task_stddev=0.000257 bytes_write=1466566 bytes_read=752698 bytes_retransmit=0 bytes_invalid=0 send_seq=59639 receive_seq=59639 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.6 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.10 cputime=557.925 memavail=1723816 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16527.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000291 mcu_task_stddev=0.000257 bytes_write=1468454 bytes_read=753666 bytes_retransmit=0 bytes_invalid=0 send_seq=59717 receive_seq=59717 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.9 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=558.012 memavail=1723820 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16528.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000291 mcu_task_stddev=0.000257 bytes_write=1470216 bytes_read=754435 bytes_retransmit=0 bytes_invalid=0 send_seq=59778 receive_seq=59778 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998133  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.8 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=558.091 memavail=1725100 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16529.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000291 mcu_task_stddev=0.000257 bytes_write=1471984 bytes_read=755275 bytes_retransmit=0 bytes_invalid=0 send_seq=59845 receive_seq=59845 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998132  orange_pi: temp=44.4 chamber_heater: target=0 temp=27.0 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.10 cputime=558.171 memavail=1724616 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16530.1: gcodein=0  mcu: mcu_awake=0.144 mcu_task_avg=0.000291 mcu_task_stddev=0.000257 bytes_write=1473874 bytes_read=756222 bytes_retransmit=0 bytes_invalid=0 send_seq=59922 receive_seq=59922 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.8 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=558.257 memavail=1725140 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16531.1: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000275 mcu_task_stddev=0.000262 bytes_write=1475807 bytes_read=757320 bytes_retransmit=0 bytes_invalid=0 send_seq=60007 receive_seq=60007 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998144  orange_pi: temp=43.9 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=558.348 memavail=1725140 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16532.1: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000275 mcu_task_stddev=0.000262 bytes_write=1477585 bytes_read=758186 bytes_retransmit=0 bytes_invalid=0 send_seq=60076 receive_seq=60076 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998142  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.10 cputime=558.430 memavail=1725160 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16533.1: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000275 mcu_task_stddev=0.000262 bytes_write=1479510 bytes_read=759193 bytes_retransmit=0 bytes_invalid=0 send_seq=60157 receive_seq=60157 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.1 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=558.520 memavail=1725164 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16534.1: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000275 mcu_task_stddev=0.000262 bytes_write=1481321 bytes_read=760040 bytes_retransmit=0 bytes_invalid=0 send_seq=60225 receive_seq=60224 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=43.1 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.09 cputime=558.603 memavail=1724912 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16535.1: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000275 mcu_task_stddev=0.000262 bytes_write=1483182 bytes_read=760989 bytes_retransmit=0 bytes_invalid=0 send_seq=60301 receive_seq=60300 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.09 cputime=558.690 memavail=1724448 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16536.1: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000278 mcu_task_stddev=0.000256 bytes_write=1484964 bytes_read=761852 bytes_retransmit=0 bytes_invalid=0 send_seq=60368 receive_seq=60368 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.09 cputime=558.773 memavail=1724956 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16537.1: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000278 mcu_task_stddev=0.000256 bytes_write=1486902 bytes_read=762933 bytes_retransmit=0 bytes_invalid=0 send_seq=60453 receive_seq=60453 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.6 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.09 cputime=558.863 memavail=1724704 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.5 pwm=0.000
Stats 16538.1: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000278 mcu_task_stddev=0.000256 bytes_write=1488811 bytes_read=763960 bytes_retransmit=0 bytes_invalid=0 send_seq=60535 receive_seq=60535 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998134  orange_pi: temp=43.2 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.09 cputime=558.952 memavail=1724200 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16539.1: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000278 mcu_task_stddev=0.000256 bytes_write=1490667 bytes_read=764920 bytes_retransmit=0 bytes_invalid=0 send_seq=60613 receive_seq=60613 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.08 cputime=559.039 memavail=1723444 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Neopixel update did not succeed
Stats 16540.1: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000278 mcu_task_stddev=0.000256 bytes_write=1492717 bytes_read=766217 bytes_retransmit=0 bytes_invalid=0 send_seq=60714 receive_seq=60714 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=44.0 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.08 cputime=559.140 memavail=1723216 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16541.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000289 mcu_task_stddev=0.000251 bytes_write=1494540 bytes_read=767087 bytes_retransmit=0 bytes_invalid=0 send_seq=60783 receive_seq=60782 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.08 cputime=559.228 memavail=1723264 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16542.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000289 mcu_task_stddev=0.000251 bytes_write=1496440 bytes_read=768112 bytes_retransmit=0 bytes_invalid=0 send_seq=60865 receive_seq=60865 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998133  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.08 cputime=559.316 memavail=1723264 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16543.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000289 mcu_task_stddev=0.000251 bytes_write=1498413 bytes_read=769271 bytes_retransmit=0 bytes_invalid=0 send_seq=60956 receive_seq=60956 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998132  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.08 cputime=559.407 memavail=1723264 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16544.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000289 mcu_task_stddev=0.000251 bytes_write=1500240 bytes_read=770184 bytes_retransmit=0 bytes_invalid=0 send_seq=61028 receive_seq=61028 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998131  orange_pi: temp=43.3 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=559.490 memavail=1723264 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16545.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000289 mcu_task_stddev=0.000251 bytes_write=1502044 bytes_read=770992 bytes_retransmit=0 bytes_invalid=0 send_seq=61095 receive_seq=61095 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998131  orange_pi: temp=43.1 chamber_heater: target=0 temp=27.5 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=559.574 memavail=1723816 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16546.1: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000289 mcu_task_stddev=0.000260 bytes_write=1503823 bytes_read=771753 bytes_retransmit=0 bytes_invalid=0 send_seq=61155 receive_seq=61155 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998129  orange_pi: temp=43.8 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.15 cputime=559.654 memavail=1724340 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16547.1: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000289 mcu_task_stddev=0.000260 bytes_write=1505618 bytes_read=772655 bytes_retransmit=0 bytes_invalid=0 send_seq=61227 receive_seq=61227 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998130  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.6 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=559.739 memavail=1724340 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16548.1: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000289 mcu_task_stddev=0.000260 bytes_write=1507545 bytes_read=773692 bytes_retransmit=0 bytes_invalid=0 send_seq=61311 receive_seq=61311 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998129  orange_pi: temp=43.3 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=559.829 memavail=1724868 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16549.1: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000289 mcu_task_stddev=0.000260 bytes_write=1509378 bytes_read=774578 bytes_retransmit=0 bytes_invalid=0 send_seq=61381 receive_seq=61381 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998128  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=559.911 memavail=1724868 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16550.1: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000289 mcu_task_stddev=0.000260 bytes_write=1511126 bytes_read=775327 bytes_retransmit=0 bytes_invalid=0 send_seq=61441 receive_seq=61441 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998128  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=559.990 memavail=1724364 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16551.1: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000270 mcu_task_stddev=0.000261 bytes_write=1513069 bytes_read=776455 bytes_retransmit=0 bytes_invalid=0 send_seq=61530 receive_seq=61530 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998128  orange_pi: temp=43.3 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.14 cputime=560.080 memavail=1724112 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16552.1: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000270 mcu_task_stddev=0.000261 bytes_write=1514798 bytes_read=777172 bytes_retransmit=0 bytes_invalid=0 send_seq=61588 receive_seq=61587 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=43.3 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=560.156 memavail=1723860 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16553.1: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000270 mcu_task_stddev=0.000261 bytes_write=1516800 bytes_read=778311 bytes_retransmit=0 bytes_invalid=0 send_seq=61677 receive_seq=61677 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998127  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=560.251 memavail=1723356 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16554.1: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000270 mcu_task_stddev=0.000261 bytes_write=1518696 bytes_read=779365 bytes_retransmit=0 bytes_invalid=0 send_seq=61762 receive_seq=61761 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998127  orange_pi: temp=43.1 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=560.342 memavail=1722852 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16555.1: gcodein=0  mcu: mcu_awake=0.122 mcu_task_avg=0.000270 mcu_task_stddev=0.000261 bytes_write=1520603 bytes_read=780446 bytes_retransmit=0 bytes_invalid=0 send_seq=61846 receive_seq=61846 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998126  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=560.430 memavail=1722100 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16556.1: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000293 mcu_task_stddev=0.000256 bytes_write=1522596 bytes_read=781594 bytes_retransmit=0 bytes_invalid=0 send_seq=61937 receive_seq=61936 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998144  orange_pi: temp=43.6 chamber_heater: target=0 temp=27.5 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=560.524 memavail=1722608 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16557.1: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000293 mcu_task_stddev=0.000256 bytes_write=1524414 bytes_read=782411 bytes_retransmit=0 bytes_invalid=0 send_seq=62004 receive_seq=62003 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998142  orange_pi: temp=43.6 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=560.604 memavail=1722104 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16558.1: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000293 mcu_task_stddev=0.000256 bytes_write=1526075 bytes_read=783110 bytes_retransmit=0 bytes_invalid=0 send_seq=62058 receive_seq=62058 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.21 cputime=560.681 memavail=1721852 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16559.1: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000293 mcu_task_stddev=0.000256 bytes_write=1528020 bytes_read=784210 bytes_retransmit=0 bytes_invalid=0 send_seq=62145 receive_seq=62145 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998139  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.19 cputime=560.772 memavail=1722376 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16560.1: gcodein=0  mcu: mcu_awake=0.149 mcu_task_avg=0.000293 mcu_task_stddev=0.000256 bytes_write=1529911 bytes_read=785118 bytes_retransmit=0 bytes_invalid=0 send_seq=62219 receive_seq=62219 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.19 cputime=560.856 memavail=1722880 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16561.1: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000287 mcu_task_stddev=0.000260 bytes_write=1531617 bytes_read=785912 bytes_retransmit=0 bytes_invalid=0 send_seq=62280 receive_seq=62280 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.1 chamber_heater: target=0 temp=27.5 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.19 cputime=560.935 memavail=1722884 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16562.1: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000287 mcu_task_stddev=0.000260 bytes_write=1533606 bytes_read=787103 bytes_retransmit=0 bytes_invalid=0 send_seq=62374 receive_seq=62374 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998136  orange_pi: temp=43.6 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.19 cputime=561.030 memavail=1722632 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16563.1: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000287 mcu_task_stddev=0.000260 bytes_write=1535646 bytes_read=788297 bytes_retransmit=0 bytes_invalid=0 send_seq=62470 receive_seq=62470 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.9 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.19 cputime=561.126 memavail=1722132 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16564.1: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000287 mcu_task_stddev=0.000260 bytes_write=1537540 bytes_read=789287 bytes_retransmit=0 bytes_invalid=0 send_seq=62549 receive_seq=62548 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998134  orange_pi: temp=43.9 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=561.212 memavail=1722132 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16565.1: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000287 mcu_task_stddev=0.000260 bytes_write=1539316 bytes_read=790195 bytes_retransmit=0 bytes_invalid=0 send_seq=62620 receive_seq=62620 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998133  orange_pi: temp=43.8 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=561.297 memavail=1722176 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16566.1: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000256 bytes_write=1541271 bytes_read=791284 bytes_retransmit=0 bytes_invalid=0 send_seq=62706 receive_seq=62706 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998133  orange_pi: temp=44.6 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.18 cputime=561.389 memavail=1722684 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16567.1: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000256 bytes_write=1543153 bytes_read=792222 bytes_retransmit=0 bytes_invalid=0 send_seq=62781 receive_seq=62780 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998132  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=561.476 memavail=1723460 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16568.1: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000256 bytes_write=1545030 bytes_read=793184 bytes_retransmit=0 bytes_invalid=0 send_seq=62858 receive_seq=62857 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998134  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.18 cputime=561.564 memavail=1723220 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.5 pwm=0.000
Stats 16569.1: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000256 bytes_write=1546898 bytes_read=794279 bytes_retransmit=0 bytes_invalid=0 send_seq=62943 receive_seq=62943 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998133  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.5 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=561.653 memavail=1723240 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16570.1: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000256 bytes_write=1548828 bytes_read=795267 bytes_retransmit=0 bytes_invalid=0 send_seq=63022 receive_seq=63022 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998132  orange_pi: temp=43.3 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=561.739 memavail=1723008 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16571.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000295 mcu_task_stddev=0.000257 bytes_write=1550717 bytes_read=796272 bytes_retransmit=0 bytes_invalid=0 send_seq=63101 receive_seq=63101 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998131  orange_pi: temp=44.0 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.16 cputime=561.828 memavail=1722792 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.5 pwm=0.000
Stats 16572.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000295 mcu_task_stddev=0.000257 bytes_write=1552605 bytes_read=797268 bytes_retransmit=0 bytes_invalid=0 send_seq=63180 receive_seq=63180 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998131  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=561.918 memavail=1722048 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16573.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000295 mcu_task_stddev=0.000257 bytes_write=1554407 bytes_read=798160 bytes_retransmit=0 bytes_invalid=0 send_seq=63251 receive_seq=63251 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998130  orange_pi: temp=44.1 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=561.997 memavail=1722308 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16574.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000295 mcu_task_stddev=0.000257 bytes_write=1556284 bytes_read=799109 bytes_retransmit=0 bytes_invalid=0 send_seq=63327 receive_seq=63327 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998129  orange_pi: temp=43.6 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.15 cputime=562.087 memavail=1722308 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16575.1: gcodein=0  mcu: mcu_awake=0.150 mcu_task_avg=0.000295 mcu_task_stddev=0.000257 bytes_write=1558175 bytes_read=800092 bytes_retransmit=0 bytes_invalid=0 send_seq=63406 receive_seq=63405 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998130  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=562.169 memavail=1722084 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16576.1: gcodein=0  mcu: mcu_awake=0.142 mcu_task_avg=0.000291 mcu_task_stddev=0.000261 bytes_write=1560047 bytes_read=801136 bytes_retransmit=0 bytes_invalid=0 send_seq=63487 receive_seq=63487 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998130  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=562.259 memavail=1722588 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16577.1: gcodein=0  mcu: mcu_awake=0.142 mcu_task_avg=0.000291 mcu_task_stddev=0.000261 bytes_write=1562033 bytes_read=802288 bytes_retransmit=0 bytes_invalid=0 send_seq=63578 receive_seq=63578 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998129  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=562.350 memavail=1722356 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16578.1: gcodein=0  mcu: mcu_awake=0.142 mcu_task_avg=0.000291 mcu_task_stddev=0.000261 bytes_write=1563945 bytes_read=803323 bytes_retransmit=0 bytes_invalid=0 send_seq=63660 receive_seq=63660 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998128  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=562.440 memavail=1722108 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16579.1: gcodein=0  mcu: mcu_awake=0.142 mcu_task_avg=0.000291 mcu_task_stddev=0.000261 bytes_write=1565822 bytes_read=804298 bytes_retransmit=0 bytes_invalid=0 send_seq=63739 receive_seq=63738 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998128  orange_pi: temp=44.1 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=562.526 memavail=1722128 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16580.1: gcodein=0  mcu: mcu_awake=0.142 mcu_task_avg=0.000291 mcu_task_stddev=0.000261 bytes_write=1567655 bytes_read=805190 bytes_retransmit=0 bytes_invalid=0 send_seq=63810 receive_seq=63809 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998128  orange_pi: temp=45.5 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=562.611 memavail=1721876 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16581.1: gcodein=0  mcu: mcu_awake=0.148 mcu_task_avg=0.000293 mcu_task_stddev=0.000258 bytes_write=1569582 bytes_read=806307 bytes_retransmit=0 bytes_invalid=0 send_seq=63896 receive_seq=63896 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=43.9 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.14 cputime=562.703 memavail=1721876 print_time=10832.638 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Stats 16767.2: gcodein=0  mcu: mcu_awake=0.120 mcu_task_avg=0.000274 mcu_task_stddev=0.000265 bytes_write=1915669 bytes_read=983712 bytes_retransmit=0 bytes_invalid=0 send_seq=77987 receive_seq=77987 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998124  orange_pi: temp=43.5 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.17 cputime=578.678 memavail=1728796 print_time=11079.401 buffer_time=0.827 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Attempting MCU 'mcu' reset command
webhooks client 281473797087888: Disconnected
Restarting printer
Start printer at Thu Jan  2 01:55:31 2025 (1735772131.8 16769.2)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=0 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=0  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	START_DRYER TEMPERATURE=0 CHAMBER=80 TIME=18000

[gcode_macro M3]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281473795358384: New connection
webhooks client 281473795358384: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 16773.4: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000054 bytes_write=3270 bytes_read=6196 bytes_retransmit=0 bytes_invalid=0 send_seq=231 receive_seq=228 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2001 upcoming_bytes=172 freq=71995593  orange_pi: temp=44.8 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.16 cputime=581.933 memavail=1727412 print_time=5.491 buffer_time=0.196 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281473795358384
webhooks: registering remote method 'reboot_machine' for connection id: 281473795358384
webhooks: registering remote method 'pause_job_queue' for connection id: 281473795358384
webhooks: registering remote method 'start_job_queue' for connection id: 281473795358384
Stats 16774.4: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000054 bytes_write=7297 bytes_read=6955 bytes_retransmit=0 bytes_invalid=0 send_seq=326 receive_seq=325 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=18 upcoming_bytes=0 freq=71997262  orange_pi: temp=44.6 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.14 cputime=582.039 memavail=1725964 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16775.4: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000054 bytes_write=9148 bytes_read=7751 bytes_retransmit=0 bytes_invalid=0 send_seq=392 receive_seq=391 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998016  orange_pi: temp=45.2 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.14 cputime=582.148 memavail=1725824 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16776.4: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000054 bytes_write=11018 bytes_read=8786 bytes_retransmit=0 bytes_invalid=0 send_seq=473 receive_seq=473 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997920  orange_pi: temp=44.6 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.14 cputime=582.235 memavail=1726096 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16777.4: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000054 bytes_write=12820 bytes_read=9667 bytes_retransmit=0 bytes_invalid=0 send_seq=542 receive_seq=542 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997815  orange_pi: temp=43.7 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.14 cputime=582.315 memavail=1725844 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16778.4: gcodein=0  mcu: mcu_awake=0.162 mcu_task_avg=0.000264 mcu_task_stddev=0.000308 bytes_write=14698 bytes_read=10605 bytes_retransmit=0 bytes_invalid=0 send_seq=617 receive_seq=617 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997940  orange_pi: temp=43.9 chamber_heater: target=0 temp=27.2 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=582.398 memavail=1725088 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16779.4: gcodein=0  mcu: mcu_awake=0.162 mcu_task_avg=0.000264 mcu_task_stddev=0.000308 bytes_write=16537 bytes_read=11458 bytes_retransmit=0 bytes_invalid=0 send_seq=686 receive_seq=685 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998059  orange_pi: temp=43.8 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.13 cputime=582.479 memavail=1724840 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16780.4: gcodein=0  mcu: mcu_awake=0.162 mcu_task_avg=0.000264 mcu_task_stddev=0.000308 bytes_write=18471 bytes_read=12664 bytes_retransmit=0 bytes_invalid=0 send_seq=779 receive_seq=779 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997990  orange_pi: temp=44.1 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.13 cputime=582.571 memavail=1725096 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16781.4: gcodein=0  mcu: mcu_awake=0.162 mcu_task_avg=0.000264 mcu_task_stddev=0.000308 bytes_write=20254 bytes_read=13455 bytes_retransmit=0 bytes_invalid=0 send_seq=844 receive_seq=844 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997946  orange_pi: temp=43.8 chamber_heater: target=0 temp=27.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.13 cputime=582.649 memavail=1724868 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16782.4: gcodein=0  mcu: mcu_awake=0.162 mcu_task_avg=0.000264 mcu_task_stddev=0.000308 bytes_write=22116 bytes_read=14336 bytes_retransmit=0 bytes_invalid=0 send_seq=913 receive_seq=913 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997959  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.13 cputime=582.732 memavail=1724616 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16783.4: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000288 mcu_task_stddev=0.000263 bytes_write=23894 bytes_read=15211 bytes_retransmit=0 bytes_invalid=0 send_seq=982 receive_seq=982 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997960  orange_pi: temp=43.8 chamber_heater: target=0 temp=27.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.13 cputime=582.814 memavail=1724616 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16784.4: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000288 mcu_task_stddev=0.000263 bytes_write=25841 bytes_read=16335 bytes_retransmit=0 bytes_invalid=0 send_seq=1072 receive_seq=1072 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997964  orange_pi: temp=43.4 chamber_heater: target=0 temp=27.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.12 cputime=582.904 memavail=1724364 print_time=5.491 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Heater chamber_heater approaching new target of 80.000
Stats 16785.4: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000288 mcu_task_stddev=0.000263 bytes_write=27724 bytes_read=17208 bytes_retransmit=0 bytes_invalid=0 send_seq=1142 receive_seq=1141 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997982  orange_pi: temp=43.0 chamber_heater: target=80 temp=27.0 pwm=1.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.12 cputime=582.997 memavail=1723104 print_time=17.045 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16786.4: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000288 mcu_task_stddev=0.000263 bytes_write=29710 bytes_read=18310 bytes_retransmit=0 bytes_invalid=0 send_seq=1231 receive_seq=1230 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997991  orange_pi: temp=43.5 chamber_heater: target=80 temp=27.0 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.12 cputime=583.093 memavail=1722852 print_time=18.050 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16787.4: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000288 mcu_task_stddev=0.000263 bytes_write=31512 bytes_read=19226 bytes_retransmit=0 bytes_invalid=0 send_seq=1304 receive_seq=1304 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997991  orange_pi: temp=43.7 chamber_heater: target=80 temp=27.1 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.12 cputime=583.182 memavail=1722852 print_time=19.050 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16788.4: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=33252 bytes_read=19934 bytes_retransmit=0 bytes_invalid=0 send_seq=1359 receive_seq=1359 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998020  orange_pi: temp=43.6 chamber_heater: target=80 temp=27.2 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.12 cputime=583.262 memavail=1722852 print_time=20.051 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16789.4: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=35078 bytes_read=20706 bytes_retransmit=0 bytes_invalid=0 send_seq=1423 receive_seq=1422 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998021  orange_pi: temp=43.5 chamber_heater: target=80 temp=27.0 pwm=1.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.11 cputime=583.369 memavail=1723632 print_time=21.051 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16790.4: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=36851 bytes_read=21570 bytes_retransmit=0 bytes_invalid=0 send_seq=1492 receive_seq=1492 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998021  orange_pi: temp=43.7 chamber_heater: target=80 temp=27.2 pwm=1.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.11 cputime=583.454 memavail=1724388 print_time=22.052 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16791.4: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=38686 bytes_read=22474 bytes_retransmit=0 bytes_invalid=0 send_seq=1564 receive_seq=1564 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998023  orange_pi: temp=43.5 chamber_heater: target=80 temp=27.4 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.11 cputime=583.541 memavail=1724136 print_time=23.052 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16792.4: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=40576 bytes_read=23371 bytes_retransmit=0 bytes_invalid=0 send_seq=1636 receive_seq=1636 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998032  orange_pi: temp=43.8 chamber_heater: target=80 temp=27.6 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.11 cputime=583.628 memavail=1724136 print_time=24.053 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16793.4: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000264 mcu_task_stddev=0.000261 bytes_write=42378 bytes_read=24291 bytes_retransmit=0 bytes_invalid=0 send_seq=1709 receive_seq=1709 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998035  orange_pi: temp=43.9 chamber_heater: target=80 temp=27.7 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.11 cputime=583.715 memavail=1723884 print_time=25.054 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16794.4: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000264 mcu_task_stddev=0.000261 bytes_write=44176 bytes_read=25091 bytes_retransmit=0 bytes_invalid=0 send_seq=1773 receive_seq=1773 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998038  orange_pi: temp=43.3 chamber_heater: target=80 temp=27.9 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=583.798 memavail=1723884 print_time=26.054 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16795.4: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000264 mcu_task_stddev=0.000261 bytes_write=46121 bytes_read=26110 bytes_retransmit=0 bytes_invalid=0 send_seq=1856 receive_seq=1855 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998132  orange_pi: temp=43.9 chamber_heater: target=80 temp=27.9 pwm=1.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.10 cputime=583.889 memavail=1723644 print_time=27.055 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16796.4: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000264 mcu_task_stddev=0.000261 bytes_write=48014 bytes_read=27132 bytes_retransmit=0 bytes_invalid=0 send_seq=1939 receive_seq=1939 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998122  orange_pi: temp=43.7 chamber_heater: target=80 temp=28.1 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=583.979 memavail=1723644 print_time=28.056 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Neopixel update did not succeed
Stats 16797.4: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000264 mcu_task_stddev=0.000261 bytes_write=50053 bytes_read=28429 bytes_retransmit=0 bytes_invalid=0 send_seq=2040 receive_seq=2040 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998113  orange_pi: temp=43.5 chamber_heater: target=80 temp=28.2 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=584.080 memavail=1723140 print_time=29.056 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16798.4: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000283 mcu_task_stddev=0.000257 bytes_write=51839 bytes_read=29205 bytes_retransmit=0 bytes_invalid=0 send_seq=2102 receive_seq=2102 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998110  orange_pi: temp=43.4 chamber_heater: target=80 temp=28.6 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.10 cputime=584.162 memavail=1723636 print_time=30.057 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16799.4: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000283 mcu_task_stddev=0.000257 bytes_write=53673 bytes_read=29988 bytes_retransmit=0 bytes_invalid=0 send_seq=2167 receive_seq=2167 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998109  orange_pi: temp=43.7 chamber_heater: target=80 temp=28.4 pwm=1.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.17 cputime=584.246 memavail=1724168 print_time=31.058 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16800.4: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000283 mcu_task_stddev=0.000257 bytes_write=55434 bytes_read=30848 bytes_retransmit=0 bytes_invalid=0 send_seq=2235 receive_seq=2235 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998114  orange_pi: temp=43.3 chamber_heater: target=80 temp=28.7 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.17 cputime=584.331 memavail=1724680 print_time=32.058 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16801.4: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000283 mcu_task_stddev=0.000257 bytes_write=57273 bytes_read=31748 bytes_retransmit=0 bytes_invalid=0 send_seq=2307 receive_seq=2307 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998231  orange_pi: temp=43.6 chamber_heater: target=80 temp=29.0 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.17 cputime=584.418 memavail=1724964 print_time=33.059 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16802.4: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000283 mcu_task_stddev=0.000257 bytes_write=59128 bytes_read=32557 bytes_retransmit=0 bytes_invalid=0 send_seq=2374 receive_seq=2374 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998220  orange_pi: temp=43.5 chamber_heater: target=80 temp=29.2 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.17 cputime=584.501 memavail=1726472 print_time=34.060 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16803.4: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000262 mcu_task_stddev=0.000261 bytes_write=60928 bytes_read=33455 bytes_retransmit=0 bytes_invalid=0 send_seq=2444 receive_seq=2443 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998206  orange_pi: temp=44.1 chamber_heater: target=80 temp=29.6 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.17 cputime=584.589 memavail=1726008 print_time=35.060 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16804.4: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000262 mcu_task_stddev=0.000261 bytes_write=62835 bytes_read=34500 bytes_retransmit=0 bytes_invalid=0 send_seq=2527 receive_seq=2527 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998193  orange_pi: temp=43.7 chamber_heater: target=80 temp=29.8 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=584.681 memavail=1726020 print_time=36.061 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16805.4: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000262 mcu_task_stddev=0.000261 bytes_write=64706 bytes_read=35387 bytes_retransmit=0 bytes_invalid=0 send_seq=2600 receive_seq=2600 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998179  orange_pi: temp=43.4 chamber_heater: target=80 temp=30.2 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=584.770 memavail=1726300 print_time=37.061 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16806.4: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000262 mcu_task_stddev=0.000261 bytes_write=66562 bytes_read=36338 bytes_retransmit=0 bytes_invalid=0 send_seq=2675 receive_seq=2675 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998170  orange_pi: temp=43.9 chamber_heater: target=80 temp=30.4 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=584.858 memavail=1726564 print_time=38.062 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16807.4: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000262 mcu_task_stddev=0.000261 bytes_write=68445 bytes_read=37326 bytes_retransmit=0 bytes_invalid=0 send_seq=2754 receive_seq=2754 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998167  orange_pi: temp=43.6 chamber_heater: target=80 temp=30.6 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=584.948 memavail=1726572 print_time=39.063 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16808.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=70186 bytes_read=38035 bytes_retransmit=0 bytes_invalid=0 send_seq=2812 receive_seq=2812 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998158  orange_pi: temp=44.2 chamber_heater: target=80 temp=30.9 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=585.030 memavail=1726572 print_time=40.063 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16809.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=72148 bytes_read=39085 bytes_retransmit=0 bytes_invalid=0 send_seq=2894 receive_seq=2894 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998152  orange_pi: temp=44.7 chamber_heater: target=80 temp=31.2 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=585.124 memavail=1726572 print_time=41.064 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16810.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=73892 bytes_read=39886 bytes_retransmit=0 bytes_invalid=0 send_seq=2958 receive_seq=2958 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.4 chamber_heater: target=80 temp=31.4 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=585.206 memavail=1727348 print_time=42.064 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Neopixel update did not succeed
Stats 16811.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=75792 bytes_read=40864 bytes_retransmit=0 bytes_invalid=0 send_seq=3038 receive_seq=3038 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.8 chamber_heater: target=80 temp=31.7 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=585.297 memavail=1727348 print_time=43.065 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16812.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000271 mcu_task_stddev=0.000257 bytes_write=77683 bytes_read=41810 bytes_retransmit=0 bytes_invalid=0 send_seq=3112 receive_seq=3112 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998135  orange_pi: temp=43.9 chamber_heater: target=80 temp=32.0 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=585.386 memavail=1726844 print_time=44.066 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16813.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000270 mcu_task_stddev=0.000253 bytes_write=79543 bytes_read=42766 bytes_retransmit=0 bytes_invalid=0 send_seq=3187 receive_seq=3186 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998132  orange_pi: temp=43.7 chamber_heater: target=80 temp=32.3 pwm=1.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.15 cputime=585.476 memavail=1726088 print_time=45.066 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16814.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000270 mcu_task_stddev=0.000253 bytes_write=81438 bytes_read=43809 bytes_retransmit=0 bytes_invalid=0 send_seq=3271 receive_seq=3271 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=43.9 chamber_heater: target=80 temp=32.4 pwm=1.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.13 cputime=585.567 memavail=1725848 print_time=46.066 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16815.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000270 mcu_task_stddev=0.000253 bytes_write=83358 bytes_read=44799 bytes_retransmit=0 bytes_invalid=0 send_seq=3349 receive_seq=3349 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998124  orange_pi: temp=46.0 chamber_heater: target=0 temp=32.8 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.13 cputime=585.662 memavail=1725352 print_time=47.364 buffer_time=0.049 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16816.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000270 mcu_task_stddev=0.000253 bytes_write=85343 bytes_read=45883 bytes_retransmit=0 bytes_invalid=0 send_seq=3436 receive_seq=3436 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998122  orange_pi: temp=43.5 chamber_heater: target=0 temp=32.9 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.13 cputime=585.756 memavail=1726108 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16817.4: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000270 mcu_task_stddev=0.000253 bytes_write=87212 bytes_read=46929 bytes_retransmit=0 bytes_invalid=0 send_seq=3520 receive_seq=3520 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998118  orange_pi: temp=43.3 chamber_heater: target=0 temp=33.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.13 cputime=585.844 memavail=1726628 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16818.4: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=88993 bytes_read=47775 bytes_retransmit=0 bytes_invalid=0 send_seq=3585 receive_seq=3585 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998117  orange_pi: temp=44.4 chamber_heater: target=0 temp=33.4 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.13 cputime=585.924 memavail=1726376 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16819.4: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=90918 bytes_read=48745 bytes_retransmit=0 bytes_invalid=0 send_seq=3663 receive_seq=3662 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.7 chamber_heater: target=0 temp=33.8 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.12 cputime=586.010 memavail=1725876 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16820.4: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=92869 bytes_read=49921 bytes_retransmit=0 bytes_invalid=0 send_seq=3756 receive_seq=3756 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998113  orange_pi: temp=44.0 chamber_heater: target=0 temp=33.9 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.12 cputime=586.106 memavail=1725372 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16821.4: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=94799 bytes_read=51044 bytes_retransmit=0 bytes_invalid=0 send_seq=3843 receive_seq=3843 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998113  orange_pi: temp=44.5 chamber_heater: target=0 temp=33.8 pwm=0.000 heater_bed: target=0 temp=27.8 pwm=0.000 sysload=1.12 cputime=586.196 memavail=1724620 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16822.4: gcodein=0  mcu: mcu_awake=0.145 mcu_task_avg=0.000289 mcu_task_stddev=0.000255 bytes_write=96688 bytes_read=51993 bytes_retransmit=0 bytes_invalid=0 send_seq=3919 receive_seq=3919 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998112  orange_pi: temp=43.8 chamber_heater: target=0 temp=34.5 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.12 cputime=586.282 memavail=1724876 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16823.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000286 mcu_task_stddev=0.000253 bytes_write=98504 bytes_read=52814 bytes_retransmit=0 bytes_invalid=0 send_seq=3986 receive_seq=3985 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998111  orange_pi: temp=43.5 chamber_heater: target=0 temp=34.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.12 cputime=586.364 memavail=1724400 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16824.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000286 mcu_task_stddev=0.000253 bytes_write=100321 bytes_read=53807 bytes_retransmit=0 bytes_invalid=0 send_seq=4062 receive_seq=4062 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998111  orange_pi: temp=43.7 chamber_heater: target=0 temp=34.4 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.11 cputime=586.452 memavail=1724400 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16825.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000286 mcu_task_stddev=0.000253 bytes_write=102106 bytes_read=54600 bytes_retransmit=0 bytes_invalid=0 send_seq=4126 receive_seq=4126 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998110  orange_pi: temp=43.6 chamber_heater: target=0 temp=34.7 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.11 cputime=586.535 memavail=1724452 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16826.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000286 mcu_task_stddev=0.000253 bytes_write=103933 bytes_read=55391 bytes_retransmit=0 bytes_invalid=0 send_seq=4191 receive_seq=4191 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998109  orange_pi: temp=43.4 chamber_heater: target=0 temp=34.6 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.11 cputime=586.614 memavail=1723708 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16827.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000286 mcu_task_stddev=0.000253 bytes_write=105757 bytes_read=56379 bytes_retransmit=0 bytes_invalid=0 send_seq=4269 receive_seq=4269 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998111  orange_pi: temp=43.5 chamber_heater: target=0 temp=34.6 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.11 cputime=586.701 memavail=1724220 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16828.4: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=107623 bytes_read=57346 bytes_retransmit=0 bytes_invalid=0 send_seq=4346 receive_seq=4346 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998110  orange_pi: temp=43.7 chamber_heater: target=0 temp=34.6 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.11 cputime=586.787 memavail=1723972 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16829.4: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=109570 bytes_read=58343 bytes_retransmit=0 bytes_invalid=0 send_seq=4428 receive_seq=4427 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998110  orange_pi: temp=43.7 chamber_heater: target=0 temp=34.6 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=586.876 memavail=1723972 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16830.4: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=111368 bytes_read=59240 bytes_retransmit=0 bytes_invalid=0 send_seq=4499 receive_seq=4498 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998113  orange_pi: temp=43.7 chamber_heater: target=0 temp=34.5 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=586.959 memavail=1723740 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16831.4: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=113256 bytes_read=60275 bytes_retransmit=0 bytes_invalid=0 send_seq=4580 receive_seq=4580 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998114  orange_pi: temp=43.3 chamber_heater: target=0 temp=34.6 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=587.047 memavail=1723992 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16832.4: gcodein=0  mcu: mcu_awake=0.124 mcu_task_avg=0.000272 mcu_task_stddev=0.000261 bytes_write=115176 bytes_read=61274 bytes_retransmit=0 bytes_invalid=0 send_seq=4661 receive_seq=4661 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998113  orange_pi: temp=43.6 chamber_heater: target=0 temp=34.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=587.136 memavail=1723992 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.6 pwm=0.000
Stats 16833.4: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000284 mcu_task_stddev=0.000259 bytes_write=116917 bytes_read=62060 bytes_retransmit=0 bytes_invalid=0 send_seq=4722 receive_seq=4722 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998114  orange_pi: temp=43.6 chamber_heater: target=0 temp=34.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=587.215 memavail=1723992 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16834.4: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000284 mcu_task_stddev=0.000259 bytes_write=118683 bytes_read=62856 bytes_retransmit=0 bytes_invalid=0 send_seq=4785 receive_seq=4785 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.2 chamber_heater: target=0 temp=34.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.17 cputime=587.295 memavail=1723992 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16835.4: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000284 mcu_task_stddev=0.000259 bytes_write=120489 bytes_read=63694 bytes_retransmit=0 bytes_invalid=0 send_seq=4853 receive_seq=4853 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.4 chamber_heater: target=0 temp=34.0 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.17 cputime=587.377 memavail=1724804 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16836.4: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000284 mcu_task_stddev=0.000259 bytes_write=122531 bytes_read=64892 bytes_retransmit=0 bytes_invalid=0 send_seq=4948 receive_seq=4947 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.7 chamber_heater: target=0 temp=34.0 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.17 cputime=587.473 memavail=1725584 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16837.4: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000284 mcu_task_stddev=0.000259 bytes_write=124351 bytes_read=65883 bytes_retransmit=0 bytes_invalid=0 send_seq=5025 receive_seq=5025 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.3 chamber_heater: target=0 temp=33.9 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.17 cputime=587.557 memavail=1725332 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16838.4: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000282 mcu_task_stddev=0.000260 bytes_write=126148 bytes_read=66712 bytes_retransmit=0 bytes_invalid=0 send_seq=5091 receive_seq=5091 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.2 chamber_heater: target=0 temp=33.8 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.17 cputime=587.637 memavail=1725332 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16839.4: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000282 mcu_task_stddev=0.000260 bytes_write=128189 bytes_read=67949 bytes_retransmit=0 bytes_invalid=0 send_seq=5188 receive_seq=5188 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.4 chamber_heater: target=0 temp=33.5 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=587.734 memavail=1726108 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.5 pwm=0.000
Stats 16840.4: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000282 mcu_task_stddev=0.000260 bytes_write=130144 bytes_read=69036 bytes_retransmit=0 bytes_invalid=0 send_seq=5275 receive_seq=5274 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.4 chamber_heater: target=0 temp=33.5 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.16 cputime=587.826 memavail=1726632 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16841.4: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000282 mcu_task_stddev=0.000260 bytes_write=131914 bytes_read=69913 bytes_retransmit=0 bytes_invalid=0 send_seq=5345 receive_seq=5345 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.6 chamber_heater: target=0 temp=33.2 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.16 cputime=587.909 memavail=1725904 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16842.4: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000282 mcu_task_stddev=0.000260 bytes_write=133745 bytes_read=70794 bytes_retransmit=0 bytes_invalid=0 send_seq=5414 receive_seq=5414 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998116  orange_pi: temp=43.2 chamber_heater: target=0 temp=33.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=587.992 memavail=1725928 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16843.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=135619 bytes_read=71721 bytes_retransmit=0 bytes_invalid=0 send_seq=5487 receive_seq=5487 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998161  orange_pi: temp=43.4 chamber_heater: target=0 temp=32.8 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=588.078 memavail=1725688 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Neopixel update did not succeed
Stats 16844.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=137591 bytes_read=72923 bytes_retransmit=0 bytes_invalid=0 send_seq=5583 receive_seq=5583 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998158  orange_pi: temp=43.5 chamber_heater: target=0 temp=32.9 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.14 cputime=588.176 memavail=1725964 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16845.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=139453 bytes_read=73942 bytes_retransmit=0 bytes_invalid=0 send_seq=5662 receive_seq=5662 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998155  orange_pi: temp=43.4 chamber_heater: target=0 temp=32.7 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=588.266 memavail=1726788 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16846.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=141334 bytes_read=74839 bytes_retransmit=0 bytes_invalid=0 send_seq=5734 receive_seq=5734 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998154  orange_pi: temp=43.1 chamber_heater: target=0 temp=32.7 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.14 cputime=588.353 memavail=1726304 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16847.4: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=143227 bytes_read=75890 bytes_retransmit=0 bytes_invalid=0 send_seq=5819 receive_seq=5819 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998151  orange_pi: temp=43.7 chamber_heater: target=0 temp=32.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=588.443 memavail=1726060 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16848.5: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000292 mcu_task_stddev=0.000252 bytes_write=145155 bytes_read=77022 bytes_retransmit=0 bytes_invalid=0 send_seq=5906 receive_seq=5906 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998148  orange_pi: temp=43.7 chamber_heater: target=0 temp=32.3 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.14 cputime=588.536 memavail=1725568 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16849.5: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000292 mcu_task_stddev=0.000252 bytes_write=147051 bytes_read=77984 bytes_retransmit=0 bytes_invalid=0 send_seq=5983 receive_seq=5983 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998170  orange_pi: temp=43.5 chamber_heater: target=0 temp=32.0 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.21 cputime=588.624 memavail=1725576 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16850.5: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000292 mcu_task_stddev=0.000252 bytes_write=148909 bytes_read=78866 bytes_retransmit=0 bytes_invalid=0 send_seq=6056 receive_seq=6055 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998166  orange_pi: temp=43.8 chamber_heater: target=0 temp=32.1 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=588.706 memavail=1725596 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16851.5: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000292 mcu_task_stddev=0.000252 bytes_write=150745 bytes_read=79890 bytes_retransmit=0 bytes_invalid=0 send_seq=6135 receive_seq=6135 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998162  orange_pi: temp=43.8 chamber_heater: target=0 temp=32.1 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=588.794 memavail=1725864 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16852.5: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000292 mcu_task_stddev=0.000252 bytes_write=152651 bytes_read=80912 bytes_retransmit=0 bytes_invalid=0 send_seq=6216 receive_seq=6216 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998160  orange_pi: temp=43.6 chamber_heater: target=0 temp=31.7 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.21 cputime=588.881 memavail=1725636 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16853.5: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000256 bytes_write=154548 bytes_read=81837 bytes_retransmit=0 bytes_invalid=0 send_seq=6291 receive_seq=6290 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998157  orange_pi: temp=43.4 chamber_heater: target=0 temp=31.7 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.21 cputime=588.968 memavail=1726188 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16854.5: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000256 bytes_write=156414 bytes_read=82926 bytes_retransmit=0 bytes_invalid=0 send_seq=6375 receive_seq=6375 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998154  orange_pi: temp=43.7 chamber_heater: target=0 temp=31.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.19 cputime=589.056 memavail=1725700 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16855.5: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000256 bytes_write=158294 bytes_read=83914 bytes_retransmit=0 bytes_invalid=0 send_seq=6454 receive_seq=6454 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998152  orange_pi: temp=43.6 chamber_heater: target=0 temp=31.3 pwm=0.000 heater_bed: target=0 temp=28.0 pwm=0.000 sysload=1.19 cputime=589.145 memavail=1723712 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16856.5: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000256 bytes_write=160267 bytes_read=84978 bytes_retransmit=0 bytes_invalid=0 send_seq=6540 receive_seq=6540 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998149  orange_pi: temp=43.7 chamber_heater: target=0 temp=31.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.19 cputime=589.235 memavail=1723464 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16857.5: gcodein=0  mcu: mcu_awake=0.137 mcu_task_avg=0.000280 mcu_task_stddev=0.000256 bytes_write=162065 bytes_read=85877 bytes_retransmit=0 bytes_invalid=0 send_seq=6611 receive_seq=6611 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.8 chamber_heater: target=0 temp=31.2 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.19 cputime=589.321 memavail=1722708 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16858.5: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000257 bytes_write=163867 bytes_read=86760 bytes_retransmit=0 bytes_invalid=0 send_seq=6680 receive_seq=6680 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998148  orange_pi: temp=43.9 chamber_heater: target=0 temp=31.0 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.19 cputime=589.404 memavail=1722456 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16859.5: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000257 bytes_write=165759 bytes_read=87707 bytes_retransmit=0 bytes_invalid=0 send_seq=6757 receive_seq=6757 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.9 chamber_heater: target=0 temp=30.9 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=589.490 memavail=1723012 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16860.5: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000257 bytes_write=167603 bytes_read=88580 bytes_retransmit=0 bytes_invalid=0 send_seq=6827 receive_seq=6826 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=44.1 chamber_heater: target=0 temp=30.8 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.18 cputime=589.575 memavail=1723776 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16861.5: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000257 bytes_write=169483 bytes_read=89675 bytes_retransmit=0 bytes_invalid=0 send_seq=6912 receive_seq=6912 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998142  orange_pi: temp=43.7 chamber_heater: target=0 temp=30.5 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.18 cputime=589.666 memavail=1724312 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16862.5: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000257 bytes_write=171287 bytes_read=90505 bytes_retransmit=0 bytes_invalid=0 send_seq=6980 receive_seq=6980 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998140  orange_pi: temp=43.5 chamber_heater: target=0 temp=30.6 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.18 cputime=589.747 memavail=1724572 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16863.5: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=173139 bytes_read=91385 bytes_retransmit=0 bytes_invalid=0 send_seq=7048 receive_seq=7048 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=44.1 chamber_heater: target=0 temp=30.3 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.18 cputime=589.831 memavail=1724584 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16864.5: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=174908 bytes_read=92264 bytes_retransmit=0 bytes_invalid=0 send_seq=7118 receive_seq=7118 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998167  orange_pi: temp=43.4 chamber_heater: target=0 temp=30.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=589.914 memavail=1724584 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16865.5: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=176822 bytes_read=93289 bytes_retransmit=0 bytes_invalid=0 send_seq=7201 receive_seq=7201 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998164  orange_pi: temp=43.5 chamber_heater: target=0 temp=30.7 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.16 cputime=590.006 memavail=1724344 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16866.5: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=178646 bytes_read=94123 bytes_retransmit=0 bytes_invalid=0 send_seq=7267 receive_seq=7267 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998161  orange_pi: temp=43.5 chamber_heater: target=0 temp=30.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.16 cputime=590.088 memavail=1724104 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16867.5: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000280 mcu_task_stddev=0.000261 bytes_write=180461 bytes_read=95075 bytes_retransmit=0 bytes_invalid=0 send_seq=7342 receive_seq=7342 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998162  orange_pi: temp=43.7 chamber_heater: target=0 temp=30.1 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=590.174 memavail=1724108 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16868.5: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000287 mcu_task_stddev=0.000262 bytes_write=182364 bytes_read=96091 bytes_retransmit=0 bytes_invalid=0 send_seq=7423 receive_seq=7423 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998160  orange_pi: temp=43.5 chamber_heater: target=0 temp=30.2 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.16 cputime=590.261 memavail=1724108 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Neopixel update did not succeed
Stats 16869.5: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000287 mcu_task_stddev=0.000262 bytes_write=184377 bytes_read=97310 bytes_retransmit=0 bytes_invalid=0 send_seq=7518 receive_seq=7518 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998157  orange_pi: temp=43.7 chamber_heater: target=0 temp=29.8 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=590.360 memavail=1723604 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16870.5: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000287 mcu_task_stddev=0.000262 bytes_write=186267 bytes_read=98241 bytes_retransmit=0 bytes_invalid=0 send_seq=7593 receive_seq=7592 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998155  orange_pi: temp=43.4 chamber_heater: target=0 temp=30.0 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.15 cputime=590.444 memavail=1723352 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16871.5: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000287 mcu_task_stddev=0.000262 bytes_write=188164 bytes_read=99352 bytes_retransmit=0 bytes_invalid=0 send_seq=7681 receive_seq=7681 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998152  orange_pi: temp=43.2 chamber_heater: target=0 temp=29.9 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.15 cputime=590.533 memavail=1723128 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16872.5: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000287 mcu_task_stddev=0.000262 bytes_write=189929 bytes_read=100147 bytes_retransmit=0 bytes_invalid=0 send_seq=7744 receive_seq=7744 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998149  orange_pi: temp=43.9 chamber_heater: target=0 temp=29.9 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.15 cputime=590.613 memavail=1723128 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16873.5: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000288 mcu_task_stddev=0.000255 bytes_write=191819 bytes_read=101082 bytes_retransmit=0 bytes_invalid=0 send_seq=7817 receive_seq=7817 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998148  orange_pi: temp=43.5 chamber_heater: target=0 temp=30.0 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.15 cputime=590.699 memavail=1723132 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16874.5: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000288 mcu_task_stddev=0.000255 bytes_write=193626 bytes_read=102011 bytes_retransmit=0 bytes_invalid=0 send_seq=7892 receive_seq=7892 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.7 chamber_heater: target=0 temp=29.5 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.14 cputime=590.784 memavail=1723132 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16875.5: gcodein=0  mcu: mcu_awake=0.143 mcu_task_avg=0.000288 mcu_task_stddev=0.000255 bytes_write=195472 bytes_read=102936 bytes_retransmit=0 bytes_invalid=0 send_seq=7965 receive_seq=7965 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998143  orange_pi: temp=43.7 chamber_heater: target=0 temp=29.7 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.14 cputime=590.871 memavail=1722880 print_time=47.364 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16881.5: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000281 mcu_task_stddev=0.000260 bytes_write=206612 bytes_read=108619 bytes_retransmit=0 bytes_invalid=0 send_seq=8417 receive_seq=8417 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998137  orange_pi: temp=43.1 chamber_heater: target=0 temp=29.3 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.13 cputime=591.391 memavail=1720888 print_time=113.740 buffer_time=0.393 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Attempting MCU 'mcu' reset command
webhooks client 281473795358384: Disconnected
Restarting printer
Start printer at Thu Jan  2 01:57:25 2025 (1735772245.6 16883.0)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=50 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=65  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	START_DRYER TEMPERATURE=80 CHAMBER=80 TIME=18000

[gcode_macro M3]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281473793384624: New connection
webhooks client 281473793384624: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 16887.3: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=3270 bytes_read=6196 bytes_retransmit=0 bytes_invalid=0 send_seq=231 receive_seq=228 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2006 upcoming_bytes=167 freq=71994507  orange_pi: temp=44.4 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.20 cputime=594.636 memavail=1722128 print_time=5.508 buffer_time=0.196 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281473793384624
webhooks: registering remote method 'reboot_machine' for connection id: 281473793384624
webhooks: registering remote method 'pause_job_queue' for connection id: 281473793384624
webhooks: registering remote method 'start_job_queue' for connection id: 281473793384624
Stats 16888.3: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=7273 bytes_read=6929 bytes_retransmit=0 bytes_invalid=0 send_seq=323 receive_seq=323 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71996275  orange_pi: temp=44.4 chamber_heater: target=0 temp=29.1 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.20 cputime=594.741 memavail=1722400 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Neopixel update did not succeed
Stats 16889.3: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=9246 bytes_read=7933 bytes_retransmit=0 bytes_invalid=0 send_seq=406 receive_seq=405 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998306  orange_pi: temp=44.6 chamber_heater: target=0 temp=29.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.18 cputime=594.863 memavail=1722196 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16890.3: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=11088 bytes_read=8931 bytes_retransmit=0 bytes_invalid=0 send_seq=483 receive_seq=483 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997923  orange_pi: temp=44.1 chamber_heater: target=0 temp=29.0 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.18 cputime=594.949 memavail=1722200 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16891.3: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=12948 bytes_read=9909 bytes_retransmit=0 bytes_invalid=0 send_seq=560 receive_seq=560 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997816  orange_pi: temp=44.0 chamber_heater: target=0 temp=29.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.18 cputime=595.034 memavail=1722200 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16892.3: gcodein=0  mcu: mcu_awake=0.167 mcu_task_avg=0.000262 mcu_task_stddev=0.000304 bytes_write=14777 bytes_read=10756 bytes_retransmit=0 bytes_invalid=0 send_seq=628 receive_seq=628 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997795  orange_pi: temp=43.6 chamber_heater: target=0 temp=29.0 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.18 cputime=595.115 memavail=1721696 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16893.3: gcodein=0  mcu: mcu_awake=0.167 mcu_task_avg=0.000262 mcu_task_stddev=0.000304 bytes_write=16630 bytes_read=11733 bytes_retransmit=0 bytes_invalid=0 send_seq=705 receive_seq=705 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997826  orange_pi: temp=43.3 chamber_heater: target=0 temp=29.0 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.18 cputime=595.203 memavail=1721192 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16894.3: gcodein=0  mcu: mcu_awake=0.167 mcu_task_avg=0.000262 mcu_task_stddev=0.000304 bytes_write=18513 bytes_read=12742 bytes_retransmit=0 bytes_invalid=0 send_seq=785 receive_seq=785 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998583  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.9 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.25 cputime=595.288 memavail=1721192 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16895.3: gcodein=0  mcu: mcu_awake=0.167 mcu_task_avg=0.000262 mcu_task_stddev=0.000304 bytes_write=20275 bytes_read=13494 bytes_retransmit=0 bytes_invalid=0 send_seq=847 receive_seq=847 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998375  orange_pi: temp=43.3 chamber_heater: target=0 temp=28.9 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.25 cputime=595.367 memavail=1720436 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16896.3: gcodein=0  mcu: mcu_awake=0.167 mcu_task_avg=0.000262 mcu_task_stddev=0.000304 bytes_write=22177 bytes_read=14445 bytes_retransmit=0 bytes_invalid=0 send_seq=922 receive_seq=922 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998247  orange_pi: temp=43.1 chamber_heater: target=0 temp=28.8 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.25 cputime=595.452 memavail=1720436 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16897.3: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000258 bytes_write=24160 bytes_read=15705 bytes_retransmit=0 bytes_invalid=0 send_seq=1020 receive_seq=1020 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998187  orange_pi: temp=43.3 chamber_heater: target=0 temp=28.8 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.25 cputime=595.550 memavail=1720936 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16898.3: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000258 bytes_write=25988 bytes_read=16608 bytes_retransmit=0 bytes_invalid=0 send_seq=1093 receive_seq=1093 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998139  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.9 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.25 cputime=595.634 memavail=1720948 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16899.3: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000258 bytes_write=27861 bytes_read=17533 bytes_retransmit=0 bytes_invalid=0 send_seq=1166 receive_seq=1166 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998105  orange_pi: temp=43.3 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.23 cputime=595.720 memavail=1720948 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16900.3: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000258 bytes_write=29748 bytes_read=18581 bytes_retransmit=0 bytes_invalid=0 send_seq=1249 receive_seq=1249 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998092  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.9 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.23 cputime=595.809 memavail=1721196 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16901.3: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000279 mcu_task_stddev=0.000258 bytes_write=31558 bytes_read=19445 bytes_retransmit=0 bytes_invalid=0 send_seq=1319 receive_seq=1319 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998075  orange_pi: temp=43.6 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.23 cputime=595.893 memavail=1721200 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16902.3: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000282 mcu_task_stddev=0.000258 bytes_write=33443 bytes_read=20439 bytes_retransmit=0 bytes_invalid=0 send_seq=1396 receive_seq=1396 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998063  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.1 pwm=0.000 sysload=1.23 cputime=595.979 memavail=1720948 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16903.3: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000282 mcu_task_stddev=0.000258 bytes_write=35202 bytes_read=21214 bytes_retransmit=0 bytes_invalid=0 send_seq=1458 receive_seq=1458 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998059  orange_pi: temp=44.1 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.23 cputime=596.082 memavail=1720948 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16904.3: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000282 mcu_task_stddev=0.000258 bytes_write=37076 bytes_read=22195 bytes_retransmit=0 bytes_invalid=0 send_seq=1537 receive_seq=1537 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998056  orange_pi: temp=44.1 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.29 cputime=596.167 memavail=1720952 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16905.3: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000282 mcu_task_stddev=0.000258 bytes_write=38969 bytes_read=23232 bytes_retransmit=0 bytes_invalid=0 send_seq=1618 receive_seq=1618 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998053  orange_pi: temp=43.9 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.29 cputime=596.258 memavail=1720700 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16906.3: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000282 mcu_task_stddev=0.000258 bytes_write=40803 bytes_read=24033 bytes_retransmit=0 bytes_invalid=0 send_seq=1683 receive_seq=1682 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998059  orange_pi: temp=45.0 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.29 cputime=596.341 memavail=1720700 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16907.3: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000279 mcu_task_stddev=0.000265 bytes_write=42526 bytes_read=24836 bytes_retransmit=0 bytes_invalid=0 send_seq=1746 receive_seq=1746 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998058  orange_pi: temp=43.8 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.29 cputime=596.420 memavail=1720700 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16908.3: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000279 mcu_task_stddev=0.000265 bytes_write=44344 bytes_read=25709 bytes_retransmit=0 bytes_invalid=0 send_seq=1815 receive_seq=1815 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998058  orange_pi: temp=43.6 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.29 cputime=596.502 memavail=1720468 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16909.3: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000279 mcu_task_stddev=0.000265 bytes_write=46263 bytes_read=26718 bytes_retransmit=0 bytes_invalid=0 send_seq=1895 receive_seq=1895 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998059  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.27 cputime=596.591 memavail=1721224 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16910.3: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000279 mcu_task_stddev=0.000265 bytes_write=48061 bytes_read=27616 bytes_retransmit=0 bytes_invalid=0 send_seq=1967 receive_seq=1967 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998059  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.27 cputime=596.673 memavail=1720720 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16911.3: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000279 mcu_task_stddev=0.000265 bytes_write=49973 bytes_read=28658 bytes_retransmit=0 bytes_invalid=0 send_seq=2049 receive_seq=2049 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998059  orange_pi: temp=43.6 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.27 cputime=596.762 memavail=1720468 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16912.3: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000262 bytes_write=51765 bytes_read=29481 bytes_retransmit=0 bytes_invalid=0 send_seq=2114 receive_seq=2114 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998062  orange_pi: temp=43.9 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.27 cputime=596.843 memavail=1720468 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16913.3: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000262 bytes_write=53684 bytes_read=30480 bytes_retransmit=0 bytes_invalid=0 send_seq=2195 receive_seq=2195 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998230  orange_pi: temp=44.1 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.27 cputime=596.932 memavail=1720220 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16914.3: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000262 bytes_write=55430 bytes_read=31296 bytes_retransmit=0 bytes_invalid=0 send_seq=2259 receive_seq=2259 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998219  orange_pi: temp=43.4 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.33 cputime=597.010 memavail=1719968 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16915.3: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000262 bytes_write=57206 bytes_read=32100 bytes_retransmit=0 bytes_invalid=0 send_seq=2323 receive_seq=2323 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998212  orange_pi: temp=43.9 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.33 cputime=597.092 memavail=1719464 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16916.3: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000262 bytes_write=59228 bytes_read=33242 bytes_retransmit=0 bytes_invalid=0 send_seq=2416 receive_seq=2415 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998198  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.33 cputime=597.185 memavail=1719464 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16917.3: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000287 mcu_task_stddev=0.000259 bytes_write=61052 bytes_read=34257 bytes_retransmit=0 bytes_invalid=0 send_seq=2493 receive_seq=2493 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998185  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.33 cputime=597.272 memavail=1719464 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16918.3: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000287 mcu_task_stddev=0.000259 bytes_write=62870 bytes_read=35115 bytes_retransmit=0 bytes_invalid=0 send_seq=2562 receive_seq=2562 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998257  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.33 cputime=597.354 memavail=1719464 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.7 pwm=0.000
Stats 16919.3: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000287 mcu_task_stddev=0.000259 bytes_write=64762 bytes_read=36062 bytes_retransmit=0 bytes_invalid=0 send_seq=2639 receive_seq=2639 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998346  orange_pi: temp=43.4 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.30 cputime=597.440 memavail=1719000 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.2 pwm=0.000
Stats 16920.3: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000287 mcu_task_stddev=0.000259 bytes_write=66439 bytes_read=36748 bytes_retransmit=0 bytes_invalid=0 send_seq=2693 receive_seq=2693 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998316  orange_pi: temp=43.6 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.30 cputime=597.518 memavail=1719764 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16921.3: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000287 mcu_task_stddev=0.000259 bytes_write=68220 bytes_read=37536 bytes_retransmit=0 bytes_invalid=0 send_seq=2756 receive_seq=2756 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998296  orange_pi: temp=43.8 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.30 cputime=597.597 memavail=1719784 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16922.3: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000265 mcu_task_stddev=0.000262 bytes_write=70010 bytes_read=38357 bytes_retransmit=0 bytes_invalid=0 send_seq=2822 receive_seq=2822 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998271  orange_pi: temp=44.0 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.30 cputime=597.680 memavail=1719784 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.1 pwm=0.000
Stats 16923.3: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000265 mcu_task_stddev=0.000262 bytes_write=71792 bytes_read=39199 bytes_retransmit=0 bytes_invalid=0 send_seq=2888 receive_seq=2888 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998250  orange_pi: temp=43.8 chamber_heater: target=0 temp=28.3 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.30 cputime=597.761 memavail=1720544 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16924.3: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000265 mcu_task_stddev=0.000262 bytes_write=73611 bytes_read=40057 bytes_retransmit=0 bytes_invalid=0 send_seq=2957 receive_seq=2957 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998232  orange_pi: temp=44.4 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.27 cputime=597.844 memavail=1721068 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16925.3: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000265 mcu_task_stddev=0.000262 bytes_write=75422 bytes_read=40895 bytes_retransmit=0 bytes_invalid=0 send_seq=3025 receive_seq=3025 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998218  orange_pi: temp=44.1 chamber_heater: target=0 temp=28.6 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.27 cputime=597.926 memavail=1720912 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16926.3: gcodein=0  mcu: mcu_awake=0.116 mcu_task_avg=0.000265 mcu_task_stddev=0.000262 bytes_write=77154 bytes_read=41672 bytes_retransmit=0 bytes_invalid=0 send_seq=3086 receive_seq=3086 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998204  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.27 cputime=598.002 memavail=1720696 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16927.3: gcodein=0  mcu: mcu_awake=0.115 mcu_task_avg=0.000265 mcu_task_stddev=0.000264 bytes_write=78968 bytes_read=42521 bytes_retransmit=0 bytes_invalid=0 send_seq=3153 receive_seq=3153 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998191  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.3 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.27 cputime=598.084 memavail=1719944 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16928.3: gcodein=0  mcu: mcu_awake=0.115 mcu_task_avg=0.000265 mcu_task_stddev=0.000264 bytes_write=80796 bytes_read=43385 bytes_retransmit=0 bytes_invalid=0 send_seq=3223 receive_seq=3223 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998182  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.5 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.27 cputime=598.166 memavail=1719440 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16929.3: gcodein=0  mcu: mcu_awake=0.115 mcu_task_avg=0.000265 mcu_task_stddev=0.000264 bytes_write=82546 bytes_read=44227 bytes_retransmit=0 bytes_invalid=0 send_seq=3289 receive_seq=3289 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998172  orange_pi: temp=44.1 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.25 cputime=598.246 memavail=1718432 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16930.3: gcodein=0  mcu: mcu_awake=0.115 mcu_task_avg=0.000265 mcu_task_stddev=0.000264 bytes_write=84423 bytes_read=45137 bytes_retransmit=0 bytes_invalid=0 send_seq=3362 receive_seq=3362 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998240  orange_pi: temp=43.3 chamber_heater: target=0 temp=28.3 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.25 cputime=598.330 memavail=1718944 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.8 pwm=0.000
Stats 16931.3: gcodein=0  mcu: mcu_awake=0.115 mcu_task_avg=0.000265 mcu_task_stddev=0.000264 bytes_write=86251 bytes_read=45988 bytes_retransmit=0 bytes_invalid=0 send_seq=3432 receive_seq=3431 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998224  orange_pi: temp=43.7 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.25 cputime=598.411 memavail=1718740 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16932.3: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000269 mcu_task_stddev=0.000262 bytes_write=87969 bytes_read=46800 bytes_retransmit=0 bytes_invalid=0 send_seq=3494 receive_seq=3494 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998217  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.3 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.25 cputime=598.492 memavail=1719264 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16933.3: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000269 mcu_task_stddev=0.000262 bytes_write=89875 bytes_read=47783 bytes_retransmit=0 bytes_invalid=0 send_seq=3572 receive_seq=3572 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998204  orange_pi: temp=43.5 chamber_heater: target=0 temp=28.7 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.25 cputime=598.576 memavail=1719284 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16934.3: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000269 mcu_task_stddev=0.000262 bytes_write=91606 bytes_read=48457 bytes_retransmit=0 bytes_invalid=0 send_seq=3628 receive_seq=3628 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998201  orange_pi: temp=43.3 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.23 cputime=598.670 memavail=1702432 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Neopixel update did not succeed
Stats 16935.3: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000269 mcu_task_stddev=0.000262 bytes_write=93347 bytes_read=49237 bytes_retransmit=0 bytes_invalid=0 send_seq=3688 receive_seq=3688 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998200  orange_pi: temp=46.6 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.23 cputime=598.780 memavail=1701972 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16936.3: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000269 mcu_task_stddev=0.000262 bytes_write=95080 bytes_read=49973 bytes_retransmit=0 bytes_invalid=0 send_seq=3747 receive_seq=3747 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998194  orange_pi: temp=45.8 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.23 cputime=598.876 memavail=1702444 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Stats 16937.3: gcodein=0  mcu: mcu_awake=0.107 mcu_task_avg=0.000253 mcu_task_stddev=0.000259 bytes_write=96919 bytes_read=50846 bytes_retransmit=0 bytes_invalid=0 send_seq=3817 receive_seq=3817 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998188  orange_pi: temp=44.0 chamber_heater: target=0 temp=28.2 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.23 cputime=598.959 memavail=1702480 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.1 pwm=0.000
Stats 16938.3: gcodein=0  mcu: mcu_awake=0.107 mcu_task_avg=0.000253 mcu_task_stddev=0.000259 bytes_write=98714 bytes_read=51745 bytes_retransmit=0 bytes_invalid=0 send_seq=3888 receive_seq=3888 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998179  orange_pi: temp=46.2 chamber_heater: target=0 temp=28.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.23 cputime=599.060 memavail=1700368 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Neopixel update did not succeed
Stats 16939.3: gcodein=0  mcu: mcu_awake=0.107 mcu_task_avg=0.000253 mcu_task_stddev=0.000259 bytes_write=100490 bytes_read=52567 bytes_retransmit=0 bytes_invalid=0 send_seq=3953 receive_seq=3953 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998203  orange_pi: temp=45.3 chamber_heater: target=0 temp=28.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.29 cputime=599.170 memavail=1699540 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Neopixel update did not succeed
Stats 16940.3: gcodein=0  mcu: mcu_awake=0.107 mcu_task_avg=0.000253 mcu_task_stddev=0.000259 bytes_write=102276 bytes_read=53280 bytes_retransmit=0 bytes_invalid=0 send_seq=4012 receive_seq=4012 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998195  orange_pi: temp=46.0 chamber_heater: target=0 temp=28.2 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.29 cputime=599.275 memavail=1697980 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Neopixel update did not succeed
Stats 16941.3: gcodein=0  mcu: mcu_awake=0.107 mcu_task_avg=0.000253 mcu_task_stddev=0.000259 bytes_write=103975 bytes_read=54034 bytes_retransmit=0 bytes_invalid=0 send_seq=4072 receive_seq=4072 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998190  orange_pi: temp=45.5 chamber_heater: target=0 temp=28.1 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.29 cputime=599.397 memavail=1704172 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16942.3: gcodein=0  mcu: mcu_awake=0.096 mcu_task_avg=0.000232 mcu_task_stddev=0.000253 bytes_write=105686 bytes_read=54718 bytes_retransmit=0 bytes_invalid=0 send_seq=4126 receive_seq=4126 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998187  orange_pi: temp=48.5 chamber_heater: target=0 temp=28.4 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.29 cputime=599.507 memavail=1715676 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16943.3: gcodein=0  mcu: mcu_awake=0.096 mcu_task_avg=0.000232 mcu_task_stddev=0.000253 bytes_write=107413 bytes_read=55325 bytes_retransmit=0 bytes_invalid=0 send_seq=4177 receive_seq=4177 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998181  orange_pi: temp=48.0 chamber_heater: target=0 temp=28.2 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.29 cputime=599.603 memavail=1714080 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Stats 16944.3: gcodein=0  mcu: mcu_awake=0.096 mcu_task_avg=0.000232 mcu_task_stddev=0.000253 bytes_write=109218 bytes_read=56188 bytes_retransmit=0 bytes_invalid=0 send_seq=4246 receive_seq=4246 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=22 upcoming_bytes=0 freq=71998177  orange_pi: temp=46.9 chamber_heater: target=0 temp=28.2 pwm=0.000 heater_bed: target=0 temp=28.3 pwm=0.000 sysload=1.35 cputime=599.718 memavail=1703544 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16945.3: gcodein=0  mcu: mcu_awake=0.096 mcu_task_avg=0.000232 mcu_task_stddev=0.000253 bytes_write=110904 bytes_read=56880 bytes_retransmit=0 bytes_invalid=0 send_seq=4301 receive_seq=4301 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998175  orange_pi: temp=48.3 chamber_heater: target=0 temp=28.1 pwm=0.000 heater_bed: target=0 temp=28.5 pwm=0.000 sysload=1.35 cputime=599.819 memavail=1691600 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.9 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Stats 16946.3: gcodein=0  mcu: mcu_awake=0.096 mcu_task_avg=0.000232 mcu_task_stddev=0.000253 bytes_write=112703 bytes_read=57658 bytes_retransmit=0 bytes_invalid=0 send_seq=4365 receive_seq=4365 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998172  orange_pi: temp=46.8 chamber_heater: target=0 temp=28.1 pwm=0.000 heater_bed: target=0 temp=28.2 pwm=0.000 sysload=1.35 cputime=599.933 memavail=1679052 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Stats 16947.3: gcodein=0  mcu: mcu_awake=0.086 mcu_task_avg=0.000218 mcu_task_stddev=0.000251 bytes_write=114445 bytes_read=58366 bytes_retransmit=0 bytes_invalid=0 send_seq=4420 receive_seq=4420 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998168  orange_pi: temp=46.5 chamber_heater: target=0 temp=28.3 pwm=0.000 heater_bed: target=0 temp=28.4 pwm=0.000 sysload=1.35 cputime=600.031 memavail=1674556 print_time=5.508 buffer_time=0.000 print_stall=0 extruder: target=0 temp=28.0 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
webhooks client 281473793384624: Disconnected
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
webhooks client 281473797754016: New connection
webhooks client 281473797754016: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281473797754016
webhooks: registering remote method 'reboot_machine' for connection id: 281473797754016
webhooks: registering remote method 'pause_job_queue' for connection id: 281473797754016
webhooks: registering remote method 'start_job_queue' for connection id: 281473797754016
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Klipper-Backup is up to date


From https://github.com/Ferz82/github-klipper-backup
 * branch            main       -> FETCH_HEAD

Already up to date.

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
skipping non-regular file "printer_data/comms/klippy.serial"
skipping non-regular file "printer_data/comms/klippy.sock"
skipping non-regular file "printer_data/comms/moonraker.sock"

skipping non-regular file "printer_data/config/KAMP"
skipping non-regular file "printer_data/config/mainsail.cfg"

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
skipping non-regular file "printer_data/logs/mainsail-access.log"
skipping non-regular file "printer_data/logs/mainsail-error.log"

Skipping symbolic link: mainsail-config/mainsail.cfg

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Command {update_git_script} timed out
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Neopixel update did not succeed
Klipper-Backup is up to date


Neopixel update did not succeed
Neopixel update did not succeed
From https://github.com/Ferz82/github-klipper-backup
 * branch            main       -> FETCH_HEAD

Already up to date.

Neopixel update did not succeed
skipping non-regular file "printer_data/comms/klippy.serial"
skipping non-regular file "printer_data/comms/klippy.sock"
skipping non-regular file "printer_data/comms/moonraker.sock"

skipping non-regular file "printer_data/config/KAMP"
skipping non-regular file "printer_data/config/mainsail.cfg"

Neopixel update did not succeed
skipping non-regular file "printer_data/logs/mainsail-access.log"
skipping non-regular file "printer_data/logs/mainsail-error.log"

Skipping symbolic link: mainsail-config/mainsail.cfg

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Command {update_git_script} timed out
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Klipper-Backup is up to date


Neopixel update did not succeed
From https://github.com/Ferz82/github-klipper-backup
 * branch            main       -> FETCH_HEAD

   9b542df..2bda863  main       -> origin/main

error: The following untracked working tree files would be removed by merge:
	printer_data/.moonraker.uuid
	printer_data/config/macros.cfg
	printer_data/config/moonraker.conf
	printer_data/config/printer.cfg
	printer_data/config/shell_command.cfg
	printer_data/config/timelapse.cfg
	printer_data/database/moonraker-sql.db
	printer_data/gcodes/.thumbs/Куб_0.2mm_PETG_Generic Klipper Printer_116d18h27m-32x32.png
	printer_data/gcodes/.thumbs/Куб_0.2mm_PETG_Generic Klipper Printer_116d18h27m-48x48.png
	printer_data/gcodes/.thumbs/Куб_0.2mm_PETG_Generic Klipper Printer_116d18h27m-900x600.png
	printer_data/gcodes/Куб_0.2mm_PETG_Generic Klipper Printer_116d18h27m.gcode
	printer_data/logs/klippy.log
	printer_data/logs/moonraker.log
	printer_data/misc/usb.ids
	printer_data/moonraker.asvc
	printer_data/systemd/klipper.env
	printer_data/systemd/moonraker.env
Please move or remove them before you merge.
Aborting

Updating 9b542df..2bda863

Neopixel update did not succeed
Neopixel update did not succeed
skipping non-regular file "printer_data/comms/klippy.serial"
skipping non-regular file "printer_data/comms/klippy.sock"
skipping non-regular file "printer_data/comms/moonraker.sock"

skipping non-regular file "printer_data/config/KAMP"
skipping non-regular file "printer_data/config/mainsail.cfg"

Neopixel update did not succeed
skipping non-regular file "printer_data/logs/mainsail-access.log"
skipping non-regular file "printer_data/logs/mainsail-error.log"

Neopixel update did not succeed
Skipping symbolic link: mainsail-config/mainsail.cfg

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Command {update_git_script} timed out
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
webhooks client 281473797754016: Disconnected
Neopixel update did not succeed
webhooks client 281473793703456: New connection
webhooks client 281473793703456: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281473793703456
webhooks: registering remote method 'reboot_machine' for connection id: 281473793703456
webhooks: registering remote method 'pause_job_queue' for connection id: 281473793703456
webhooks: registering remote method 'start_job_queue' for connection id: 281473793703456
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
/home/klipper/klipper-backup/script.sh: line 13: /home/klipper/klipper-backup/.env: No such file or directory

[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Klipper-Backup is up to date


.env file is not using version 2 config, upgrading to V2

/home/klipper/klipper-backup/utils/v1convert.sh: line 12: /home/klipper/klipper-backup/.env: No such file or directory

cp: cannot stat '/home/klipper/klipper-backup/.env': No such file or directory

grep: /home/klipper/klipper-backup/.env: No such file or directory

grep: /home/klipper/klipper-backup/.env: No such file or directory

rm: cannot remove '/home/klipper/klipper-backup/.env': No such file or directory

Upgrade complete restarting script.sh

[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


[K[1;91mUnknown option: [0m

Usage: script.sh [OPTION]...
Klipper-Backup is a script for manual or automated Klipper GitHub backups. It's Lightweight, pragmatic and comfortable.

https://github.com/Staubgeborener/klipper-backup
https://klipperbackup.xyz

Options:
  -h, --help                     display this help and exit
  -c, --commit_message [TEXT]    use your own commit message for the git push
  -f, --fix                      delete the config_backup folder. This can help to solve the vast majority of error messages
  -d, --debug                    debugging output

Examples:

  script.sh --help

  script.sh --commit_message "My own commit message"

  script.sh --fix

  script.sh --debug

Command {update_git_script} finished

Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Neopixel update did not succeed
Klipper-Backup is up to date


fatal: invalid branch name: init.defaultBranch = 

fatal: not in a git directory

fatal: not in a git directory

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: No remote configured to list refs from.

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

Command {update_git_script} finished

Neopixel update did not succeed
Unknown command:"SCRIPT."
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
webhooks client 281473793703456: Disconnected
webhooks client 281473795552352: New connection
Neopixel update did not succeed
webhooks client 281473795552352: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281473795552352
webhooks: registering remote method 'reboot_machine' for connection id: 281473795552352
webhooks: registering remote method 'pause_job_queue' for connection id: 281473795552352
webhooks: registering remote method 'start_job_queue' for connection id: 281473795552352
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Klipper-Backup is up to date


fatal: not a git repository (or any of the parent directories): .git

fatal: not in a git directory

fatal: not in a git directory

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: No remote configured to list refs from.

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

Command {update_git_script} finished

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Stats 22957.2: gcodein=0  mcu: mcu_awake=0.147 mcu_task_avg=0.000288 mcu_task_stddev=0.000254 bytes_write=11258020 bytes_read=5724892 bytes_retransmit=0 bytes_invalid=0 send_seq=454786 receive_seq=454786 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998145  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.16 cputime=1119.183 memavail=1672852 print_time=6075.223 buffer_time=0.117 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Attempting MCU 'mcu' reset command
webhooks client 281473795552352: Disconnected
Restarting printer
Start printer at Thu Jan  2 03:38:41 2025 (1735778321.1 22958.5)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=50 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=65  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	START_DRYER TEMPERATURE=80 CHAMBER=80 TIME=18000

[gcode_macro M3]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281473797377184: New connection
webhooks client 281473797377184: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 22962.7: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000030 mcu_task_stddev=0.000054 bytes_write=3270 bytes_read=6196 bytes_retransmit=0 bytes_invalid=0 send_seq=231 receive_seq=228 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=1991 upcoming_bytes=182 freq=71996032  orange_pi: temp=44.8 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.23 cputime=1122.382 memavail=1672272 print_time=5.502 buffer_time=0.196 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281473797377184
webhooks: registering remote method 'reboot_machine' for connection id: 281473797377184
webhooks: registering remote method 'pause_job_queue' for connection id: 281473797377184
webhooks: registering remote method 'start_job_queue' for connection id: 281473797377184
Stats 22963.7: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000030 mcu_task_stddev=0.000054 bytes_write=7339 bytes_read=7020 bytes_retransmit=0 bytes_invalid=0 send_seq=331 receive_seq=330 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=11 upcoming_bytes=0 freq=71997828  orange_pi: temp=45.0 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.21 cputime=1122.489 memavail=1672076 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 22964.7: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000030 mcu_task_stddev=0.000054 bytes_write=9204 bytes_read=7855 bytes_retransmit=0 bytes_invalid=0 send_seq=400 receive_seq=399 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998535  orange_pi: temp=44.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.21 cputime=1122.587 memavail=1671616 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 22965.7: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000030 mcu_task_stddev=0.000054 bytes_write=10902 bytes_read=8619 bytes_retransmit=0 bytes_invalid=0 send_seq=459 receive_seq=459 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998016  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.21 cputime=1122.666 memavail=1670900 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22966.7: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000030 mcu_task_stddev=0.000054 bytes_write=12652 bytes_read=9355 bytes_retransmit=0 bytes_invalid=0 send_seq=518 receive_seq=518 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997955  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.21 cputime=1122.746 memavail=1671148 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 22967.7: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000254 mcu_task_stddev=0.000306 bytes_write=14656 bytes_read=10527 bytes_retransmit=0 bytes_invalid=0 send_seq=611 receive_seq=611 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71999479  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.21 cputime=1122.839 memavail=1671664 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 22968.7: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000254 mcu_task_stddev=0.000306 bytes_write=16642 bytes_read=11751 bytes_retransmit=0 bytes_invalid=0 send_seq=707 receive_seq=707 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998843  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.19 cputime=1122.933 memavail=1671672 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22969.7: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000254 mcu_task_stddev=0.000306 bytes_write=18464 bytes_read=12651 bytes_retransmit=0 bytes_invalid=0 send_seq=778 receive_seq=778 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998534  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.19 cputime=1123.016 memavail=1671452 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 22970.7: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000254 mcu_task_stddev=0.000306 bytes_write=20212 bytes_read=13377 bytes_retransmit=0 bytes_invalid=0 send_seq=838 receive_seq=838 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998354  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.19 cputime=1123.093 memavail=1671724 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22971.7: gcodein=0  mcu: mcu_awake=0.153 mcu_task_avg=0.000254 mcu_task_stddev=0.000306 bytes_write=22031 bytes_read=14250 bytes_retransmit=0 bytes_invalid=0 send_seq=907 receive_seq=907 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998236  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.19 cputime=1123.176 memavail=1671504 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Stats 22972.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000277 mcu_task_stddev=0.000257 bytes_write=23850 bytes_read=15167 bytes_retransmit=0 bytes_invalid=0 send_seq=978 receive_seq=978 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998178  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.19 cputime=1123.276 memavail=1663704 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Neopixel update did not succeed
Klipper-Backup is up to date


fatal: not a git repository (or any of the parent directories): .git

fatal: not in a git directory

fatal: not in a git directory

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: No remote configured to list refs from.

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

Command {update_git_script} finished

Stats 22973.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000277 mcu_task_stddev=0.000257 bytes_write=25638 bytes_read=15958 bytes_retransmit=0 bytes_invalid=0 send_seq=1043 receive_seq=1043 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998168  orange_pi: temp=46.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.17 cputime=1123.434 memavail=1671528 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22974.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000277 mcu_task_stddev=0.000257 bytes_write=27539 bytes_read=16922 bytes_retransmit=0 bytes_invalid=0 send_seq=1120 receive_seq=1119 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998122  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.17 cputime=1123.521 memavail=1671524 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22975.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000277 mcu_task_stddev=0.000257 bytes_write=29401 bytes_read=17970 bytes_retransmit=0 bytes_invalid=0 send_seq=1202 receive_seq=1202 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998111  orange_pi: temp=44.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.17 cputime=1123.611 memavail=1671292 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 22976.7: gcodein=0  mcu: mcu_awake=0.132 mcu_task_avg=0.000277 mcu_task_stddev=0.000257 bytes_write=31362 bytes_read=19081 bytes_retransmit=0 bytes_invalid=0 send_seq=1291 receive_seq=1291 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998085  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.17 cputime=1123.703 memavail=1671304 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22977.7: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000281 mcu_task_stddev=0.000256 bytes_write=33247 bytes_read=20062 bytes_retransmit=0 bytes_invalid=0 send_seq=1368 receive_seq=1367 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998071  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.17 cputime=1123.788 memavail=1671064 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 22978.7: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000281 mcu_task_stddev=0.000256 bytes_write=34996 bytes_read=20863 bytes_retransmit=0 bytes_invalid=0 send_seq=1431 receive_seq=1431 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998085  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.24 cputime=1123.867 memavail=1671064 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 22979.7: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000281 mcu_task_stddev=0.000256 bytes_write=36871 bytes_read=21797 bytes_retransmit=0 bytes_invalid=0 send_seq=1508 receive_seq=1507 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998312  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.24 cputime=1123.977 memavail=1671840 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 22980.7: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000281 mcu_task_stddev=0.000256 bytes_write=38699 bytes_read=22722 bytes_retransmit=0 bytes_invalid=0 send_seq=1580 receive_seq=1580 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998267  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.24 cputime=1124.062 memavail=1671856 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 22981.7: gcodein=0  mcu: mcu_awake=0.139 mcu_task_avg=0.000281 mcu_task_stddev=0.000256 bytes_write=40495 bytes_read=23575 bytes_retransmit=0 bytes_invalid=0 send_seq=1648 receive_seq=1648 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998228  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.24 cputime=1124.141 memavail=1672636 print_time=5.502 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Starting Klippy...
Args: ['/home/klipper/klipper/klippy/klippy.py', '/home/klipper/printer_data/config/printer.cfg', '-I', '/home/klipper/printer_data/comms/klippy.serial', '-l', '/home/klipper/printer_data/logs/klippy.log', '-a', '/home/klipper/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-404-g80d185c94-dirty'
Untracked files: klippy/extras/gcode_shell_command.py, klippy/extras/led_effect.py
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.10.12 (main, Nov  6 2024, 20:22:13) [GCC 11.4.0]'
Start printer at Thu Jan  2 03:39:21 2025 (1735778361.5 21.2)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=50 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=65  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	START_DRYER TEMPERATURE=80 CHAMBER=80 TIME=18000

[gcode_macro M3]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281473335587456: New connection
webhooks client 281473335587456: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
mcu 'mcu': got {'oid': 15, 'next_clock': 57432704, 'value': 31198, '#name': 'analog_in_state', '#sent_time': 26.129016095, '#receive_time': 26.13867572}
mcu 'mcu': got {'oid': 19, 'next_clock': 60312704, 'value': 31145, '#name': 'analog_in_state', '#sent_time': 26.129016095, '#receive_time': 26.178694178}
mcu 'mcu': got {'oid': 27, 'next_clock': 66072704, 'value': 31147, '#name': 'analog_in_state', '#sent_time': 26.234322303000003, '#receive_time': 26.258684345}
mcu 'mcu': got {'oid': 15, 'next_clock': 79032704, 'value': 31199, '#name': 'analog_in_state', '#sent_time': 26.390903595, '#receive_time': 26.438710678}
mcu 'mcu': got {'oid': 19, 'next_clock': 81912704, 'value': 31142, '#name': 'analog_in_state', '#sent_time': 26.44307122, '#receive_time': 26.478709428}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 27.2: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000028 mcu_task_stddev=0.000039 bytes_write=3150 bytes_read=6282 bytes_retransmit=9 bytes_invalid=0 send_seq=213 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=1930 upcoming_bytes=197 freq=71998973  orange_pi: temp=48.9 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=2.33 cputime=5.125 memavail=1736736 print_time=61.368 buffer_time=0.187 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281473335587456
webhooks: registering remote method 'reboot_machine' for connection id: 281473335587456
webhooks: registering remote method 'pause_job_queue' for connection id: 281473335587456
webhooks: registering remote method 'start_job_queue' for connection id: 281473335587456
Stats 28.2: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000028 mcu_task_stddev=0.000039 bytes_write=7095 bytes_read=6966 bytes_retransmit=9 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998345  orange_pi: temp=49.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=2.33 cputime=5.260 memavail=1734000 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 29.2: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000028 mcu_task_stddev=0.000039 bytes_write=8856 bytes_read=7644 bytes_retransmit=9 bytes_invalid=0 send_seq=357 receive_seq=357 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998161  orange_pi: temp=48.6 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.33 cputime=5.386 memavail=1733496 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Stats 30.2: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000028 mcu_task_stddev=0.000039 bytes_write=10738 bytes_read=8698 bytes_retransmit=9 bytes_invalid=0 send_seq=442 receive_seq=441 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997890  orange_pi: temp=47.6 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.23 cputime=5.506 memavail=1747888 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.7 pwm=0.000
Stats 31.2: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000028 mcu_task_stddev=0.000039 bytes_write=12696 bytes_read=9829 bytes_retransmit=9 bytes_invalid=0 send_seq=531 receive_seq=531 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997776  orange_pi: temp=45.6 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.23 cputime=5.600 memavail=1747508 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 32.2: gcodein=0  mcu: mcu_awake=0.154 mcu_task_avg=0.000223 mcu_task_stddev=0.000293 bytes_write=14627 bytes_read=10904 bytes_retransmit=9 bytes_invalid=0 send_seq=613 receive_seq=613 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997876  orange_pi: temp=45.0 chamber_heater: target=0 temp=26.1 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.23 cputime=5.692 memavail=1747264 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 33.2: gcodein=0  mcu: mcu_awake=0.154 mcu_task_avg=0.000223 mcu_task_stddev=0.000293 bytes_write=16410 bytes_read=11721 bytes_retransmit=9 bytes_invalid=0 send_seq=680 receive_seq=680 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997836  orange_pi: temp=44.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.23 cputime=5.771 memavail=1747264 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 34.2: gcodein=0  mcu: mcu_awake=0.154 mcu_task_avg=0.000223 mcu_task_stddev=0.000293 bytes_write=18251 bytes_read=12652 bytes_retransmit=9 bytes_invalid=0 send_seq=754 receive_seq=754 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997852  orange_pi: temp=44.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.23 cputime=5.854 memavail=1747264 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 35.2: gcodein=0  mcu: mcu_awake=0.154 mcu_task_avg=0.000223 mcu_task_stddev=0.000293 bytes_write=20162 bytes_read=13715 bytes_retransmit=9 bytes_invalid=0 send_seq=837 receive_seq=837 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997872  orange_pi: temp=44.2 chamber_heater: target=0 temp=26.9 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.13 cputime=5.943 memavail=1746012 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 36.2: gcodein=0  mcu: mcu_awake=0.154 mcu_task_avg=0.000223 mcu_task_stddev=0.000293 bytes_write=22129 bytes_read=14761 bytes_retransmit=9 bytes_invalid=0 send_seq=921 receive_seq=921 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997896  orange_pi: temp=44.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.13 cputime=6.033 memavail=1746012 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Neopixel update did not succeed
Stats 37.2: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000275 mcu_task_stddev=0.000257 bytes_write=23870 bytes_read=15605 bytes_retransmit=9 bytes_invalid=0 send_seq=987 receive_seq=987 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997914  orange_pi: temp=44.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.13 cputime=6.145 memavail=1742404 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Klipper-Backup is up to date


fatal: not a git repository (or any of the parent directories): .git

fatal: not in a git directory

fatal: not in a git directory

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

fatal: No remote configured to list refs from.

fatal: not a git repository (or any of the parent directories): .git

fatal: not a git repository (or any of the parent directories): .git

Command {update_git_script} finished

Stats 38.2: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000275 mcu_task_stddev=0.000257 bytes_write=25630 bytes_read=16374 bytes_retransmit=9 bytes_invalid=0 send_seq=1048 receive_seq=1048 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997973  orange_pi: temp=45.6 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.13 cputime=6.298 memavail=1745748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 39.2: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000275 mcu_task_stddev=0.000257 bytes_write=27519 bytes_read=17303 bytes_retransmit=9 bytes_invalid=0 send_seq=1123 receive_seq=1123 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997993  orange_pi: temp=45.2 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.13 cputime=6.384 memavail=1745748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 40.2: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000275 mcu_task_stddev=0.000257 bytes_write=29514 bytes_read=18585 bytes_retransmit=9 bytes_invalid=0 send_seq=1224 receive_seq=1224 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997996  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.1 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.04 cputime=6.482 memavail=1745748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 41.2: gcodein=0  mcu: mcu_awake=0.133 mcu_task_avg=0.000275 mcu_task_stddev=0.000257 bytes_write=31333 bytes_read=19458 bytes_retransmit=9 bytes_invalid=0 send_seq=1293 receive_seq=1293 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998003  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.04 cputime=6.563 memavail=1745748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 42.2: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000269 mcu_task_stddev=0.000254 bytes_write=33164 bytes_read=20313 bytes_retransmit=9 bytes_invalid=0 send_seq=1362 receive_seq=1361 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998018  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.04 cputime=6.644 memavail=1745748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Neopixel update did not succeed
Stats 43.2: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000269 mcu_task_stddev=0.000254 bytes_write=34975 bytes_read=21134 bytes_retransmit=9 bytes_invalid=0 send_seq=1426 receive_seq=1426 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998019  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.04 cputime=6.776 memavail=1745748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 44.2: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000269 mcu_task_stddev=0.000254 bytes_write=36868 bytes_read=22130 bytes_retransmit=9 bytes_invalid=0 send_seq=1505 receive_seq=1505 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998028  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=2.04 cputime=6.864 memavail=1745752 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 45.2: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000269 mcu_task_stddev=0.000254 bytes_write=38656 bytes_read=22942 bytes_retransmit=9 bytes_invalid=0 send_seq=1571 receive_seq=1571 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998040  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.95 cputime=6.943 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 46.2: gcodein=0  mcu: mcu_awake=0.129 mcu_task_avg=0.000269 mcu_task_stddev=0.000254 bytes_write=40512 bytes_read=23888 bytes_retransmit=9 bytes_invalid=0 send_seq=1645 receive_seq=1645 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998044  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.95 cputime=7.030 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 47.2: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000258 bytes_write=42464 bytes_read=25044 bytes_retransmit=9 bytes_invalid=0 send_seq=1735 receive_seq=1735 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998062  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.95 cputime=7.120 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 48.2: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000258 bytes_write=44444 bytes_read=26197 bytes_retransmit=9 bytes_invalid=0 send_seq=1827 receive_seq=1827 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998079  orange_pi: temp=45.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.95 cputime=7.212 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 49.2: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000258 bytes_write=46313 bytes_read=27109 bytes_retransmit=9 bytes_invalid=0 send_seq=1900 receive_seq=1899 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998080  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.95 cputime=7.297 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 50.2: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000258 bytes_write=48130 bytes_read=28074 bytes_retransmit=9 bytes_invalid=0 send_seq=1975 receive_seq=1975 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998082  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.88 cputime=7.382 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 51.2: gcodein=0  mcu: mcu_awake=0.125 mcu_task_avg=0.000272 mcu_task_stddev=0.000258 bytes_write=50077 bytes_read=29151 bytes_retransmit=9 bytes_invalid=0 send_seq=2062 receive_seq=2062 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998085  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.88 cputime=7.472 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 52.2: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000254 bytes_write=51858 bytes_read=29963 bytes_retransmit=9 bytes_invalid=0 send_seq=2125 receive_seq=2125 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998085  orange_pi: temp=44.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.88 cputime=7.551 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 53.2: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000254 bytes_write=53704 bytes_read=30920 bytes_retransmit=9 bytes_invalid=0 send_seq=2201 receive_seq=2201 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998086  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.88 cputime=7.634 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 54.2: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000254 bytes_write=55511 bytes_read=31753 bytes_retransmit=9 bytes_invalid=0 send_seq=2268 receive_seq=2268 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998091  orange_pi: temp=44.6 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.88 cputime=7.715 memavail=1744780 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 55.2: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000254 bytes_write=57319 bytes_read=32626 bytes_retransmit=9 bytes_invalid=0 send_seq=2337 receive_seq=2337 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998091  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.81 cputime=7.801 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 56.2: gcodein=0  mcu: mcu_awake=0.146 mcu_task_avg=0.000288 mcu_task_stddev=0.000254 bytes_write=59196 bytes_read=33635 bytes_retransmit=9 bytes_invalid=0 send_seq=2417 receive_seq=2417 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998094  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.81 cputime=7.886 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 57.2: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000274 mcu_task_stddev=0.000259 bytes_write=61006 bytes_read=34469 bytes_retransmit=9 bytes_invalid=0 send_seq=2484 receive_seq=2484 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998097  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.81 cputime=7.967 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 58.2: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000274 mcu_task_stddev=0.000259 bytes_write=62728 bytes_read=35168 bytes_retransmit=9 bytes_invalid=0 send_seq=2539 receive_seq=2539 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998098  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.81 cputime=8.042 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 59.2: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000274 mcu_task_stddev=0.000259 bytes_write=64545 bytes_read=36021 bytes_retransmit=9 bytes_invalid=0 send_seq=2608 receive_seq=2607 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=0 freq=71998099  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.81 cputime=8.122 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 60.2: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000274 mcu_task_stddev=0.000259 bytes_write=66373 bytes_read=36929 bytes_retransmit=9 bytes_invalid=0 send_seq=2681 receive_seq=2681 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998107  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.74 cputime=8.202 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 61.2: gcodein=0  mcu: mcu_awake=0.127 mcu_task_avg=0.000274 mcu_task_stddev=0.000259 bytes_write=68173 bytes_read=37750 bytes_retransmit=9 bytes_invalid=0 send_seq=2747 receive_seq=2746 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998214  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.74 cputime=8.281 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 62.2: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000276 mcu_task_stddev=0.000265 bytes_write=69995 bytes_read=38729 bytes_retransmit=9 bytes_invalid=0 send_seq=2823 receive_seq=2823 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998201  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.74 cputime=8.367 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 63.2: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000276 mcu_task_stddev=0.000265 bytes_write=72062 bytes_read=39996 bytes_retransmit=9 bytes_invalid=0 send_seq=2924 receive_seq=2924 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998191  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.74 cputime=8.461 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 64.2: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000276 mcu_task_stddev=0.000265 bytes_write=74013 bytes_read=41116 bytes_retransmit=9 bytes_invalid=0 send_seq=3012 receive_seq=3012 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998274  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.74 cputime=8.549 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 65.2: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000276 mcu_task_stddev=0.000265 bytes_write=75778 bytes_read=41870 bytes_retransmit=9 bytes_invalid=0 send_seq=3074 receive_seq=3073 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998256  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.68 cputime=8.627 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 66.2: gcodein=0  mcu: mcu_awake=0.123 mcu_task_avg=0.000276 mcu_task_stddev=0.000265 bytes_write=77585 bytes_read=42726 bytes_retransmit=9 bytes_invalid=0 send_seq=3143 receive_seq=3143 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998240  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.68 cputime=8.709 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 67.2: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=79522 bytes_read=43858 bytes_retransmit=9 bytes_invalid=0 send_seq=3230 receive_seq=3230 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998228  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.68 cputime=8.799 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 68.2: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=81410 bytes_read=44846 bytes_retransmit=9 bytes_invalid=0 send_seq=3309 receive_seq=3309 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998216  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.68 cputime=8.887 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 69.2: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=83251 bytes_read=45697 bytes_retransmit=9 bytes_invalid=0 send_seq=3379 receive_seq=3378 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998210  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.68 cputime=8.968 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 70.2: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=85123 bytes_read=46747 bytes_retransmit=9 bytes_invalid=0 send_seq=3460 receive_seq=3460 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998200  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.63 cputime=9.054 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 71.2: gcodein=0  mcu: mcu_awake=0.141 mcu_task_avg=0.000285 mcu_task_stddev=0.000256 bytes_write=86965 bytes_read=47644 bytes_retransmit=9 bytes_invalid=0 send_seq=3532 receive_seq=3532 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998192  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.63 cputime=9.135 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 72.2: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000281 mcu_task_stddev=0.000257 bytes_write=88737 bytes_read=48426 bytes_retransmit=9 bytes_invalid=0 send_seq=3596 receive_seq=3595 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998184  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.63 cputime=9.213 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 73.2: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000281 mcu_task_stddev=0.000257 bytes_write=90526 bytes_read=49294 bytes_retransmit=9 bytes_invalid=0 send_seq=3663 receive_seq=3663 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998207  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.63 cputime=9.290 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 74.2: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000281 mcu_task_stddev=0.000257 bytes_write=92263 bytes_read=49996 bytes_retransmit=9 bytes_invalid=0 send_seq=3720 receive_seq=3720 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998269  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.63 cputime=9.365 memavail=1745108 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 75.2: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000281 mcu_task_stddev=0.000257 bytes_write=94109 bytes_read=50891 bytes_retransmit=9 bytes_invalid=0 send_seq=3793 receive_seq=3793 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998259  orange_pi: temp=42.1 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.66 cputime=9.447 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 76.2: gcodein=0  mcu: mcu_awake=0.138 mcu_task_avg=0.000281 mcu_task_stddev=0.000257 bytes_write=95909 bytes_read=51806 bytes_retransmit=9 bytes_invalid=0 send_seq=3864 receive_seq=3864 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998247  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.1 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.66 cputime=9.526 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 77.2: gcodein=0  mcu: mcu_awake=0.111 mcu_task_avg=0.000263 mcu_task_stddev=0.000268 bytes_write=97725 bytes_read=52655 bytes_retransmit=9 bytes_invalid=0 send_seq=3931 receive_seq=3931 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998236  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.66 cputime=9.606 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 78.2: gcodein=0  mcu: mcu_awake=0.111 mcu_task_avg=0.000263 mcu_task_stddev=0.000268 bytes_write=99504 bytes_read=53420 bytes_retransmit=9 bytes_invalid=0 send_seq=3994 receive_seq=3994 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998224  orange_pi: temp=43.6 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.66 cputime=9.684 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 79.2: gcodein=0  mcu: mcu_awake=0.111 mcu_task_avg=0.000263 mcu_task_stddev=0.000268 bytes_write=101381 bytes_read=54478 bytes_retransmit=9 bytes_invalid=0 send_seq=4076 receive_seq=4076 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998215  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.66 cputime=9.772 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 80.2: gcodein=0  mcu: mcu_awake=0.111 mcu_task_avg=0.000263 mcu_task_stddev=0.000268 bytes_write=103261 bytes_read=55422 bytes_retransmit=9 bytes_invalid=0 send_seq=4151 receive_seq=4151 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998205  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.60 cputime=9.852 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 81.2: gcodein=0  mcu: mcu_awake=0.111 mcu_task_avg=0.000263 mcu_task_stddev=0.000268 bytes_write=105092 bytes_read=56291 bytes_retransmit=9 bytes_invalid=0 send_seq=4222 receive_seq=4222 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998197  orange_pi: temp=43.4 chamber_heater: target=0 temp=25.9 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.60 cputime=9.931 memavail=1744652 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 82.2: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000289 mcu_task_stddev=0.000263 bytes_write=106827 bytes_read=57119 bytes_retransmit=9 bytes_invalid=0 send_seq=4286 receive_seq=4285 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998188  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.60 cputime=10.025 memavail=1745008 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.7 pwm=0.000
Stats 83.2: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000289 mcu_task_stddev=0.000263 bytes_write=108597 bytes_read=57860 bytes_retransmit=9 bytes_invalid=0 send_seq=4345 receive_seq=4345 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998235  orange_pi: temp=48.8 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.60 cputime=10.154 memavail=1734748 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 84.2: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000289 mcu_task_stddev=0.000263 bytes_write=110386 bytes_read=58638 bytes_retransmit=9 bytes_invalid=0 send_seq=4409 receive_seq=4409 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998224  orange_pi: temp=51.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.60 cputime=10.235 memavail=1734924 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 85.2: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000289 mcu_task_stddev=0.000263 bytes_write=112180 bytes_read=59528 bytes_retransmit=9 bytes_invalid=0 send_seq=4480 receive_seq=4479 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998215  orange_pi: temp=44.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.56 cputime=10.319 memavail=1734784 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 86.2: gcodein=0  mcu: mcu_awake=0.136 mcu_task_avg=0.000289 mcu_task_stddev=0.000263 bytes_write=114051 bytes_read=60487 bytes_retransmit=9 bytes_invalid=0 send_seq=4556 receive_seq=4556 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998207  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.56 cputime=10.404 memavail=1734280 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 87.2: gcodein=0  mcu: mcu_awake=0.117 mcu_task_avg=0.000266 mcu_task_stddev=0.000263 bytes_write=115923 bytes_read=61389 bytes_retransmit=9 bytes_invalid=0 send_seq=4630 receive_seq=4629 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998199  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.56 cputime=10.487 memavail=1734028 print_time=61.368 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Stats 581.5: gcodein=0  mcu: mcu_awake=0.128 mcu_task_avg=0.000278 mcu_task_stddev=0.000263 bytes_write=1020285 bytes_read=505726 bytes_retransmit=9 bytes_invalid=0 send_seq=39992 receive_seq=39992 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998150  orange_pi: temp=42.8 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=26.9 pwm=0.000 sysload=1.51 cputime=51.979 memavail=1715684 print_time=615.741 buffer_time=0.217 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Attempting MCU 'mcu' reset command
webhooks client 281473335587456: Disconnected
Restarting printer
Start printer at Thu Jan  2 03:48:56 2025 (1735778936.9 582.9)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=50 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=65  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	START_DRYER TEMPERATURE=80 CHAMBER=80 TIME=18000

[gcode_macro M3]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281473341124288: New connection
webhooks client 281473341124288: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 587.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=3265 bytes_read=6191 bytes_retransmit=0 bytes_invalid=0 send_seq=230 receive_seq=227 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=1981 upcoming_bytes=192 freq=71994893  orange_pi: temp=43.9 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.55 cputime=55.204 memavail=1714904 print_time=5.512 buffer_time=0.195 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281473341124288
webhooks: registering remote method 'reboot_machine' for connection id: 281473341124288
webhooks: registering remote method 'pause_job_queue' for connection id: 281473341124288
webhooks: registering remote method 'start_job_queue' for connection id: 281473341124288
Stats 588.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=7334 bytes_read=7015 bytes_retransmit=0 bytes_invalid=0 send_seq=330 receive_seq=329 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=11 upcoming_bytes=0 freq=71998182  orange_pi: temp=44.6 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.55 cputime=55.309 memavail=1714440 print_time=5.512 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 589.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=9255 bytes_read=7967 bytes_retransmit=0 bytes_invalid=0 send_seq=407 receive_seq=407 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998579  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.55 cputime=55.412 memavail=1714708 print_time=5.512 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 590.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=10999 bytes_read=8770 bytes_retransmit=0 bytes_invalid=0 send_seq=470 receive_seq=470 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71997959  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.55 cputime=55.490 memavail=1714988 print_time=5.512 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 591.1: gcodein=0  mcu: mcu_awake=0.008 mcu_task_avg=0.000031 mcu_task_stddev=0.000055 bytes_write=12803 bytes_read=9644 bytes_retransmit=0 bytes_invalid=0 send_seq=539 receive_seq=539 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997795  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.51 cputime=55.569 memavail=1714756 print_time=5.512 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Starting Klippy...
Args: ['/home/klipper/klipper/klippy/klippy.py', '/home/klipper/printer_data/config/printer.cfg', '-I', '/home/klipper/printer_data/comms/klippy.serial', '-l', '/home/klipper/printer_data/logs/klippy.log', '-a', '/home/klipper/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-404-g80d185c94-dirty'
Untracked files: klippy/extras/gcode_shell_command.py, klippy/extras/led_effect.py
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 4 core ?
Python: '3.10.12 (main, Nov  6 2024, 20:22:13) [GCC 11.4.0]'
Start printer at Thu Jan  2 03:49:22 2025 (1735778962.2 20.9)
===== Config file =====
[virtual_sdcard]
path = /home/klipper/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	TURN_OFF_HEATERS
	M107
	G91
	G1 E-{E} F1500
	G90
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT
	PARK

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = BASE_PAUSE
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	BASE_PAUSE
	G91
	G1 E-{E} F1500
	G90
	PARK

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = BASE_RESUME
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	G91
	G1 E{E} F1500
	G90
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=1
	BASE_RESUME

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[gcode_macro Backup_on_GitHub]
gcode = 
	{% set message = params.MESSAGE|default() %}
	{% if message %}
	RUN_SHELL_COMMAND CMD=update_git_script_message PARAMS="'{params.MESSAGE}'"
	{% else %}
	RUN_SHELL_COMMAND CMD=update_git_script
	{% endif %}

[gcode_macro list_sensors]
gcode = 
	{ action_respond_info(printer.heaters.available_heaters | join(', ')) }
	{ action_respond_info(printer.heaters.available_sensors | join(', ')) }

[gcode_macro Power_OFF]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro _POWER_OFF_PRINTER]
gcode = SET_PIN PIN=Power VALUE=0

[gcode_macro ACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60

[gcode_macro DEACTIVATE_POWER_OFF]
gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=0

[delayed_gcode POWER_OFF_PRINTER_CHECK_ACT]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK_ACT DURATION=60
	{% endif %}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro M141]
gcode = SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={params.S|default(0)}

[gcode_macro M80]
gcode = SET_PIN PIN=Power  VALUE=1

[gcode_macro M81]
gcode = 
	
	SET_PIN PIN=Power VALUE=0

[gcode_macro M486]
gcode = 
	
	
	
	
	
	
	
	
	
	
	
	{% if 'exclude_object' not in printer %}
	{action_raise_error("[exclude_object] is not enabled")}
	{% endif %}
	
	{% if 'T' in params %}
	EXCLUDE_OBJECT RESET=1
	
	{% for i in range(params.T | int) %}
	EXCLUDE_OBJECT_DEFINE NAME={i}
	{% endfor %}
	{% endif %}
	
	{% if 'C' in params %}
	EXCLUDE_OBJECT CURRENT=1
	{% endif %}
	
	{% if 'P' in params %}
	EXCLUDE_OBJECT NAME={params.P}
	{% endif %}
	
	{% if 'S' in params %}
	{% if params.S == '-1' %}
	{% if printer.exclude_object.current_object %}
	EXCLUDE_OBJECT_END NAME={printer.exclude_object.current_object}
	{% endif %}
	{% else %}
	EXCLUDE_OBJECT_START NAME={params.S}
	{% endif %}
	{% endif %}
	
	{% if 'U' in params %}
	EXCLUDE_OBJECT RESET=1 NAME={params.U}
	{% endif %}

[gcode_macro M190]
rename_existing = M190.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M190.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _CHOME]
gcode = 
	{% if printer["gcode_macro status_homing"] != null %}
	status_homing
	{% endif %}
	{% if printer.toolhead.homed_axes != "xyz" %}
	G28
	{% endif %}
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro M109]
rename_existing = M109.1
gcode = 
	{% if printer["gcode_macro status_heating"] != null %}
	status_heating
	{% endif %}
	M109.1 { rawparams }
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro _MOVE_AWAY]
gcode = 
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	{% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
	
	G90
	G0 X{x_safe} Y{y_safe} Z{z_safe} F20000

[gcode_macro PARK_CENTER_REAR]
gcode = 
	{% if printer["gcode_macro status_busy"] != null %}
	status_busy
	{% endif %}
	{% set th = printer.toolhead %}
	{% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
	{% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
	
	G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600
	{% if printer["gcode_macro status_ready"] != null %}
	status_ready
	{% endif %}

[gcode_macro START_PRINT]
variable_retract = 15
gcode = 
	{% set chamber_temp = params.CHAMBER_TEMP|default(0)|float %}
	{% set extruder_temp = params.EXTRUDER_TEMP|default(210)|float %}
	{% set bed_temp = params.BED_TEMP|default(60)|float %}
	{% set E = printer["gcode_macro START_PRINT"].retract|float %}
	CLEAR_PAUSE
	G28
	Smart_Park
	M220 S100
	M221 S100
	SET_HEATER_TEMPERATURE HEATER=chamber_heater TARGET={chamber_temp}
	SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp * 0.75}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	G90
	M82
	TEMPERATURE_WAIT SENSOR=heater_bed MINIMUM={bed_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	G92 E0
	
	G1 E-15 F2000
	
	G92 E0
	G28
	BED_MESH_CALIBRATE
	PRIME_LINE

[gcode_macro pid_soplo]
gcode = 
	PID_CALIBRATE HEATER=extruder TARGET=250

[gcode_macro pid_bed]
gcode = 
	PID_CALIBRATE HEATER=heater_bed TARGET=105

[gcode_macro BED]
gcode = 
	PROBE_CALIBRATE

[gcode_macro END_PRINT]
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	
	
	{% if printer.toolhead.position.x < (max_x - 20) %}
	{% set x_safe = 20.0 %}
	{% else %}
	{% set x_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.y < (max_y - 20) %}
	{% set y_safe = 20.0 %}
	{% else %}
	{% set y_safe = -20.0 %}
	{% endif %}
	
	{% if printer.toolhead.position.z < (max_z - 2) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - printer.toolhead.position.z %}
	{% endif %}
	
	
	M400
	G92 E0
	G1 E-15 F3600
	G91
	G0 Z{z_safe} F3600
	G0 X{x_safe} Y{y_safe} F20000
	
	
	M104 S0
	M104 S0
	M140 S0
	M106 S0
	G90
	G0 X{max_x / 2} Y{max_y} F3600
	
	SONG_CRAB_RAVE
	
	
	
	M117 Finished!
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	
	
	{% set V = params.V|default(99)|int %}
	SET_PIN PIN=beeper VALUE={0.1 * (V / 100) if S > 0 else 1} CYCLE_TIME={ 1.0 / S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
description = 
	"Plays a beep sound.
	@param {int} [S=1000] - Frequency in Hz
	@param {int} [P=100] - Duration in ms
	@param {int} [V=99] - Volume in percent"

[gcode_macro PRIME_LINE]
gcode = 
	{% set feedrate = params.F|default(10)|float * 60 %}
	{% set length = 100.0 %}
	{% set width = printer.configfile.settings.extruder.nozzle_diameter|float %}
	{% set height = ( (width / 0.04)|int - (width / 0.04 / 4)|int )|float * 0.04 %}
	
	{% set extrude = length * width * height * 1.5 %}
	SAVE_GCODE_STATE NAME=PRIME_LINE_STATE
	SET_IDLE_TIMEOUT TIMEOUT=7200
	{% if 'Y' in params %}
	{% set x_start = 1.0 %}
	{% set y_start = (printer.toolhead.axis_maximum.y|float - 100) / 2 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 Y100 E{extrude} F{feedrate}
	G0 X{width} F5000
	G1 Y-100 E{extrude} F{feedrate}
	{% else %}
	{% set x_start = (printer.toolhead.axis_maximum.x|float - 100) / 2 %}
	{% set y_start = 1.0 %}
	G0 X{x_start} Y{y_start} F5000
	G0 Z{height} F1500
	G91
	
	G1 E8 F300
	
	
	G1 X100 E{extrude} F{feedrate}
	G0 Y{width} F5000
	G1 X-100 E{extrude} F{feedrate}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PRIME_LINE_STATE

[gcode_macro VINT]
gcode = 
	SCREWS_TILT_CALCULATE

[gcode_macro LOW_TEMP_CHECK]
gcode = 
	{% set extruder_temp = params.T|default(240)|float %}
	{% if printer.extruder.target > extruder_temp %}
	{% set extruder_temp = printer.extruder.target %}
	{% endif %}
	{% if printer.extruder.temperature < extruder_temp %}
	M118 Heating to {extruder_temp}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET={extruder_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={extruder_temp}
	{% endif %}

[gcode_macro M76]
gcode = 
	PAUSE

[gcode_macro M601]
gcode = 
	PAUSE

[gcode_macro G27]
gcode = 
	PARK

[gcode_macro M125]
gcode = 
	PARK

[gcode_macro M600]
gcode = 
	PAUSE

[gcode_macro M701]
gcode = 
	FILAMENT_LOAD

[gcode_macro M702]
gcode = 
	FILAMENT_UNLOAD

[gcode_macro M500]
gcode = 
	SAVE_CONFIG

[gcode_macro PARK]
gcode = 
	{% set x_park = params.X|default(0)|float %}
	{% set y_park = params.Y|default(0)|float %}
	{% set z_park = params.Z|default(10)|float + printer.toolhead.position.z|float %}
	{% set x_max = printer.toolhead.axis_maximum.x|float %}
	{% set y_max = printer.toolhead.axis_maximum.y|float %}
	{% set z_max = printer.toolhead.axis_maximum.z|float %}
	{% if x_park > x_max %}
	{% set x_park = x_max %}
	{% endif %}
	{% if y_park > y_max %}
	{% set y_park = y_max %}
	{% endif %}
	{% if z_park > z_max %}
	{% set z_park = z_max %}
	{% endif %}
	SAVE_GCODE_STATE NAME=PARK_STATE
	G90
	G1 Z{z_park} F1500
	G1 X{x_park} Y{y_park} F5000
	RESTORE_GCODE_STATE name=PARK_STATE

[gcode_macro START_DRYER]
description = Start the heated bed filament dryer.
gcode = 
	{% set ChamberTemperature = params.CHAMBER | default(65.0) | float %}
	{% set BedTemperature = params.TEMPERATURE | default(0.0) | float %}
	{% set DryTime = params.TIME | default(14400) | int %}
	M140 S{BedTemperature}
	M141 S{ChamberTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={DryTime}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=bed_temperature VALUE={BedTemperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=chamber_temperature VALUE={ChamberTemperature}
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1

[gcode_macro STOP_DRYER]
gcode = 
	M140 S0
	M141 S0
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE=0
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=0
	M117 Drying Stopped

[gcode_macro DRYER_STATUS]
variable_time_remaining = 0
variable_bed_temperature = 0
variable_chamber_temperature = 0
gcode = 
	{% if time_remaining > 0 %}
	M140 S{bed_temperature}
	SET_GCODE_VARIABLE MACRO=DRYER_STATUS VARIABLE=time_remaining VALUE={time_remaining - 1}
	M117 Drying {time_remaining}
	{% else %}
	STOP_DRYER
	{% endif %}

[delayed_gcode DRYER_TIMER]
gcode = 
	UPDATE_DELAYED_GCODE ID=DRYER_TIMER DURATION=1
	DRYER_STATUS

[gcode_macro DRY_tpu]
gcode = 
	START_DRYER TEMPERATURE=50 CHAMBER=50 TIME=18000

[gcode_macro DRY_PETG]
gcode = 
	START_DRYER TEMPERATURE=65  CHAMBER=65 TIME=18000

[gcode_macro DRY_ABS]
gcode = 
	START_DRYER TEMPERATURE=80 CHAMBER=80 TIME=18000

[gcode_macro M3]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M4]
gcode = 
	{% set S = params.S|default(0.0)|float %}
	SET_PIN PIN=Laser VALUE={S / 255.0}

[gcode_macro M5]
gcode = 
	SET_PIN PIN=Laser VALUE=0

[menu __main __control __toolonoff]
type = input
enable = {'pwm_tool Laser' in printer}
name = Fan: {'ON ' if menu.input else 'OFF'}
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 1
gcode = 
	M3 S{255 if menu.input else 0}

[menu __main __control __toolspeed]
type = input
enable = {'pwm_tool Laser' in printer}
name = Laser speed: {'%3d' % (menu.input*100)}%
input = {printer['pwm_tool Laser'].value}
input_min = 0
input_max = 1
input_step = 0.01
gcode = 
	M3 S{'%d' % (menu.input*255)}

[gcode_macro NOTE]
description = 
	"Plays a specified note for a specified duration
	@param {string} [N=C5] - Note to play
	@param {int} [D=500] - Duration of note. There are currently some Klipper limitations to how short a note can be.
	@param {int} [V=99] - Volume in percent
	@param {bool} [S=true] - Whether or not to stop the note after duration"
gcode = 
	{% set notes = {
	'C0': 16.35,   'CS0': 17.32,   'D0': 18.35,   'DS0': 19.45,   'E0': 20.60,   'F0': 21.83,   'FS0': 23.12,   'G0': 24.50,   'GS0': 25.96,   'A0': 27.50,   'AS0': 29.14,   'B0': 30.87,
	'C1': 32.70,   'CS1': 34.65,   'D1': 36.71,   'DS1': 38.89,   'E1': 41.20,   'F1': 43.65,   'FS1': 46.25,   'G1': 49.00,   'GS1': 51.91,   'A1': 55.00,   'AS1': 58.27,   'B1': 61.74,
	'C2': 65.41,   'CS2': 69.30,   'D2': 73.42,   'DS2': 77.78,   'E2': 82.41,   'F2': 87.31,   'FS2': 92.50,   'G2': 98.00,   'GS2': 103.83,  'A2': 110.00,  'AS2': 116.54,  'B2': 123.47,
	'C3': 130.81,  'CS3': 138.59,  'D3': 146.83,  'DS3': 155.56,  'E3': 164.81,  'F3': 174.61,  'FS3': 185.00,  'G3': 196.00,  'GS3': 207.65,  'A3': 220.00,  'AS3': 233.08,  'B3': 246.94,
	'C4': 261.63,  'CS4': 277.18,  'D4': 293.66,  'DS4': 311.13,  'E4': 329.63,  'F4': 349.23,  'FS4': 369.99,  'G4': 392.00,  'GS4': 415.30,  'A4': 440.00,  'AS4': 466.16,  'B4': 493.88,
	'C5': 523.25,  'CS5': 554.37,  'D5': 587.33,  'DS5': 622.25,  'E5': 659.26,  'F5': 698.46,  'FS5': 739.99,  'G5': 783.99,  'GS5': 830.61,  'A5': 880.00,  'AS5': 932.33,  'B5': 987.77,
	'C6': 1046.50, 'CS6': 1108.73, 'D6': 1174.66, 'DS6': 1244.51, 'E6': 1318.51, 'F6': 1396.91, 'FS6': 1479.98, 'G6': 1567.98, 'GS6': 1661.22, 'A6': 1760.00, 'AS6': 1864.66, 'B6': 1975.53,
	'C7': 2093.00, 'CS7': 2217.46, 'D7': 2349.32, 'DS7': 2489.02, 'E7': 2637.02, 'F7': 2793.83, 'FS7': 2959.96, 'G7': 3135.96, 'GS7': 3322.44, 'A7': 3520.00, 'AS7': 3729.31, 'B7': 3951.07,
	'C8': 4186.01, 'CS8': 4434.92, 'D8': 4698.64, 'DS8': 4978.03, 'E8': 5274.04, 'F8': 5587.65, 'FS8': 5919.91, 'G8': 6271.93, 'GS8': 6644.88, 'A8': 7040.00, 'AS8': 7458.62, 'B8': 7902.13,
	} %}
	
	{% set note = params.N|default('C5')|string %}
	
	{% set dur = params.D|default(500)|int %}
	
	
	{% set volume = params.V|default(99)|int %}
	
	{% set stop = params.S|default('true')|string %}
	
	{% set freq = notes[note] %}
	
	SET_PIN PIN=beeper VALUE={0.1 * (volume / 100) if volume > 0 else 1} CYCLE_TIME={ 1.0 / freq }
	G4 P{dur}
	{% if stop|lower == 'true' %}
	SET_PIN PIN=beeper VALUE=0 CYCLE_TIME={ 0.001 }
	{% endif %}

[gcode_macro TONE_GEN]
description = "Used for the tone generator menu"
variable_tone_freq = 0.001093
gcode = 
	M117 {printer["gcode_macro TONE_GEN"].tone_freq}nothz

[gcode_macro SONG_STAR_WARS_MAIN_THEME]
description = "Plays the Star Wars main theme"
gcode = 
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=D4 D=133
	NOTE N=G4 D=1000
	NOTE N=D5 D=1000
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=A4 D=133
	NOTE N=G5 D=1000
	NOTE N=D5 D=500
	
	NOTE N=C5 D=133
	NOTE N=B4 D=133
	NOTE N=C5 D=133
	NOTE N=A4 D=1000

[gcode_macro SONG_CRAB_RAVE]
description = "Plays Crab Rave"
gcode = 
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=AS6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=1
	NOTE N=G6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=D6 D=150 V=30 S=1
	NOTE N=D6 D=150 V=30 S=0
	NOTE N=A6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=1
	NOTE N=F6 D=150 V=30 S=0
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=C6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=1
	NOTE N=E6 D=150 V=30 S=0
	NOTE N=F6 D=150 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro one]
description = "one"
gcode = 
	NOTE N=C6 D=600 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=E6 D=400 V=30 S=1
	G4 P150
	NOTE N=G6 D=180 V=30 S=0
	NOTE N=F6 D=180 V=30 S=0
	NOTE N=E6 D=180 V=30 S=0
	NOTE N=D6 D=180 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=G5 D=400 V=30 S=1
	NOTE N=D6 D=600 V=30 S=1
	NOTE N=C6 D=600 V=30 S=1
	SET_PIN PIN=beeper VALUE=0

[gcode_macro SONG_BOOMER]
description = "BOOMER"
gcode = 
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S659
	M300 P207 S784
	M300 P207 S494
	M300 P207 S494
	M300 P207 S392
	M300 P207 S494
	M300 P207 S494
	M300 P207 S330
	M300 P207 S784
	M300 P207 S659
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S784
	M300 P207 S880
	M300 P207 S988
	M300 P207 S523
	M300 P207 S523
	M300 P207 S392
	M300 P207 S523
	M300 P207 S523
	M300 P207 S330

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION=0.5
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set bed_mesh_min = printer.configfile.settings.bed_mesh.mesh_min %}
	{% set bed_mesh_max = printer.configfile.settings.bed_mesh.mesh_max %}
	{% set probe_count = printer.configfile.settings.bed_mesh.probe_count %}
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set probe_dock_enable = kamp_settings.probe_dock_enable | abs %}
	{% set attach_macro = kamp_settings.attach_macro | string %}
	{% set detach_macro = kamp_settings.detach_macro | string %}
	{% set mesh_margin = kamp_settings.mesh_margin | float %}
	{% set fuzz_amount = kamp_settings.fuzz_amount | float %}
	{% set probe_count = probe_count if probe_count|length > 1 else probe_count * 2  %}
	{% set max_probe_point_distance_x = ( bed_mesh_max[0] - bed_mesh_min[0] ) / (probe_count[0] - 1)  %}
	{% set max_probe_point_distance_y = ( bed_mesh_max[1] - bed_mesh_min[1] ) / (probe_count[1] - 1)  %}
	{% set x_min = all_points | map(attribute=0) | min | default(bed_mesh_min[0]) %}
	{% set y_min = all_points | map(attribute=1) | min | default(bed_mesh_min[1]) %}
	{% set x_max = all_points | map(attribute=0) | max | default(bed_mesh_max[0]) %}
	{% set y_max = all_points | map(attribute=1) | max | default(bed_mesh_max[1]) %}
	
	{% set fuzz_range = range((0) | int, (fuzz_amount * 100) | int + 1) %}
	{% set adapted_x_min = x_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_y_min = y_min - mesh_margin - (fuzz_range | random / 100.0) %}
	{% set adapted_x_max = x_max + mesh_margin + (fuzz_range | random / 100.0) %}
	{% set adapted_y_max = y_max + mesh_margin + (fuzz_range | random / 100.0) %}
	
	{% set adapted_x_min = [adapted_x_min , bed_mesh_min[0]] | max %}
	{% set adapted_y_min = [adapted_y_min , bed_mesh_min[1]] | max %}
	{% set adapted_x_max = [adapted_x_max , bed_mesh_max[0]] | min %}
	{% set adapted_y_max = [adapted_y_max , bed_mesh_max[1]] | min %}
	
	{% set points_x = (((adapted_x_max - adapted_x_min) / max_probe_point_distance_x) | round(method='ceil') | int) + 1 %}
	{% set points_y = (((adapted_y_max - adapted_y_min) / max_probe_point_distance_y) | round(method='ceil') | int) + 1 %}
	
	{% if (([points_x, points_y]|max) > 6) %}
	{% set algorithm = "bicubic" %}
	{% set min_points = 4 %}
	{% else %}
	{% set algorithm = "lagrange" %}
	{% set min_points = 3 %}
	{% endif %}
	
	{% set points_x = [points_x , min_points]|max %}
	{% set points_y = [points_y , min_points]|max %}
	{% set points_x = [points_x , probe_count[0]]|min %}
	{% set points_y = [points_y , probe_count[1]]|min %}
	
	{% if verbose_enable == True %}
	{% if printer.exclude_object.objects != [] %}
	
	{ action_respond_info( "Algorithm: {}.".format(
	(algorithm),
	)) }
	
	{ action_respond_info("Default probe count: {},{}.".format(
	(probe_count[0]),
	(probe_count[1]),
	)) }
	
	{ action_respond_info("Adapted probe count: {},{}.".format(
	(points_x),
	(points_y),
	)) }
	
	{action_respond_info("Default mesh bounds: {}, {}.".format(
	(bed_mesh_min[0],bed_mesh_min[1]),
	(bed_mesh_max[0],bed_mesh_max[1]),
	)) }
	
	{% if mesh_margin > 0 %}
	{action_respond_info("Mesh margin is {}, mesh bounds extended by {}mm.".format(
	(mesh_margin),
	(mesh_margin),
	)) }
	{% else %}
	{action_respond_info("Mesh margin is 0, margin not increased.")}
	{% endif %}
	
	{% if fuzz_amount > 0 %}
	{action_respond_info("Mesh point fuzzing enabled, points fuzzed up to {}mm.".format(
	(fuzz_amount),
	)) }
	{% else %}
	{action_respond_info("Fuzz amount is 0, mesh points not fuzzed.")}
	{% endif %}
	
	{ action_respond_info("Adapted mesh bounds: {}, {}.".format(
	(adapted_x_min, adapted_y_min),
	(adapted_x_max, adapted_y_max),
	)) }
	
	{action_respond_info("KAMP adjustments successful. Happy KAMPing!")}
	
	{% else %}
	
	{action_respond_info("No objects detected! Check your gcode and make sure that EXCLUDE_OBJECT_DEFINE is happening before BED_MESH_CALIBRATE is called. Defaulting to regular meshing.")}
	G4 P5000
	{% endif %}
	
	{% endif %}
	
	{% if probe_dock_enable == True %}
	{attach_macro}
	{% endif %}
	
	_BED_MESH_CALIBRATE mesh_min={adapted_x_min},{adapted_y_min} mesh_max={adapted_x_max},{adapted_y_max} ALGORITHM={algorithm} PROBE_COUNT={points_x},{points_y}
	
	{% if probe_dock_enable == True %}
	{detach_macro}
	{% endif %}

[gcode_macro SMART_PARK]
description = Parks your printhead near the print area for pre-print hotend heating.
gcode = 
	
	{% set kamp_settings = printer["gcode_macro _KAMP_Settings"] %}
	{% set z_height = kamp_settings.smart_park_height | float %}
	{% set purge_margin = kamp_settings.purge_margin | float %}
	{% set verbose_enable = kamp_settings.verbose_enable | abs %}
	{% set center_x = printer.toolhead.axis_maximum.x / 2 | float %}
	{% set center_y = printer.toolhead.axis_maximum.y / 2 | float %}
	{% set axis_minimum_x = printer.toolhead.axis_minimum.x | float %}
	{% set axis_minimum_y = printer.toolhead.axis_minimum.y | float %}
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set x_min = all_points | map(attribute=0) | min | default(center_x) %}
	{% set y_min = all_points | map(attribute=1) | min | default(center_y) %}
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	
	{% if purge_margin > 0 and x_min != center_x and y_min != center_y %}
	{% set x_min = [ x_min - purge_margin , x_min ] | min %}
	{% set y_min = [ y_min - purge_margin , y_min ] | min %}
	{% set x_min = [ x_min , axis_minimum_x ] | max %}
	{% set y_min = [ y_min , axis_minimum_y ] | max %}
	{% endif %}
	
	
	{% if verbose_enable == True %}
	
	{ action_respond_info("Smart Park location: {},{}.".format(
	(x_min),
	(y_min),
	)) }
	
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Presmartpark_State
	
	G90
	{% if printer.toolhead.position.z < z_height %}
	G0 Z{z_height}
	{% endif %}
	G0 X{x_min} Y{y_min} F{travel_speed}
	G0 Z{z_height}
	
	RESTORE_GCODE_STATE NAME=Presmartpark_State

[gcode_macro _KAMP_Settings]
description = This macro contains all adjustable settings for KAMP
variable_verbose_enable = True
variable_mesh_margin = 0
variable_fuzz_amount = 0
variable_probe_dock_enable = False
variable_attach_macro = 'Attach_Probe'
variable_detach_macro = 'Dock_Probe'
variable_purge_height = 0.8
variable_tip_distance = 0
variable_purge_margin = 10
variable_purge_amount = 30
variable_flow_rate = 12
variable_smart_park_height = 0.0
gcode = 
	
	{action_respond_info(" Running the KAMP_Settings macro does nothing, it is only used for storing KAMP settings. ")}

[exclude_object]

[neopixel panel_ring]
pin = PA8
chain_count = 16

[led_effect panel_idle]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  10 1 top (.5,.5,1)

[led_effect busy]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring
layers = 
	breathing  3 1 top (1,0,0)

[led_effect cleaning]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.02, 0.5)

[led_effect calibrating_z]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.0, 0.35)

[led_effect heating]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (1, 0.18, 0)

[led_effect cooling]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	breathing  3 1 top (0, 0, 1)

[led_effect homing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 0.6, 0.2)

[led_effect leveling]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.5, 0.1, 0.4)

[led_effect meshing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.2, 1.0, 0.0)

[led_effect printing]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.3, 0.3, 0.0),(0.3, 0.1, 0.0)

[led_effect standby]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.01, 0.01, 0.01)

[led_effect part_ready]
autostart = false
frame_rate = 24
leds = 
	neopixel:panel_ring  (1)
layers = 
	breathing  3 1 top (0.0, 1.0, 0.0)

[led_effect critical_error]
leds = 
	neopixel:panel_ring
layers = 
	strobe         1  1.5   add        (1.0,  1.0, 1.0)
	breathing      2  0     difference (0.95, 0.0, 0.0)
	static         1  0     top        (1.0,  0.0, 0.0)
autostart = false
frame_rate = 24
run_on_error = true

[led_effect rainbow]
leds = 
	neopixel:panel_ring (16-9)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect rainbow-back]
leds = 
	neopixel:panel_ring (1-8)
autostart = true
frame_rate = 24
layers = 
	gradient  0.3  1 add (0.3, 0.0, 0.0),(0.0, 0.3, 0.0),(0.0, 0.0, 0.3)

[led_effect set_nozzle_leds]
leds = 
	neopixel:panel_ring  (2,3)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (0.0,  0.0, 0.0, 1.0)

[led_effect set_logo_leds]
leds = 
	neopixel:panel_ring  (1)
autostart = false
frame_rate = 24
layers = 
	static         0  0     top        (1.0,  1.0, 1.0)

[gcode_macro set_logo_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_logo_leds STOP=1

[gcode_macro set_logo_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_logcritical_erroro_leds

[gcode_macro set_nozzle_leds_on]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds

[gcode_macro set_nozzle_leds_off]
gcode = 
	SET_LED_EFFECT EFFECT=set_nozzle_leds STOP=1

[gcode_macro status_off]
gcode = 
	STOP_LED_EFFECTS

[gcode_macro status_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=rainbow

[gcode_macro status_part_ready]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_nozzle_part_ready
	SET_LED_EFFECT EFFECT=sb_logo_part_ready

[gcode_macro status_busy]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_busy
	set_nozzle_leds_on

[gcode_macro status_heating]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_heating
	SET_LED_EFFECT EFFECT=sb_nozzle_heating

[gcode_macro status_cooling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cooling
	SET_LED_EFFECT EFFECT=sb_nozzle_cooling

[gcode_macro status_leveling]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_leveling
	set_nozzle_leds_on

[gcode_macro status_homing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_homing
	set_nozzle_leds_on

[gcode_macro status_cleaning]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_cleaning
	set_nozzle_leds_on

[gcode_macro status_meshing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_meshing
	set_nozzle_leds_on

[gcode_macro status_calibrating_z]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_calibrating_z
	set_nozzle_leds_on

[gcode_macro status_printing]
gcode = 
	STOP_LED_EFFECTS
	SET_LED_EFFECT EFFECT=sb_logo_printing
	set_nozzle_leds_on

[gcode_shell_command update_git_script]
command = bash -c "bash $HOME/klipper-backup/script.sh"
timeout = 90.0
verbose = True

[gcode_shell_command update_git_script_message]
command = bash -c "bash $HOME/klipper-backup/script.sh -c \"$0\""
timeout = 90.0
verbose = True

[mcu]
serial = /dev/ttyS3
restart_method = command

[output_pin Power]
pin = PC12
value = 1
shutdown_value = 1

[temperature_sensor orange_pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[heater_generic chamber_heater]
heater_pin = !PA7
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA5
control = watermark
max_power = 1
min_temp = 15
max_temp = 85

[verify_heater chamber_heater]
max_error = 9999
check_gain_time = 9999
hysteresis = 5
heating_gain = 2

[filament_motion_sensor motion_sensor]
detection_length = 50
extruder = extruder
switch_pin = !PC15
pause_on_runout = True
runout_gcode = 
	SONG_CRAB_RAVE

[bltouch]
sensor_pin = ^PC14
control_pin = PA1
x_offset = -40
y_offset = 0.000
z_offset = 1.70
pin_up_reports_not_triggered = False
probe_with_touch_mode = True

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC3
control = pid
pid_kp = 72.553
pid_ki = 1.154
pid_kd = 1139.994
min_temp = 5
max_temp = 125

[heater_fan radiator]
pin = PC7
max_power = 1.0
kick_start_time = 0.600
heater = extruder
heater_temp = 50.0
shutdown_speed = 1

[fan]
pin = PC6

[input_shaper]
shaper_type_x = 2hump_ei
shaper_freq_x = 43.0
shaper_type_y = mzv
shaper_freq_y = 32.6

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 1900
max_z_velocity = 30
max_z_accel = 100
square_corner_velocity = 4

[bed_mesh]
speed = 150
horizontal_move_z = 9
mesh_min = 10, 20
mesh_max = 195, 210
probe_count = 5
mesh_pps = 2, 3
algorithm = bicubic
bicubic_tension = 0.2
move_check_distance = 9
split_delta_z = .025
fade_start = 1
fade_end = 10
fade_target = 0

[screws_tilt_adjust]
screw1 = 79, 27
screw1_name = Peredniy Leviy
screw2 = 235, 27
screw2_name = Peredniy Praviy
screw3 = 235,197
screw3_name = Zadniy Praviy
screw4 = 79,197
screw4_name = Zadniy Leviy
speed = 120
horizontal_move_z = 9

[safe_z_home]
home_xy_position = 157,115
speed = 50
z_hop = 9.0
z_hop_speed = 20.0

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
position_min = -2
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
homing_retract_dist = 5
homing_speed = 50
second_homing_speed = 10
position_max = 231
position_min = 0

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.6
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 40
gear_ratio = 80:16
full_steps_per_rotation = 200
endstop_pin = probe:z_virtual_endstop
homing_retract_dist = 9
second_homing_speed = 10
position_min = -5
position_max = 245
homing_speed = 50

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
stealthchop_threshold = 999999
interpolate = false

[extruder]
step_pin = PB3
dir_pin = PB4
enable_pin = !PD2
microsteps = 16
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = ATC Semitec 104GT-2
sensor_pin = PA0
min_temp = 5
max_temp = 270
max_extrude_only_velocity = 120
max_extrude_only_accel = 3000
pressure_advance = 0.031
full_steps_per_rotation = 200
control = pid
pid_kp = 29.662
pid_ki = 2.382
pid_kd = 92.322

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.7
stealthchop_threshold = 999999

[static_digital_output usb_pullup_enable]
pins = !PA14

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = EXP1_7
sclk_pin = EXP1_6
sid_pin = EXP1_8
encoder_pins = ^EXP1_5, ^EXP1_3
click_pin = ^!EXP1_2

[pwm_cycle_time beeper]
pin = EXP1_1
shutdown_value = 0
cycle_time = 0.001

[firmware_retraction]
retract_length = 1.0
retract_speed = 80
unretract_extra_length = 0
unretract_speed = 80

[pwm_tool Laser]
pin = PA6
hardware_pwm = True
cycle_time = 0.001
shutdown_value = 0
maximum_mcu_duration = 5

[bed_mesh 70]
version = 1
points = 
	-0.045000, 0.027500, 0.015000
	-0.055000, -0.005000, -0.035000
	-0.007500, 0.040000, -0.002500
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0

[bed_mesh default]
version = 1
points = 
	0.020000, 0.025000, 0.030000, -0.007500, -0.052500
	0.015000, 0.017500, 0.022500, -0.007500, -0.057500
	0.030000, 0.030000, 0.037500, 0.002500, -0.035000
	0.012500, 0.030000, 0.050000, 0.035000, -0.010000
	0.080000, 0.087500, 0.115000, 0.097500, 0.067500
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 3
algo = bicubic
tension = 0.2
min_x = 10.0
max_x = 195.0
min_y = 20.0
max_y = 210.0
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 281472995225760: New connection
mcu 'mcu': got {'oid': 15, 'next_clock': 3207600000, 'value': 31218, '#name': 'analog_in_state', '#sent_time': 25.634884345000003, '#receive_time': 25.647785678}
mcu 'mcu': got {'oid': 19, 'next_clock': 3210480000, 'value': 31149, '#name': 'analog_in_state', '#sent_time': 25.634884345000003, '#receive_time': 25.688436303000003}
mcu 'mcu': got {'oid': 27, 'next_clock': 3216240000, 'value': 31156, '#name': 'analog_in_state', '#sent_time': 25.742196345, '#receive_time': 25.767805845}
webhooks client 281472995225760: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
mcu 'mcu': got {'oid': 15, 'next_clock': 3229200000, 'value': 31203, '#name': 'analog_in_state', '#sent_time': 25.90116897, '#receive_time': 25.947801261000002}
mcu 'mcu': got {'oid': 19, 'next_clock': 3232080000, 'value': 31137, '#name': 'analog_in_state', '#sent_time': 25.953377595000003, '#receive_time': 25.987776678000003}
Loaded MCU 'mcu' 118 commands (v0.12.0-404-g80d185c94 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 INITIAL_PINS=!PA14 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA3,PA2 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Starting heater checks for chamber_heater
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (50.0, 20.0)    | (10.0, 20.0)
  1   | (96.2, 20.0)    | (56.2, 20.0)
  2   | (142.5, 20.0)   | (102.5, 20.0)
  3   | (188.8, 20.0)   | (148.8, 20.0)
  4   | (235.0, 20.0)   | (195.0, 20.0)
  5   | (235.0, 67.5)   | (195.0, 67.5)
  6   | (188.8, 67.5)   | (148.8, 67.5)
  7   | (142.5, 67.5)   | (102.5, 67.5)
  8   | (96.2, 67.5)    | (56.2, 67.5)
  9   | (50.0, 67.5)    | (10.0, 67.5)
  10  | (50.0, 115.0)   | (10.0, 115.0)
  11  | (96.2, 115.0)   | (56.2, 115.0)
  12  | (142.5, 115.0)  | (102.5, 115.0)
  13  | (188.8, 115.0)  | (148.8, 115.0)
  14  | (235.0, 115.0)  | (195.0, 115.0)
  15  | (235.0, 162.5)  | (195.0, 162.5)
  16  | (188.8, 162.5)  | (148.8, 162.5)
  17  | (142.5, 162.5)  | (102.5, 162.5)
  18  | (96.2, 162.5)   | (56.2, 162.5)
  19  | (50.0, 162.5)   | (10.0, 162.5)
  20  | (50.0, 210.0)   | (10.0, 210.0)
  21  | (96.2, 210.0)   | (56.2, 210.0)
  22  | (142.5, 210.0)  | (102.5, 210.0)
  23  | (188.8, 210.0)  | (148.8, 210.0)
  24  | (235.0, 210.0)  | (195.0, 210.0)
Starting heater checks for extruder
Stats 26.6: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=3155 bytes_read=6276 bytes_retransmit=9 bytes_invalid=0 send_seq=222 receive_seq=219 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2065 upcoming_bytes=60 freq=71996233  orange_pi: temp=49.9 chamber_heater: target=0 temp=0.0 pwm=0.000 heater_bed: target=0 temp=0.0 pwm=0.000 sysload=2.32 cputime=5.094 memavail=1739940 print_time=45.401 buffer_time=0.189 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 281472995225760
webhooks: registering remote method 'reboot_machine' for connection id: 281472995225760
webhooks: registering remote method 'pause_job_queue' for connection id: 281472995225760
webhooks: registering remote method 'start_job_queue' for connection id: 281472995225760
Stats 27.6: gcodein=0  mcu: mcu_awake=0.062 mcu_task_avg=0.000121 mcu_task_stddev=0.000268 bytes_write=7122 bytes_read=7006 bytes_retransmit=9 bytes_invalid=0 send_seq=314 receive_seq=313 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997596  orange_pi: temp=49.4 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.32 cputime=5.228 memavail=1737708 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Stats 28.6: gcodein=0  mcu: mcu_awake=0.062 mcu_task_avg=0.000121 mcu_task_stddev=0.000268 bytes_write=9067 bytes_read=8009 bytes_retransmit=9 bytes_invalid=0 send_seq=395 receive_seq=395 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=72005668  orange_pi: temp=46.8 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.32 cputime=5.382 memavail=1736700 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Neopixel update did not succeed
Stats 29.6: gcodein=0  mcu: mcu_awake=0.062 mcu_task_avg=0.000121 mcu_task_stddev=0.000268 bytes_write=10788 bytes_read=8777 bytes_retransmit=9 bytes_invalid=0 send_seq=457 receive_seq=457 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=72001049  orange_pi: temp=47.3 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.32 cputime=5.493 memavail=1745012 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 30.6: gcodein=0  mcu: mcu_awake=0.062 mcu_task_avg=0.000121 mcu_task_stddev=0.000268 bytes_write=12622 bytes_read=9684 bytes_retransmit=9 bytes_invalid=0 send_seq=528 receive_seq=528 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71999326  orange_pi: temp=47.0 chamber_heater: target=0 temp=26.0 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.21 cputime=5.581 memavail=1753216 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 31.6: gcodein=0  mcu: mcu_awake=0.062 mcu_task_avg=0.000121 mcu_task_stddev=0.000268 bytes_write=14600 bytes_read=10797 bytes_retransmit=9 bytes_invalid=0 send_seq=617 receive_seq=616 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998569  orange_pi: temp=44.2 chamber_heater: target=0 temp=26.1 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.21 cputime=5.673 memavail=1753216 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 32.6: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000251 mcu_task_stddev=0.000251 bytes_write=16544 bytes_read=11873 bytes_retransmit=9 bytes_invalid=0 send_seq=701 receive_seq=701 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998236  orange_pi: temp=44.5 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.21 cputime=5.763 memavail=1753220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 33.6: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000251 mcu_task_stddev=0.000251 bytes_write=18291 bytes_read=12723 bytes_retransmit=9 bytes_invalid=0 send_seq=767 receive_seq=767 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998093  orange_pi: temp=43.6 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=2.21 cputime=5.843 memavail=1753220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 34.6: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000251 mcu_task_stddev=0.000251 bytes_write=20151 bytes_read=13672 bytes_retransmit=9 bytes_invalid=0 send_seq=843 receive_seq=843 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998052  orange_pi: temp=43.8 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.21 cputime=5.927 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 35.6: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000251 mcu_task_stddev=0.000251 bytes_write=22074 bytes_read=14619 bytes_retransmit=9 bytes_invalid=0 send_seq=921 receive_seq=920 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997991  orange_pi: temp=44.0 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.12 cputime=6.013 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 36.6: gcodein=0  mcu: mcu_awake=0.119 mcu_task_avg=0.000251 mcu_task_stddev=0.000251 bytes_write=23845 bytes_read=15534 bytes_retransmit=9 bytes_invalid=0 send_seq=991 receive_seq=991 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71997974  orange_pi: temp=44.0 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=26.9 pwm=0.000 sysload=2.12 cputime=6.094 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 37.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000279 mcu_task_stddev=0.000261 bytes_write=25675 bytes_read=16435 bytes_retransmit=9 bytes_invalid=0 send_seq=1062 receive_seq=1062 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998476  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.12 cputime=6.176 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 38.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000279 mcu_task_stddev=0.000261 bytes_write=27597 bytes_read=17408 bytes_retransmit=9 bytes_invalid=0 send_seq=1142 receive_seq=1141 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998339  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=2.12 cputime=6.262 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 39.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000279 mcu_task_stddev=0.000261 bytes_write=29463 bytes_read=18445 bytes_retransmit=9 bytes_invalid=0 send_seq=1222 receive_seq=1222 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998271  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.12 cputime=6.350 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.7 pwm=0.000
Stats 40.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000279 mcu_task_stddev=0.000261 bytes_write=31280 bytes_read=19328 bytes_retransmit=9 bytes_invalid=0 send_seq=1293 receive_seq=1293 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998205  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.03 cputime=6.431 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 41.6: gcodein=0  mcu: mcu_awake=0.130 mcu_task_avg=0.000279 mcu_task_stddev=0.000261 bytes_write=33116 bytes_read=20160 bytes_retransmit=9 bytes_invalid=0 send_seq=1363 receive_seq=1362 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998154  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.1 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=2.03 cputime=6.511 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 42.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000281 mcu_task_stddev=0.000258 bytes_write=34950 bytes_read=21103 bytes_retransmit=9 bytes_invalid=0 send_seq=1436 receive_seq=1436 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998118  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.03 cputime=6.596 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 43.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000281 mcu_task_stddev=0.000258 bytes_write=36751 bytes_read=21962 bytes_retransmit=9 bytes_invalid=0 send_seq=1504 receive_seq=1504 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998100  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=26.9 pwm=0.000 sysload=2.03 cputime=6.725 memavail=1752968 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 44.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000281 mcu_task_stddev=0.000258 bytes_write=38630 bytes_read=22942 bytes_retransmit=9 bytes_invalid=0 send_seq=1583 receive_seq=1583 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998079  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=2.03 cputime=6.812 memavail=1752972 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 45.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000281 mcu_task_stddev=0.000258 bytes_write=40447 bytes_read=23849 bytes_retransmit=9 bytes_invalid=0 send_seq=1654 receive_seq=1654 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998078  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.94 cputime=6.895 memavail=1752972 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 46.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000281 mcu_task_stddev=0.000258 bytes_write=42299 bytes_read=24767 bytes_retransmit=9 bytes_invalid=0 send_seq=1727 receive_seq=1727 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998078  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.94 cputime=6.977 memavail=1752972 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 47.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000263 bytes_write=44103 bytes_read=25601 bytes_retransmit=9 bytes_invalid=0 send_seq=1794 receive_seq=1794 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998068  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.94 cputime=7.057 memavail=1752972 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 48.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000263 bytes_write=45853 bytes_read=26383 bytes_retransmit=9 bytes_invalid=0 send_seq=1856 receive_seq=1856 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998064  orange_pi: temp=42.7 chamber_heater: target=0 temp=26.1 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.94 cputime=7.136 memavail=1752976 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 49.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000263 bytes_write=47690 bytes_read=27288 bytes_retransmit=9 bytes_invalid=0 send_seq=1928 receive_seq=1928 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998067  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.94 cputime=7.218 memavail=1752976 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 50.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000263 bytes_write=49672 bytes_read=28417 bytes_retransmit=9 bytes_invalid=0 send_seq=2020 receive_seq=2019 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998205  orange_pi: temp=42.9 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.87 cputime=7.307 memavail=1752976 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 51.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000283 mcu_task_stddev=0.000263 bytes_write=51415 bytes_read=29241 bytes_retransmit=9 bytes_invalid=0 send_seq=2084 receive_seq=2084 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998171  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=26.9 pwm=0.000 sysload=1.87 cputime=7.386 memavail=1752976 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 52.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=53289 bytes_read=30189 bytes_retransmit=9 bytes_invalid=0 send_seq=2158 receive_seq=2158 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998162  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.87 cputime=7.468 memavail=1752976 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 53.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=55170 bytes_read=31149 bytes_retransmit=9 bytes_invalid=0 send_seq=2236 receive_seq=2236 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998147  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.87 cputime=7.553 memavail=1752976 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 54.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=57087 bytes_read=32212 bytes_retransmit=9 bytes_invalid=0 send_seq=2320 receive_seq=2319 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998138  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.87 cputime=7.639 memavail=1752724 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Neopixel update did not succeed
Stats 55.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=59006 bytes_read=33247 bytes_retransmit=9 bytes_invalid=0 send_seq=2401 receive_seq=2401 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=0 freq=71998128  orange_pi: temp=46.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.80 cputime=7.727 memavail=1752724 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 56.6: gcodein=0  mcu: mcu_awake=0.131 mcu_task_avg=0.000280 mcu_task_stddev=0.000262 bytes_write=60769 bytes_read=34054 bytes_retransmit=9 bytes_invalid=0 send_seq=2466 receive_seq=2466 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998120  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.80 cputime=7.805 memavail=1752724 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 57.6: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000290 mcu_task_stddev=0.000262 bytes_write=62652 bytes_read=35069 bytes_retransmit=9 bytes_invalid=0 send_seq=2544 receive_seq=2544 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.80 cputime=7.891 memavail=1752724 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.7 pwm=0.000
Stats 58.6: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000290 mcu_task_stddev=0.000262 bytes_write=64407 bytes_read=35857 bytes_retransmit=9 bytes_invalid=0 send_seq=2607 receive_seq=2607 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998112  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.80 cputime=7.968 memavail=1752724 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 59.6: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000290 mcu_task_stddev=0.000262 bytes_write=66223 bytes_read=36695 bytes_retransmit=9 bytes_invalid=0 send_seq=2675 receive_seq=2675 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998108  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.3 pwm=0.000 sysload=1.80 cputime=8.053 memavail=1734076 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Neopixel update did not succeed
Stats 60.6: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000290 mcu_task_stddev=0.000262 bytes_write=68051 bytes_read=37581 bytes_retransmit=9 bytes_invalid=0 send_seq=2745 receive_seq=2745 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998113  orange_pi: temp=47.3 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.190 memavail=1741324 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 61.6: gcodein=0  mcu: mcu_awake=0.140 mcu_task_avg=0.000290 mcu_task_stddev=0.000262 bytes_write=69831 bytes_read=38460 bytes_retransmit=9 bytes_invalid=0 send_seq=2815 receive_seq=2815 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998110  orange_pi: temp=49.9 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.292 memavail=1739688 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 62.6: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000268 mcu_task_stddev=0.000259 bytes_write=71695 bytes_read=39367 bytes_retransmit=9 bytes_invalid=0 send_seq=2887 receive_seq=2887 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998108  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.374 memavail=1739536 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 63.6: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000268 mcu_task_stddev=0.000259 bytes_write=73556 bytes_read=40305 bytes_retransmit=9 bytes_invalid=0 send_seq=2962 receive_seq=2961 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998106  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.90 cputime=8.460 memavail=1738796 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 64.6: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000268 mcu_task_stddev=0.000259 bytes_write=75304 bytes_read=41158 bytes_retransmit=9 bytes_invalid=0 send_seq=3029 receive_seq=3029 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998103  orange_pi: temp=43.2 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.546 memavail=1734424 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Stats 65.6: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000268 mcu_task_stddev=0.000259 bytes_write=77251 bytes_read=42196 bytes_retransmit=9 bytes_invalid=0 send_seq=3113 receive_seq=3113 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998102  orange_pi: temp=45.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.668 memavail=1724784 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 66.6: gcodein=0  mcu: mcu_awake=0.121 mcu_task_avg=0.000268 mcu_task_stddev=0.000259 bytes_write=79016 bytes_read=42952 bytes_retransmit=9 bytes_invalid=0 send_seq=3173 receive_seq=3173 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998104  orange_pi: temp=46.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.770 memavail=1721368 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 67.6: gcodein=0  mcu: mcu_awake=0.112 mcu_task_avg=0.000249 mcu_task_stddev=0.000253 bytes_write=80718 bytes_read=43684 bytes_retransmit=9 bytes_invalid=0 send_seq=3231 receive_seq=3231 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998108  orange_pi: temp=47.4 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.865 memavail=1718452 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 68.6: gcodein=0  mcu: mcu_awake=0.112 mcu_task_avg=0.000249 mcu_task_stddev=0.000253 bytes_write=82550 bytes_read=44574 bytes_retransmit=9 bytes_invalid=0 send_seq=3303 receive_seq=3303 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998108  orange_pi: temp=44.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=8.948 memavail=1718460 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 69.6: gcodein=0  mcu: mcu_awake=0.112 mcu_task_avg=0.000249 mcu_task_stddev=0.000253 bytes_write=84420 bytes_read=45486 bytes_retransmit=9 bytes_invalid=0 send_seq=3375 receive_seq=3375 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998107  orange_pi: temp=43.7 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.90 cputime=9.034 memavail=1718460 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 70.6: gcodein=0  mcu: mcu_awake=0.112 mcu_task_avg=0.000249 mcu_task_stddev=0.000253 bytes_write=86198 bytes_read=46344 bytes_retransmit=9 bytes_invalid=0 send_seq=3444 receive_seq=3444 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=71998106  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.83 cputime=9.116 memavail=1718228 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.1 pwm=0.000
Stats 71.6: gcodein=0  mcu: mcu_awake=0.112 mcu_task_avg=0.000249 mcu_task_stddev=0.000253 bytes_write=87989 bytes_read=47195 bytes_retransmit=9 bytes_invalid=0 send_seq=3513 receive_seq=3513 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998110  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.83 cputime=9.196 memavail=1718228 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 72.6: gcodein=0  mcu: mcu_awake=0.120 mcu_task_avg=0.000268 mcu_task_stddev=0.000262 bytes_write=89863 bytes_read=48111 bytes_retransmit=9 bytes_invalid=0 send_seq=3584 receive_seq=3584 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.83 cputime=9.282 memavail=1718200 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 73.6: gcodein=0  mcu: mcu_awake=0.120 mcu_task_avg=0.000268 mcu_task_stddev=0.000262 bytes_write=91629 bytes_read=48852 bytes_retransmit=9 bytes_invalid=0 send_seq=3645 receive_seq=3644 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998115  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.83 cputime=9.358 memavail=1717948 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 74.6: gcodein=0  mcu: mcu_awake=0.120 mcu_task_avg=0.000268 mcu_task_stddev=0.000262 bytes_write=93321 bytes_read=49586 bytes_retransmit=9 bytes_invalid=0 send_seq=3704 receive_seq=3704 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998114  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.83 cputime=9.435 memavail=1717220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=27.0 pwm=0.000
Stats 75.6: gcodein=0  mcu: mcu_awake=0.120 mcu_task_avg=0.000268 mcu_task_stddev=0.000262 bytes_write=95204 bytes_read=50545 bytes_retransmit=9 bytes_invalid=0 send_seq=3779 receive_seq=3779 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998119  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=26.9 pwm=0.000 sysload=1.84 cputime=9.522 memavail=1717220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.7 pwm=0.000
Stats 76.6: gcodein=0  mcu: mcu_awake=0.120 mcu_task_avg=0.000268 mcu_task_stddev=0.000262 bytes_write=97043 bytes_read=51403 bytes_retransmit=9 bytes_invalid=0 send_seq=3849 receive_seq=3848 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998120  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.84 cputime=9.605 memavail=1717220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 77.6: gcodein=0  mcu: mcu_awake=0.118 mcu_task_avg=0.000270 mcu_task_stddev=0.000266 bytes_write=98746 bytes_read=52167 bytes_retransmit=9 bytes_invalid=0 send_seq=3909 receive_seq=3909 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998119  orange_pi: temp=43.1 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=26.9 pwm=0.000 sysload=1.84 cputime=9.682 memavail=1717220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 78.6: gcodein=0  mcu: mcu_awake=0.118 mcu_task_avg=0.000270 mcu_task_stddev=0.000266 bytes_write=100628 bytes_read=53165 bytes_retransmit=9 bytes_invalid=0 send_seq=3987 receive_seq=3987 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998122  orange_pi: temp=43.0 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.84 cputime=9.770 memavail=1717220 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 79.6: gcodein=0  mcu: mcu_awake=0.118 mcu_task_avg=0.000270 mcu_task_stddev=0.000266 bytes_write=102631 bytes_read=54283 bytes_retransmit=9 bytes_invalid=0 send_seq=4077 receive_seq=4076 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998123  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.2 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.84 cputime=9.862 memavail=1717232 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 80.6: gcodein=0  mcu: mcu_awake=0.118 mcu_task_avg=0.000270 mcu_task_stddev=0.000266 bytes_write=104430 bytes_read=55178 bytes_retransmit=9 bytes_invalid=0 send_seq=4149 receive_seq=4149 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998126  orange_pi: temp=43.4 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.78 cputime=9.953 memavail=1713980 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 81.6: gcodein=0  mcu: mcu_awake=0.118 mcu_task_avg=0.000270 mcu_task_stddev=0.000266 bytes_write=106214 bytes_read=56041 bytes_retransmit=9 bytes_invalid=0 send_seq=4216 receive_seq=4216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998128  orange_pi: temp=44.1 chamber_heater: target=0 temp=26.5 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.78 cputime=10.059 memavail=1716020 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 82.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=108086 bytes_read=56955 bytes_retransmit=9 bytes_invalid=0 send_seq=4288 receive_seq=4288 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=47.8 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.78 cputime=10.148 memavail=1717764 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 83.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=109871 bytes_read=57798 bytes_retransmit=9 bytes_invalid=0 send_seq=4357 receive_seq=4357 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=71998126  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.78 cputime=10.229 memavail=1717020 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.9 pwm=0.000
Stats 84.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=111757 bytes_read=58835 bytes_retransmit=9 bytes_invalid=0 send_seq=4438 receive_seq=4438 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998127  orange_pi: temp=43.5 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.1 pwm=0.000 sysload=1.78 cputime=10.317 memavail=1715788 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 85.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=113598 bytes_read=59706 bytes_retransmit=9 bytes_invalid=0 send_seq=4508 receive_seq=4508 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=2 upcoming_bytes=0 freq=71998182  orange_pi: temp=43.3 chamber_heater: target=0 temp=26.3 pwm=0.000 heater_bed: target=0 temp=27.2 pwm=0.000 sysload=1.71 cputime=10.401 memavail=1715536 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Stats 86.6: gcodein=0  mcu: mcu_awake=0.135 mcu_task_avg=0.000283 mcu_task_stddev=0.000259 bytes_write=115508 bytes_read=60666 bytes_retransmit=9 bytes_invalid=0 send_seq=4587 receive_seq=4586 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=71998179  orange_pi: temp=43.9 chamber_heater: target=0 temp=26.4 pwm=0.000 heater_bed: target=0 temp=27.0 pwm=0.000 sysload=1.71 cputime=10.498 memavail=1717532 print_time=45.401 buffer_time=0.000 print_stall=0 extruder: target=0 temp=26.8 pwm=0.000
Neopixel update did not succeed
Neopixel update did not succeed
webhooks client 281472995225760: Disconnected
Neopixel update did not succeed
Neopixel update did not succeed
webhooks client 281472999447504: New connection
webhooks client 281472999447504: Client info {'program': 'Moonraker', 'version': 'v0.9.3-4-ga4604e3'}
Neopixel update did not succeed
webhooks: registering remote method 'shutdown_machine' for connection id: 281472999447504
webhooks: registering remote method 'reboot_machine' for connection id: 281472999447504
webhooks: registering remote method 'pause_job_queue' for connection id: 281472999447504
webhooks: registering remote method 'start_job_queue' for connection id: 281472999447504
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Klipper-Backup is up to date


Initialized empty Git repository in /home/klipper/config_backup/.git/

From https://github.com/Ferz82/github-klipper-backup
 * branch            main       -> FETCH_HEAD

 * [new branch]      main       -> origin/main

Skipping symbolic link: printer_data/config/KAMP

Skipping symbolic link: printer_data/config/mainsail.cfg

[main 4af7681] New backup from 02.01.2025 - 03:53:18
 9 files changed, 2109 insertions(+), 2 deletions(-)
 delete mode 160000 mainsail-config
 create mode 100644 printer_data/config/KAMP_Settings.cfg
 create mode 100644 printer_data/config/led.cfg
 create mode 100644 printer_data/config/macros.cfg
 create mode 100644 printer_data/config/moonraker.conf
 create mode 100644 printer_data/config/printer.cfg
 create mode 100644 printer_data/config/shell_command.cfg
 create mode 100644 printer_data/config/timelapse.cfg

From https://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@github.com/Ferz82/github-klipper-backup.git

To https://github.com/Ferz82/github-klipper-backup.git
   2bda863..4af7681  main -> main

Branch 'main' set up to track remote branch 'main' from 'origin'.

Command {update_git_script} finished

Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Neopixel update did not succeed
Running Command {update_git_script}...:
[1;93m●[0m Checking for installed dependencies /[K[1;92m●[0m Checking for installed dependencies [1;92mDone![0m


Klipper-Backup is up to date


From https://github.com/Ferz82/github-klipper-backup
 * branch            main       -> FETCH_HEAD

Already up to date.

skipping non-regular file "printer_data/comms/klippy.serial"
skipping non-regular file "printer_data/comms/klippy.sock"
skipping non-regular file "printer_data/comms/moonraker.sock"

skipping non-regular file "printer_data/config/KAMP"
skipping non-regular file "printer_data/config/mainsail.cfg"

Neopixel update did not succeed
